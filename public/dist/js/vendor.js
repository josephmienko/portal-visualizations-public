function stackBlurImage(t,e,n,i){var r=document.getElementById(t),o=r.naturalWidth,s=r.naturalHeight,a=document.getElementById(e);a.style.width=o+"px",a.style.height=s+"px",a.width=o,a.height=s;var l=a.getContext("2d");l.clearRect(0,0,o,s),l.drawImage(r,0,0),isNaN(n)||n<1||(i?stackBlurCanvasRGBA(e,0,0,o,s,n):stackBlurCanvasRGB(e,0,0,o,s,n))}function stackBlurCanvasRGBA(t,e,n,i,r,o){if(!(isNaN(o)||o<1)){o|=0;var s,a=document.getElementById(t),l=a.getContext("2d");try{try{s=l.getImageData(e,n,i,r)}catch(u){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),s=l.getImageData(e,n,i,r)}catch(u){throw alert("Cannot access local image"),new Error("unable to access local image data: "+u)}}}catch(u){throw alert("Cannot access image"),new Error("unable to access image data: "+u)}var h,c,f,d,p,g,m,v,y,b,x,w,_,M,C,P,E,k,S,T,A,N,z,I,D=s.data,O=o+o+1,R=i-1,B=r-1,H=o+1,V=H*(H+1)/2,L=new BlurStack,W=L;for(f=1;f<O;f++)if(W=W.next=new BlurStack,f==H)var q=W;W.next=L;var F=null,j=null;m=g=0;var $=mul_table[o],U=shg_table[o];for(c=0;c<r;c++){for(P=E=k=S=v=y=b=x=0,w=H*(T=D[g]),_=H*(A=D[g+1]),M=H*(N=D[g+2]),C=H*(z=D[g+3]),v+=V*T,y+=V*A,b+=V*N,x+=V*z,W=L,f=0;f<H;f++)W.r=T,W.g=A,W.b=N,W.a=z,W=W.next;for(f=1;f<H;f++)d=g+((R<f?R:f)<<2),v+=(W.r=T=D[d])*(I=H-f),y+=(W.g=A=D[d+1])*I,b+=(W.b=N=D[d+2])*I,x+=(W.a=z=D[d+3])*I,P+=T,E+=A,k+=N,S+=z,W=W.next;for(F=L,j=q,h=0;h<i;h++)D[g+3]=z=x*$>>U,0!=z?(z=255/z,D[g]=(v*$>>U)*z,D[g+1]=(y*$>>U)*z,D[g+2]=(b*$>>U)*z):D[g]=D[g+1]=D[g+2]=0,v-=w,y-=_,b-=M,x-=C,w-=F.r,_-=F.g,M-=F.b,C-=F.a,d=m+((d=h+o+1)<R?d:R)<<2,P+=F.r=D[d],E+=F.g=D[d+1],k+=F.b=D[d+2],S+=F.a=D[d+3],v+=P,y+=E,b+=k,x+=S,F=F.next,w+=T=j.r,_+=A=j.g,M+=N=j.b,C+=z=j.a,P-=T,E-=A,k-=N,S-=z,j=j.next,g+=4;m+=i}for(h=0;h<i;h++){for(E=k=S=P=y=b=x=v=0,g=h<<2,w=H*(T=D[g]),_=H*(A=D[g+1]),M=H*(N=D[g+2]),C=H*(z=D[g+3]),v+=V*T,y+=V*A,b+=V*N,x+=V*z,W=L,f=0;f<H;f++)W.r=T,W.g=A,W.b=N,W.a=z,W=W.next;for(p=i,f=1;f<=o;f++)g=p+h<<2,v+=(W.r=T=D[g])*(I=H-f),y+=(W.g=A=D[g+1])*I,b+=(W.b=N=D[g+2])*I,x+=(W.a=z=D[g+3])*I,P+=T,E+=A,k+=N,S+=z,W=W.next,f<B&&(p+=i);for(g=h,F=L,j=q,c=0;c<r;c++)d=g<<2,D[d+3]=z=x*$>>U,z>0?(z=255/z,D[d]=(v*$>>U)*z,D[d+1]=(y*$>>U)*z,D[d+2]=(b*$>>U)*z):D[d]=D[d+1]=D[d+2]=0,v-=w,y-=_,b-=M,x-=C,w-=F.r,_-=F.g,M-=F.b,C-=F.a,d=h+((d=c+H)<B?d:B)*i<<2,v+=P+=F.r=D[d],y+=E+=F.g=D[d+1],b+=k+=F.b=D[d+2],x+=S+=F.a=D[d+3],F=F.next,w+=T=j.r,_+=A=j.g,M+=N=j.b,C+=z=j.a,P-=T,E-=A,k-=N,S-=z,j=j.next,g+=i}l.putImageData(s,e,n)}}function stackBlurCanvasRGB(t,e,n,i,r,o){if(!(isNaN(o)||o<1)){o|=0;var s,a=document.getElementById(t),l=a.getContext("2d");try{try{s=l.getImageData(e,n,i,r)}catch(u){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),s=l.getImageData(e,n,i,r)}catch(u){throw alert("Cannot access local image"),new Error("unable to access local image data: "+u)}}}catch(u){throw alert("Cannot access image"),new Error("unable to access image data: "+u)}var h,c,f,d,p,g,m,v,y,b,x,w,_,M,C,P,E,k,S,T,A=s.data,N=o+o+1,z=i-1,I=r-1,D=o+1,O=D*(D+1)/2,R=new BlurStack,B=R;for(f=1;f<N;f++)if(B=B.next=new BlurStack,f==D)var H=B;B.next=R;var V=null,L=null;m=g=0;var W=mul_table[o],q=shg_table[o];for(c=0;c<r;c++){for(M=C=P=v=y=b=0,x=D*(E=A[g]),w=D*(k=A[g+1]),_=D*(S=A[g+2]),v+=O*E,y+=O*k,b+=O*S,B=R,f=0;f<D;f++)B.r=E,B.g=k,B.b=S,B=B.next;for(f=1;f<D;f++)d=g+((z<f?z:f)<<2),v+=(B.r=E=A[d])*(T=D-f),y+=(B.g=k=A[d+1])*T,b+=(B.b=S=A[d+2])*T,M+=E,C+=k,P+=S,B=B.next;for(V=R,L=H,h=0;h<i;h++)A[g]=v*W>>q,A[g+1]=y*W>>q,A[g+2]=b*W>>q,v-=x,y-=w,b-=_,x-=V.r,w-=V.g,_-=V.b,d=m+((d=h+o+1)<z?d:z)<<2,M+=V.r=A[d],C+=V.g=A[d+1],P+=V.b=A[d+2],v+=M,y+=C,b+=P,V=V.next,x+=E=L.r,w+=k=L.g,_+=S=L.b,M-=E,C-=k,P-=S,L=L.next,g+=4;m+=i}for(h=0;h<i;h++){for(C=P=M=y=b=v=0,g=h<<2,x=D*(E=A[g]),w=D*(k=A[g+1]),_=D*(S=A[g+2]),v+=O*E,y+=O*k,b+=O*S,B=R,f=0;f<D;f++)B.r=E,B.g=k,B.b=S,B=B.next;for(p=i,f=1;f<=o;f++)g=p+h<<2,v+=(B.r=E=A[g])*(T=D-f),y+=(B.g=k=A[g+1])*T,b+=(B.b=S=A[g+2])*T,M+=E,C+=k,P+=S,B=B.next,f<I&&(p+=i);for(g=h,V=R,L=H,c=0;c<r;c++)d=g<<2,A[d]=v*W>>q,A[d+1]=y*W>>q,A[d+2]=b*W>>q,v-=x,y-=w,b-=_,x-=V.r,w-=V.g,_-=V.b,d=h+((d=c+D)<I?d:I)*i<<2,v+=M+=V.r=A[d],y+=C+=V.g=A[d+1],b+=P+=V.b=A[d+2],V=V.next,x+=E=L.r,w+=k=L.g,_+=S=L.b,M-=E,C-=k,P-=S,L=L.next,g+=i}l.putImageData(s,e,n)}}function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function RGBColor(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in e)t==n&&(t=e[n]);for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<i.length;r++){var o=i[r].re,s=i[r].process,a=o.exec(t);a&&(channels=s(a),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=new Array,n=0;n<i.length;n++)for(var r=i[n].example,o=0;o<r.length;o++)t[t.length]=r[o];for(var s in e)t[t.length]=s;var a=document.createElement("ul");a.setAttribute("id","rgbcolor-examples");for(var n=0;n<t.length;n++)try{var l=document.createElement("li"),u=new RGBColor(t[n]),h=document.createElement("div");h.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),h.appendChild(document.createTextNode("test"));var c=document.createTextNode(" "+t[n]+" -> "+u.toRGB()+" -> "+u.toHex());l.appendChild(h),l.appendChild(c),a.appendChild(l)}catch(f){}return a}}jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,r){return jQuery.easing[jQuery.easing.def](t,e,n,i,r)},easeInQuad:function(t,e,n,i,r){return i*(e/=r)*e+n},easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n},easeInOutQuad:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,r){return i*(e/=r)*e*e+n},easeOutCubic:function(t,e,n,i,r){return i*((e=e/r-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,r){return i*(e/=r)*e*e*e+n},easeOutQuart:function(t,e,n,i,r){return-i*((e=e/r-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,r){return i*(e/=r)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,r){return i*((e=e/r-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,r){return-i*Math.cos(e/r*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,r){return i*Math.sin(e/r*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,r){return-i/2*(Math.cos(Math.PI*e/r)-1)+n},easeInExpo:function(t,e,n,i,r){return 0==e?n:i*Math.pow(2,10*(e/r-1))+n},easeOutExpo:function(t,e,n,i,r){return e==r?n+i:i*(-Math.pow(2,-10*e/r)+1)+n},easeInOutExpo:function(t,e,n,i,r){return 0==e?n:e==r?n+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(t,e,n,i,r){return-i*(Math.sqrt(1-(e/=r)*e)-1)+n},easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeInOutCirc:function(t,e,n,i,r){return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s||(s=.3*r),a<Math.abs(i)){a=i;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(i/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*r-o)*Math.PI/s))+n},easeOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s||(s=.3*r),a<Math.abs(i)){a=i;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin(2*(e*r-o)*Math.PI/s)+i+n},easeInOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(2==(e/=r/2))return n+i;if(s||(s=.3*r*1.5),a<Math.abs(i)){a=i;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(i/a);return 1>e?-.5*a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*r-o)*Math.PI/s)+n:a*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*r-o)*Math.PI/s)*.5+i+n},easeInBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),i*(e/=r)*e*((o+1)*e-o)+n},easeOutBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),i*((e=e/r-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(t,e,n,i,r,o){return void 0==o&&(o=1.70158),(e/=r/2)<1?i/2*e*e*(((o*=1.525)+1)*e-o)+n:i/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+n},easeInBounce:function(t,e,n,i,r){return i-jQuery.easing.easeOutBounce(t,r-e,0,i,r)+n},easeOutBounce:function(t,e,n,i,r){return(e/=r)<1/2.75?7.5625*i*e*e+n:2/2.75>e?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:2.5/2.75>e?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,r){return r/2>e?.5*jQuery.easing.easeInBounce(t,2*e,0,i,r)+n:.5*jQuery.easing.easeOutBounce(t,2*e-r,0,i,r)+.5*i+n}}),jQuery.extend(jQuery.easing,{easeInOutMaterial:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:i/4*((e-=2)*e*e+2)+n}}),!function(t){function e(t){var e=t.length,i=n.type(t);return"function"!==i&&!n.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}if(!t.jQuery){var n=function(t,e){return new n.fn.init(t,e)};n.isWindow=function(t){return null!=t&&t==t.window},n.type=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?r[s.call(t)]||"object":typeof t},n.isArray=Array.isArray||function(t){return"array"===n.type(t)},n.isPlainObject=function(t){var e;if(!t||"object"!==n.type(t)||t.nodeType||n.isWindow(t))return!1;try{if(t.constructor&&!o.call(t,"constructor")&&!o.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(e in t);return void 0===e||o.call(t,e)},n.each=function(t,n,i){var r,o=0,s=t.length,a=e(t);if(i){if(a)for(;s>o&&(r=n.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=n.apply(t[o],i),r===!1)break}else if(a)for(;s>o&&(r=n.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=n.call(t[o],o,t[o]),r===!1)break;return t},n.data=function(t,e,r){if(void 0===r){var o=t[n.expando],s=o&&i[o];if(void 0===e)return s;if(s&&e in s)return s[e]}else if(void 0!==e){var o=t[n.expando]||(t[n.expando]=++n.uuid);return i[o]=i[o]||{},i[o][e]=r,r}},n.removeData=function(t,e){var r=t[n.expando],o=r&&i[r];o&&n.each(e,function(t,e){delete o[e]})},n.extend=function(){var t,e,i,r,o,s,a=arguments[0]||{},l=1,u=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[l]||{},l++),"object"!=typeof a&&"function"!==n.type(a)&&(a={}),l===u&&(a=this,l--);u>l;l++)if(null!=(o=arguments[l]))for(r in o)t=a[r],i=o[r],a!==i&&(h&&i&&(n.isPlainObject(i)||(e=n.isArray(i)))?(e?(e=!1,s=t&&n.isArray(t)?t:[]):s=t&&n.isPlainObject(t)?t:{},a[r]=n.extend(h,s,i)):void 0!==i&&(a[r]=i));return a},n.queue=function(t,i,r){function o(t,n){var i=n||[];return null!=t&&(e(Object(t))?!function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t}(i,"string"==typeof t?[t]:t):[].push.call(i,t)),i}if(t){i=(i||"fx")+"queue";var s=n.data(t,i);return r?(!s||n.isArray(r)?s=n.data(t,i,o(r)):s.push(r),s):s||[]}},n.dequeue=function(t,e){n.each(t.nodeType?[t]:t,function(t,i){e=e||"fx";var r=n.queue(i,e),o=r.shift();"inprogress"===o&&(o=r.shift()),o&&("fx"===e&&r.unshift("inprogress"),o.call(i,function(){n.dequeue(i,e)}))})},n.fn=n.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function t(){for(var t=this.offsetParent||document;t&&"html"===!t.nodeType.toLowerCase&&"static"===t.style.position;)t=t.offsetParent;return t||document}var e=this[0],t=t.apply(e),i=this.offset(),r=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:n(t).offset();return i.top-=parseFloat(e.style.marginTop)||0,i.left-=parseFloat(e.style.marginLeft)||0,t.style&&(r.top+=parseFloat(t.style.borderTopWidth)||0,r.left+=parseFloat(t.style.borderLeftWidth)||0),{top:i.top-r.top,left:i.left-r.left}}};var i={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var r={},o=r.hasOwnProperty,s=r.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<a.length;l++)r["[object "+a[l]+"]"]=a[l].toLowerCase();n.fn.init.prototype=n.fn,t.Velocity={Utilities:n}}}(window),function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):t()}(function(){return function(t,e,n,i){function r(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var r=t[e];r&&i.push(r)}return i}function o(t){return g.isWrapped(t)?t=[].slice.call(t):g.isNode(t)&&(t=[t]),t}function s(t){var e=f.data(t,"velocity");return null===e?i:e}function a(t){return function(e){return Math.round(e*t)*(1/t)}}function l(t,n,i,r){function o(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function a(t){return 3*t}function l(t,e,n){return((o(e,n)*t+s(e,n))*t+a(e))*t}function u(t,e,n){return 3*o(e,n)*t*t+2*s(e,n)*t+a(e)}function h(e,n){for(var r=0;g>r;++r){var o=u(n,t,i);if(0===o)return n;var s=l(n,t,i)-e;n-=s/o}return n}function c(){for(var e=0;b>e;++e)M[e]=l(e*x,t,i)}function f(e,n,r){var o,s,a=0;do s=n+(r-n)/2,o=l(s,t,i)-e,o>0?r=s:n=s;while(Math.abs(o)>v&&++a<y);return s}function d(e){for(var n=0,r=1,o=b-1;r!=o&&M[r]<=e;++r)n+=x;--r;var s=(e-M[r])/(M[r+1]-M[r]),a=n+s*x,l=u(a,t,i);return l>=m?h(e,a):0==l?a:f(e,n,n+x)}function p(){C=!0,(t!=n||i!=r)&&c()}var g=4,m=.001,v=1e-7,y=10,b=11,x=1/(b-1),w="Float32Array"in e;if(4!==arguments.length)return!1;for(var _=0;4>_;++_)if("number"!=typeof arguments[_]||isNaN(arguments[_])||!isFinite(arguments[_]))return!1;t=Math.min(t,1),i=Math.min(i,1),t=Math.max(t,0),i=Math.max(i,0);var M=w?new Float32Array(b):new Array(b),C=!1,P=function(e){return C||p(),t===n&&i===r?e:0===e?0:1===e?1:l(d(e),n,r)};P.getControlPoints=function(){return[{x:t,y:n},{x:i,y:r}]};var E="generateBezier("+[t,n,i,r]+")";return P.toString=function(){return E},P}function u(t,e){var n=t;return g.isString(t)?b.Easings[t]||(n=!1):n=g.isArray(t)&&1===t.length?a.apply(null,t):g.isArray(t)&&2===t.length?x.apply(null,t.concat([e])):!(!g.isArray(t)||4!==t.length)&&l.apply(null,t),n===!1&&(n=b.Easings[b.defaults.easing]?b.defaults.easing:y),n}function h(t){if(t){var e=(new Date).getTime(),n=b.State.calls.length;n>1e4&&(b.State.calls=r(b.State.calls));for(var o=0;n>o;o++)if(b.State.calls[o]){var a=b.State.calls[o],l=a[0],u=a[2],d=a[3],p=!!d,m=null;d||(d=b.State.calls[o][3]=e-16);for(var v=Math.min((e-d)/u.duration,1),y=0,x=l.length;x>y;y++){var _=l[y],C=_.element;if(s(C)){var P=!1;if(u.display!==i&&null!==u.display&&"none"!==u.display){if("flex"===u.display){var E=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];f.each(E,function(t,e){w.setPropertyValue(C,"display",e)})}w.setPropertyValue(C,"display",u.display)}u.visibility!==i&&"hidden"!==u.visibility&&w.setPropertyValue(C,"visibility",u.visibility);for(var k in _)if("element"!==k){var S,T=_[k],A=g.isString(T.easing)?b.Easings[T.easing]:T.easing;if(1===v)S=T.endValue;else{var N=T.endValue-T.startValue;if(S=T.startValue+N*A(v,u,N),!p&&S===T.currentValue)continue}if(T.currentValue=S,"tween"===k)m=S;else{if(w.Hooks.registered[k]){var z=w.Hooks.getRoot(k),I=s(C).rootPropertyValueCache[z];I&&(T.rootPropertyValue=I)}var D=w.setPropertyValue(C,k,T.currentValue+(0===parseFloat(S)?"":T.unitType),T.rootPropertyValue,T.scrollData);w.Hooks.registered[k]&&(s(C).rootPropertyValueCache[z]=w.Normalizations.registered[z]?w.Normalizations.registered[z]("extract",null,D[1]):D[1]),"transform"===D[0]&&(P=!0)}}u.mobileHA&&s(C).transformCache.translate3d===i&&(s(C).transformCache.translate3d="(0px, 0px, 0px)",P=!0),P&&w.flushTransformCache(C)}}u.display!==i&&"none"!==u.display&&(b.State.calls[o][2].display=!1),u.visibility!==i&&"hidden"!==u.visibility&&(b.State.calls[o][2].visibility=!1),u.progress&&u.progress.call(a[1],a[1],v,Math.max(0,d+u.duration-e),d,m),1===v&&c(o)}}b.State.isTicking&&M(h)}function c(t,e){if(!b.State.calls[t])return!1;for(var n=b.State.calls[t][0],r=b.State.calls[t][1],o=b.State.calls[t][2],a=b.State.calls[t][4],l=!1,u=0,h=n.length;h>u;u++){var c=n[u].element;if(e||o.loop||("none"===o.display&&w.setPropertyValue(c,"display",o.display),"hidden"===o.visibility&&w.setPropertyValue(c,"visibility",o.visibility)),o.loop!==!0&&(f.queue(c)[1]===i||!/\.velocityQueueEntryFlag/i.test(f.queue(c)[1]))&&s(c)){s(c).isAnimating=!1,s(c).rootPropertyValueCache={};var d=!1;f.each(w.Lists.transforms3D,function(t,e){var n=/^scale/.test(e)?1:0,r=s(c).transformCache[e];s(c).transformCache[e]!==i&&new RegExp("^\\("+n+"[^.]").test(r)&&(d=!0,delete s(c).transformCache[e])}),o.mobileHA&&(d=!0,delete s(c).transformCache.translate3d),d&&w.flushTransformCache(c),w.Values.removeClass(c,"velocity-animating")}if(!e&&o.complete&&!o.loop&&u===h-1)try{o.complete.call(r,r)}catch(p){setTimeout(function(){throw p},1)}a&&o.loop!==!0&&a(r),s(c)&&o.loop===!0&&!e&&(f.each(s(c).tweensContainer,function(t,e){/^rotate/.test(t)&&360===parseFloat(e.endValue)&&(e.endValue=0,e.startValue=360),/^backgroundPosition/.test(t)&&100===parseFloat(e.endValue)&&"%"===e.unitType&&(e.endValue=0,e.startValue=100)}),b(c,"reverse",{loop:!0,delay:o.delay})),o.queue!==!1&&f.dequeue(c,o.queue)}b.State.calls[t]=!1;for(var g=0,m=b.State.calls.length;m>g;g++)if(b.State.calls[g]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var f,d=function(){if(n.documentMode)return n.documentMode;for(var t=7;t>4;t--){var e=n.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return i}(),p=function(){var t=0;return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){var n,i=(new Date).getTime();return n=Math.max(0,16-(i-t)),t=i+n,setTimeout(function(){e(i+n)},n)}}(),g={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==i&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||e.Zepto&&e.Zepto.zepto.isZ(t))},isSVG:function(t){return e.SVGElement&&t instanceof e.SVGElement},isEmptyObject:function(t){for(var e in t)return!1;return!0}},m=!1;if(t.fn&&t.fn.jquery?(f=t,m=!0):f=e.Velocity.Utilities,8>=d&&!m)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=d)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,y="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:f,Redirects:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:v,easing:y,begin:i,complete:i,progress:i,display:i,visibility:i,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(t){f.data(t,"velocity",{isSVG:g.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};e.pageYOffset!==i?(b.State.scrollAnchor=e,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var x=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,i){var r={x:e.x+i.dx*n,v:e.v+i.dv*n,tension:e.tension,friction:e.friction};return{dx:r.v,dv:t(r)}}function n(n,i){var r={dx:n.v,dv:t(n)},o=e(n,.5*i,r),s=e(n,.5*i,o),a=e(n,i,s),l=1/6*(r.dx+2*(o.dx+s.dx)+a.dx),u=1/6*(r.dv+2*(o.dv+s.dv)+a.dv);return n.x=n.x+l*i,n.v=n.v+u*i,n}return function i(t,e,r){var o,s,a,l={x:-1,v:0,tension:null,friction:null},u=[0],h=0,c=1e-4,f=.016;for(t=parseFloat(t)||500,e=parseFloat(e)||20,r=r||null,l.tension=t,l.friction=e,o=null!==r,o?(h=i(t,e),s=h/r*f):s=f;a=n(a||l,s),u.push(1+a.x),h+=16,Math.abs(a.x)>c&&Math.abs(a.v)>c;);return o?function(t){return u[t*(u.length-1)|0]}:h}}();b.Easings={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},f.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(t,e){b.Easings[e[0]]=l.apply(null,e[1])});var w=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<w.Lists.colors.length;t++){var e="color"===w.Lists.colors[t]?"0 0 0 1":"255 255 255 1";w.Hooks.templates[w.Lists.colors[t]]=["Red Green Blue Alpha",e]}var n,i,r;if(d)for(n in w.Hooks.templates){i=w.Hooks.templates[n],r=i[0].split(" ");var o=i[1].match(w.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),o.push(o.shift()),w.Hooks.templates[n]=[r.join(" "),o.join(" ")])}for(n in w.Hooks.templates){i=w.Hooks.templates[n],r=i[0].split(" ");for(var t in r){var s=n+r[t],a=t;w.Hooks.registered[s]=[n,a]}}},getRoot:function(t){var e=w.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return w.RegEx.valueUnwrap.test(e)&&(e=e.match(w.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(e)&&(e=w.Hooks.templates[t][1]),e},extractValue:function(t,e){var n=w.Hooks.registered[t];if(n){var i=n[0],r=n[1];return e=w.Hooks.cleanRootPropertyValue(i,e),e.toString().match(w.RegEx.valueSplit)[r]}return e},injectValue:function(t,e,n){var i=w.Hooks.registered[t];if(i){var r,o,s=i[0],a=i[1];return n=w.Hooks.cleanRootPropertyValue(s,n),r=n.toString().match(w.RegEx.valueSplit),r[a]=e,o=r.join(" ")}return n}},Normalizations:{registered:{clip:function(t,e,n){switch(t){case"name":return"clip";case"extract":var i;return w.RegEx.wrappedValueAlreadyExtracted.test(n)?i=n:(i=n.toString().match(w.RegEx.valueUnwrap),i=i?i[1].replace(/,(\s+)?/g," "):n),i;case"inject":return"rect("+n+")"}},blur:function(t,e,n){switch(t){case"name":return b.State.isFirefox?"filter":"-webkit-filter";case"extract":var i=parseFloat(n);if(!i&&0!==i){var r=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);i=r?r[1]:0}return i;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(t,e,n){if(8>=d)switch(t){case"name":return"filter";case"extract":var i=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=i?i[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(t){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=d||b.State.isGingerbread||(w.Lists.transformsBase=w.Lists.transformsBase.concat(w.Lists.transforms3D));for(var t=0;t<w.Lists.transformsBase.length;t++)!function(){var e=w.Lists.transformsBase[t];w.Normalizations.registered[e]=function(t,n,r){switch(t){case"name":return"transform";case"extract":return s(n)===i||s(n).transformCache[e]===i?/^scale/i.test(e)?1:0:s(n).transformCache[e].replace(/[()]/g,"");case"inject":var o=!1;switch(e.substr(0,e.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":b.State.isAndroid&&s(n).transformCache[e]===i&&1>r&&(r=1),o=!/(\d)$/i.test(r);break;case"skew":o=!/(deg|\d)$/i.test(r);break;case"rotate":o=!/(deg|\d)$/i.test(r)}return o||(s(n).transformCache[e]="("+r+")"),s(n).transformCache[e]}}}();for(var t=0;t<w.Lists.colors.length;t++)!function(){var e=w.Lists.colors[t];w.Normalizations.registered[e]=function(t,n,r){switch(t){case"name":return e;case"extract":var o;if(w.RegEx.wrappedValueAlreadyExtracted.test(r))o=r;else{var s,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?s=a[r]!==i?a[r]:a.black:w.RegEx.isHex.test(r)?s="rgb("+w.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(s=a.black),o=(s||r).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=d||3!==o.split(" ").length||(o+=" 1"),o;case"inject":return 8>=d?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(8>=d?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(d||b.State.isAndroid&&!b.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(b.State.prefixMatches[t])return[b.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],n=0,i=e.length;i>n;n++){var r;if(r=0===n?t:e[n]+t.replace(/^\w/,function(t){return t.toUpperCase()}),g.isString(b.State.prefixElement.style[r]))return b.State.prefixMatches[t]=r,[r,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(n,function(t,e,n,i){return e+e+n+n+i+i}),e=i.exec(t),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t&&t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":/^(table)$/i.test(e)?"table":/^(tbody)$/i.test(e)?"table-row-group":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,n,r,o){function a(t,n){function r(){u&&w.setPropertyValue(t,"display","none")}var l=0;if(8>=d)l=f.css(t,n);else{var u=!1;if(/^(width|height)$/.test(n)&&0===w.getPropertyValue(t,"display")&&(u=!0,w.setPropertyValue(t,"display",w.Values.getDisplayType(t))),!o){if("height"===n&&"border-box"!==w.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var h=t.offsetHeight-(parseFloat(w.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(w.getPropertyValue(t,"paddingBottom"))||0);
return r(),h}if("width"===n&&"border-box"!==w.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var c=t.offsetWidth-(parseFloat(w.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(t,"paddingRight"))||0);return r(),c}}var p;p=s(t)===i?e.getComputedStyle(t,null):s(t).computedStyle?s(t).computedStyle:s(t).computedStyle=e.getComputedStyle(t,null),"borderColor"===n&&(n="borderTopColor"),l=9===d&&"filter"===n?p.getPropertyValue(n):p[n],(""===l||null===l)&&(l=t.style[n]),r()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(n)){var g=a(t,"position");("fixed"===g||"absolute"===g&&/top|left/i.test(n))&&(l=f(t).position()[n]+"px")}return l}var l;if(w.Hooks.registered[n]){var u=n,h=w.Hooks.getRoot(u);r===i&&(r=w.getPropertyValue(t,w.Names.prefixCheck(h)[0])),w.Normalizations.registered[h]&&(r=w.Normalizations.registered[h]("extract",t,r)),l=w.Hooks.extractValue(u,r)}else if(w.Normalizations.registered[n]){var c,p;c=w.Normalizations.registered[n]("name",t),"transform"!==c&&(p=a(t,w.Names.prefixCheck(c)[0]),w.Values.isCSSNullValue(p)&&w.Hooks.templates[n]&&(p=w.Hooks.templates[n][1])),l=w.Normalizations.registered[n]("extract",t,p)}if(!/^[\d-]/.test(l))if(s(t)&&s(t).isSVG&&w.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{l=t.getBBox()[n]}catch(g){l=0}else l=t.getAttribute(n);else l=a(t,w.Names.prefixCheck(n)[0]);return w.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log("Get "+n+": "+l),l},setPropertyValue:function(t,n,i,r,o){var a=n;if("scroll"===n)o.container?o.container["scroll"+o.direction]=i:"Left"===o.direction?e.scrollTo(i,o.alternateValue):e.scrollTo(o.alternateValue,i);else if(w.Normalizations.registered[n]&&"transform"===w.Normalizations.registered[n]("name",t))w.Normalizations.registered[n]("inject",t,i),a="transform",i=s(t).transformCache[n];else{if(w.Hooks.registered[n]){var l=n,u=w.Hooks.getRoot(n);r=r||w.getPropertyValue(t,u),i=w.Hooks.injectValue(l,i,r),n=u}if(w.Normalizations.registered[n]&&(i=w.Normalizations.registered[n]("inject",t,i),n=w.Normalizations.registered[n]("name",t)),a=w.Names.prefixCheck(n)[0],8>=d)try{t.style[a]=i}catch(h){b.debug&&console.log("Browser does not support ["+i+"] for ["+a+"]")}else s(t)&&s(t).isSVG&&w.Names.SVGAttribute(n)?t.setAttribute(n,i):t.style[a]=i;b.debug>=2&&console.log("Set "+n+" ("+a+"): "+i)}return[a,i]},flushTransformCache:function(t){function e(e){return parseFloat(w.getPropertyValue(t,e))}var n="";if((d||b.State.isAndroid&&!b.State.isChrome)&&s(t).isSVG){var i={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};f.each(s(t).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),i[t]&&(n+=t+"("+i[t].join(" ")+") ",delete i[t])})}else{var r,o;f.each(s(t).transformCache,function(e){return r=s(t).transformCache[e],"transformPerspective"===e?(o=r,!0):(9===d&&"rotateZ"===e&&(e="rotate"),void(n+=e+r+" "))}),o&&(n="perspective"+o+" "+n)}w.setPropertyValue(t,"transform",n)}};w.Hooks.register(),w.Normalizations.register(),b.hook=function(t,e,n){var r=i;return t=o(t),f.each(t,function(t,o){if(s(o)===i&&b.init(o),n===i)r===i&&(r=b.CSS.getPropertyValue(o,e));else{var a=b.CSS.setPropertyValue(o,e,n);"transform"===a[0]&&b.CSS.flushTransformCache(o),r=a}}),r};var _=function(){function t(){return a?k.promise||null:l}function r(){function t(){function t(t,e){var n=i,r=i,s=i;return g.isArray(t)?(n=t[0],!g.isArray(t[1])&&/^[\d-]/.test(t[1])||g.isFunction(t[1])||w.RegEx.isHex.test(t[1])?s=t[1]:(g.isString(t[1])&&!w.RegEx.isHex.test(t[1])||g.isArray(t[1]))&&(r=e?t[1]:u(t[1],a.duration),t[2]!==i&&(s=t[2]))):n=t,e||(r=r||a.easing),g.isFunction(n)&&(n=n.call(o,C,M)),g.isFunction(s)&&(s=s.call(o,C,M)),[n||0,r,s]}function c(t,e){var n,i;return i=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(t){return n=t,""}),n||(n=w.Values.getUnitType(t)),[i,n]}function d(){var t={myParent:o.parentNode||n.body,position:w.getPropertyValue(o,"position"),fontSize:w.getPropertyValue(o,"fontSize")},i=t.position===D.lastPosition&&t.myParent===D.lastParent,r=t.fontSize===D.lastFontSize;D.lastParent=t.myParent,D.lastPosition=t.position,D.lastFontSize=t.fontSize;var a=100,l={};if(r&&i)l.emToPx=D.lastEmToPx,l.percentToPxWidth=D.lastPercentToPxWidth,l.percentToPxHeight=D.lastPercentToPxHeight;else{var u=s(o).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");b.init(u),t.myParent.appendChild(u),f.each(["overflow","overflowX","overflowY"],function(t,e){b.CSS.setPropertyValue(u,e,"hidden")}),b.CSS.setPropertyValue(u,"position",t.position),b.CSS.setPropertyValue(u,"fontSize",t.fontSize),b.CSS.setPropertyValue(u,"boxSizing","content-box"),f.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,e){b.CSS.setPropertyValue(u,e,a+"%")}),b.CSS.setPropertyValue(u,"paddingLeft",a+"em"),l.percentToPxWidth=D.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(u,"width",null,!0))||1)/a,l.percentToPxHeight=D.lastPercentToPxHeight=(parseFloat(w.getPropertyValue(u,"height",null,!0))||1)/a,l.emToPx=D.lastEmToPx=(parseFloat(w.getPropertyValue(u,"paddingLeft"))||1)/a,t.myParent.removeChild(u)}return null===D.remToPx&&(D.remToPx=parseFloat(w.getPropertyValue(n.body,"fontSize"))||16),null===D.vwToPx&&(D.vwToPx=parseFloat(e.innerWidth)/100,D.vhToPx=parseFloat(e.innerHeight)/100),l.remToPx=D.remToPx,l.vwToPx=D.vwToPx,l.vhToPx=D.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),o),l}if(a.begin&&0===C)try{a.begin.call(p,p)}catch(v){setTimeout(function(){throw v},1)}if("scroll"===S){var x,_,P,E=/^x$/i.test(a.axis)?"Left":"Top",T=parseFloat(a.offset)||0;a.container?g.isWrapped(a.container)||g.isNode(a.container)?(a.container=a.container[0]||a.container,x=a.container["scroll"+E],P=x+f(o).position()[E.toLowerCase()]+T):a.container=null:(x=b.State.scrollAnchor[b.State["scrollProperty"+E]],_=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===E?"Top":"Left")]],P=f(o).offset()[E.toLowerCase()]+T),l={scroll:{rootPropertyValue:!1,startValue:x,currentValue:x,endValue:P,unitType:"",easing:a.easing,scrollData:{container:a.container,direction:E,alternateValue:_}},element:o},b.debug&&console.log("tweensContainer (scroll): ",l.scroll,o)}else if("reverse"===S){if(!s(o).tweensContainer)return void f.dequeue(o,a.queue);"none"===s(o).opts.display&&(s(o).opts.display="auto"),"hidden"===s(o).opts.visibility&&(s(o).opts.visibility="visible"),s(o).opts.loop=!1,s(o).opts.begin=null,s(o).opts.complete=null,y.easing||delete a.easing,y.duration||delete a.duration,a=f.extend({},s(o).opts,a);var A=f.extend(!0,{},s(o).tweensContainer);for(var N in A)if("element"!==N){var z=A[N].startValue;A[N].startValue=A[N].currentValue=A[N].endValue,A[N].endValue=z,g.isEmptyObject(y)||(A[N].easing=a.easing),b.debug&&console.log("reverse tweensContainer ("+N+"): "+JSON.stringify(A[N]),o)}l=A}else if("start"===S){var A;s(o).tweensContainer&&s(o).isAnimating===!0&&(A=s(o).tweensContainer),f.each(m,function(e,n){if(RegExp("^"+w.Lists.colors.join("$|^")+"$").test(e)){var r=t(n,!0),o=r[0],s=r[1],a=r[2];if(w.RegEx.isHex.test(o)){for(var l=["Red","Green","Blue"],u=w.Values.hexToRgb(o),h=a?w.Values.hexToRgb(a):i,c=0;c<l.length;c++){var f=[u[c]];s&&f.push(s),h!==i&&f.push(h[c]),m[e+l[c]]=f}delete m[e]}}});for(var I in m){var R=t(m[I]),B=R[0],H=R[1],V=R[2];I=w.Names.camelCase(I);var L=w.Hooks.getRoot(I),W=!1;if(s(o).isSVG||"tween"===L||w.Names.prefixCheck(L)[1]!==!1||w.Normalizations.registered[L]!==i){(a.display!==i&&null!==a.display&&"none"!==a.display||a.visibility!==i&&"hidden"!==a.visibility)&&/opacity|filter/.test(I)&&!V&&0!==B&&(V=0),a._cacheValues&&A&&A[I]?(V===i&&(V=A[I].endValue+A[I].unitType),W=s(o).rootPropertyValueCache[L]):w.Hooks.registered[I]?V===i?(W=w.getPropertyValue(o,L),V=w.getPropertyValue(o,I,W)):W=w.Hooks.templates[L][1]:V===i&&(V=w.getPropertyValue(o,I));var q,F,j,$=!1;if(q=c(I,V),V=q[0],j=q[1],q=c(I,B),B=q[0].replace(/^([+-\/*])=/,function(t,e){return $=e,""}),F=q[1],V=parseFloat(V)||0,B=parseFloat(B)||0,"%"===F&&(/^(fontSize|lineHeight)$/.test(I)?(B/=100,F="em"):/^scale/.test(I)?(B/=100,F=""):/(Red|Green|Blue)$/i.test(I)&&(B=B/100*255,F="")),/[\/*]/.test($))F=j;else if(j!==F&&0!==V)if(0===B)F=j;else{r=r||d();var U=/margin|padding|left|right|width|text|word|letter/i.test(I)||/X$/.test(I)||"x"===I?"x":"y";switch(j){case"%":V*="x"===U?r.percentToPxWidth:r.percentToPxHeight;break;case"px":break;default:V*=r[j+"ToPx"]}switch(F){case"%":V*=1/("x"===U?r.percentToPxWidth:r.percentToPxHeight);break;case"px":break;default:V*=1/r[F+"ToPx"]}}switch($){case"+":B=V+B;break;case"-":B=V-B;break;case"*":B=V*B;break;case"/":B=V/B}l[I]={rootPropertyValue:W,startValue:V,currentValue:V,endValue:B,unitType:F,easing:H},b.debug&&console.log("tweensContainer ("+I+"): "+JSON.stringify(l[I]),o)}else b.debug&&console.log("Skipping ["+L+"] due to a lack of browser support.")}l.element=o}l.element&&(w.Values.addClass(o,"velocity-animating"),O.push(l),""===a.queue&&(s(o).tweensContainer=l,s(o).opts=a),s(o).isAnimating=!0,C===M-1?(b.State.calls.push([O,p,a,null,k.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,h())):C++)}var r,o=this,a=f.extend({},b.defaults,y),l={};switch(s(o)===i&&b.init(o),parseFloat(a.delay)&&a.queue!==!1&&f.queue(o,a.queue,function(t){b.velocityQueueEntryFlag=!0,s(o).delayTimer={setTimeout:setTimeout(t,parseFloat(a.delay)),next:t}}),a.duration.toString().toLowerCase()){case"fast":a.duration=200;break;case"normal":a.duration=v;break;case"slow":a.duration=600;break;default:a.duration=parseFloat(a.duration)||1}b.mock!==!1&&(b.mock===!0?a.duration=a.delay=1:(a.duration*=parseFloat(b.mock)||1,a.delay*=parseFloat(b.mock)||1)),a.easing=u(a.easing,a.duration),a.begin&&!g.isFunction(a.begin)&&(a.begin=null),a.progress&&!g.isFunction(a.progress)&&(a.progress=null),a.complete&&!g.isFunction(a.complete)&&(a.complete=null),a.display!==i&&null!==a.display&&(a.display=a.display.toString().toLowerCase(),"auto"===a.display&&(a.display=b.CSS.Values.getDisplayType(o))),a.visibility!==i&&null!==a.visibility&&(a.visibility=a.visibility.toString().toLowerCase()),a.mobileHA=a.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,a.queue===!1?a.delay?setTimeout(t,a.delay):t():f.queue(o,a.queue,function(e,n){return n===!0?(k.promise&&k.resolver(p),!0):(b.velocityQueueEntryFlag=!0,void t(e))}),""!==a.queue&&"fx"!==a.queue||"inprogress"===f.queue(o)[0]||f.dequeue(o)}var a,l,d,p,m,y,x=arguments[0]&&(arguments[0].p||f.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||g.isString(arguments[0].properties));if(g.isWrapped(this)?(a=!1,d=0,p=this,l=this):(a=!0,d=1,p=x?arguments[0].elements||arguments[0].e:arguments[0]),p=o(p)){x?(m=arguments[0].properties||arguments[0].p,y=arguments[0].options||arguments[0].o):(m=arguments[d],y=arguments[d+1]);var M=p.length,C=0;if(!/^(stop|finish)$/i.test(m)&&!f.isPlainObject(y)){var P=d+1;y={};for(var E=P;E<arguments.length;E++)g.isArray(arguments[E])||!/^(fast|normal|slow)$/i.test(arguments[E])&&!/^\d/.test(arguments[E])?g.isString(arguments[E])||g.isArray(arguments[E])?y.easing=arguments[E]:g.isFunction(arguments[E])&&(y.complete=arguments[E]):y.duration=arguments[E]}var k={promise:null,resolver:null,rejecter:null};a&&b.Promise&&(k.promise=new b.Promise(function(t,e){k.resolver=t,k.rejecter=e}));var S;switch(m){case"scroll":S="scroll";break;case"reverse":S="reverse";break;case"finish":case"stop":f.each(p,function(t,e){s(e)&&s(e).delayTimer&&(clearTimeout(s(e).delayTimer.setTimeout),s(e).delayTimer.next&&s(e).delayTimer.next(),delete s(e).delayTimer)});var T=[];return f.each(b.State.calls,function(t,e){e&&f.each(e[1],function(n,r){var o=y===i?"":y;return o!==!0&&e[2].queue!==o&&(y!==i||e[2].queue!==!1)||void f.each(p,function(n,i){i===r&&((y===!0||g.isString(y))&&(f.each(f.queue(i,g.isString(y)?y:""),function(t,e){g.isFunction(e)&&e(null,!0)}),f.queue(i,g.isString(y)?y:"",[])),"stop"===m?(s(i)&&s(i).tweensContainer&&o!==!1&&f.each(s(i).tweensContainer,function(t,e){e.endValue=e.currentValue}),T.push(t)):"finish"===m&&(e[2].duration=1))})})}),"stop"===m&&(f.each(T,function(t,e){c(e,!0)}),k.promise&&k.resolver(p)),t();default:if(!f.isPlainObject(m)||g.isEmptyObject(m)){if(g.isString(m)&&b.Redirects[m]){var A=f.extend({},y),N=A.duration,z=A.delay||0;return A.backwards===!0&&(p=f.extend(!0,[],p).reverse()),f.each(p,function(t,e){parseFloat(A.stagger)?A.delay=z+parseFloat(A.stagger)*t:g.isFunction(A.stagger)&&(A.delay=z+A.stagger.call(e,t,M)),A.drag&&(A.duration=parseFloat(N)||(/^(callout|transition)/.test(m)?1e3:v),A.duration=Math.max(A.duration*(A.backwards?1-t/M:(t+1)/M),.75*A.duration,200)),b.Redirects[m].call(e,e,A||{},t,M,p,k.promise?k:i)}),t()}var I="Velocity: First argument ("+m+") was not a property map, a known action, or a registered redirect. Aborting.";return k.promise?k.rejecter(new Error(I)):console.log(I),t()}S="start"}var D={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},O=[];f.each(p,function(t,e){g.isNode(e)&&r.call(e)});var R,A=f.extend({},b.defaults,y);if(A.loop=parseInt(A.loop),R=2*A.loop-1,A.loop)for(var B=0;R>B;B++){var H={delay:A.delay,progress:A.progress};B===R-1&&(H.display=A.display,H.visibility=A.visibility,H.complete=A.complete),_(p,"reverse",H)}return t()}};b=f.extend(_,b),b.animate=_;var M=e.requestAnimationFrame||p;return b.State.isMobile||n.hidden===i||n.addEventListener("visibilitychange",function(){n.hidden?(M=function(t){return setTimeout(function(){t(!0)},16)},h()):M=e.requestAnimationFrame||p}),t.Velocity=b,t!==e&&(t.fn.velocity=_,t.fn.velocity.defaults=b.defaults),f.each(["Down","Up"],function(t,e){b.Redirects["slide"+e]=function(t,n,r,o,s,a){var l=f.extend({},n),u=l.begin,h=l.complete,c={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},d={};l.display===i&&(l.display="Down"===e?"inline"===b.CSS.Values.getDisplayType(t)?"inline-block":"block":"none"),l.begin=function(){u&&u.call(s,s);for(var n in c){d[n]=t.style[n];var i=b.CSS.getPropertyValue(t,n);c[n]="Down"===e?[i,0]:[0,i]}d.overflow=t.style.overflow,t.style.overflow="hidden"},l.complete=function(){for(var e in d)t.style[e]=d[e];h&&h.call(s,s),a&&a.resolver(s)},b(t,c,l)}}),f.each(["In","Out"],function(t,e){b.Redirects["fade"+e]=function(t,n,r,o,s,a){var l=f.extend({},n),u={opacity:"In"===e?1:0},h=l.complete;l.complete=r!==o-1?l.begin=null:function(){h&&h.call(s,s),a&&a.resolver(s)},l.display===i&&(l.display="In"===e?"auto":"none"),b(this,u,l)}}),b}(window.jQuery||window.Zepto||window,window,document)}),!function(t,e,n,i){"use strict";function r(t,e,n){return setTimeout(h(t,n),e)}function o(t,e,n){return!!Array.isArray(t)&&(s(t,n[e],n),!0)}function s(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function a(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t}function l(t,e){return a(t,e,!0)}function u(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&a(i,n)}function h(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==ht?t.apply(e?e[0]||i:i,e):t}function f(t,e){return t===i?e:t}function d(t,e,n){s(v(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){s(v(e),function(e){t.removeEventListener(e,n,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function y(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function x(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];y(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function w(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),s=0;s<lt.length;){if(n=lt[s],r=n?n+o:e,r in t)return r;s++}return i}function _(){return pt++}function M(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function C(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&n.handler(e)},this.init()}function P(t){var e,n=t.options.inputClass;return new(e=n?n:vt?V:yt?q:mt?j:H)(t,E)}function E(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&Ct&&0===i-r,s=e&(Et|kt)&&0===i-r;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,k(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function k(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=A(e)),r>1&&!n.firstMultiple?n.firstMultiple=A(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=e.center=N(i);e.timeStamp=dt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=O(a,l),e.distance=D(a,l),S(n,e),e.offsetDirection=I(e.deltaX,e.deltaY),e.scale=s?B(s.pointers,i):1,e.rotation=s?R(s.pointers,i):0,T(n,e);var u=t.element;g(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function S(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};(e.eventType===Ct||o.eventType===Et)&&(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function T(t,e){var n,r,o,s,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=kt&&(l>Mt||a.velocity===i)){var u=a.deltaX-e.deltaX,h=a.deltaY-e.deltaY,c=z(l,u,h);r=c.x,o=c.y,n=ft(c.x)>ft(c.y)?c.x:c.y,s=I(u,h),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=s}function A(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:ct(t.pointers[n].clientX),clientY:ct(t.pointers[n].clientY)},n++;return{timeStamp:dt(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:ct(t[0].clientX),y:ct(t[0].clientY)};for(var n=0,i=0,r=0;e>r;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:ct(n/e),y:ct(i/e)}}function z(t,e,n){return{x:e/t||0,y:n/t||0}}function I(t,e){return t===e?St:ft(t)>=ft(e)?t>0?Tt:At:e>0?Nt:zt}function D(t,e,n){n||(n=Rt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function O(t,e,n){n||(n=Rt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function R(t,e){return O(e[1],e[0],Bt)-O(t[1],t[0],Bt)}function B(t,e){return D(e[0],e[1],Bt)/D(t[0],t[1],Bt)}function H(){this.evEl=Vt,this.evWin=Lt,this.allow=!0,this.pressed=!1,C.apply(this,arguments)}function V(){this.evEl=Ft,this.evWin=jt,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function L(){this.evTarget=Ut,this.evWin=Yt,this.started=!1,C.apply(this,arguments)}function W(t,e){var n=b(t.touches),i=b(t.changedTouches);return e&(Et|kt)&&(n=x(n.concat(i),"identifier",!0)),[n,i]}function q(){this.evTarget=Qt,this.targetIds={},C.apply(this,arguments)}function F(t,e){var n=b(t.touches),i=this.targetIds;if(e&(Ct|Pt)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=b(t.changedTouches),a=[],l=this.target;if(o=n.filter(function(t){return g(t.target,l)}),e===Ct)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(Et|kt)&&delete i[s[r].identifier],r++;return a.length?[x(o.concat(a),"identifier",!0),a]:void 0}function j(){C.apply(this,arguments);var t=h(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new H(this.manager,t)}function $(t,e){this.manager=t,this.set(e)}function U(t){if(m(t,ee))return ee;var e=m(t,ne),n=m(t,ie);return e&&n?ne+" "+ie:e||n?e?ne:ie:m(t,te)?te:Kt}function Y(t){this.id=_(),this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=f(this.options.enable,!0),this.state=re,this.simultaneous={},this.requireFail=[]}function X(t){return t&ue?"cancel":t&ae?"end":t&se?"move":t&oe?"start":""}function Q(t){return t==zt?"down":t==Nt?"up":t==Tt?"left":t==At?"right":""}function G(t,e){var n=e.manager;return n?n.get(t):t}function Z(){Y.apply(this,arguments)}function J(){Z.apply(this,arguments),this.pX=null,this.pY=null}function K(){Z.apply(this,arguments)}function tt(){Y.apply(this,arguments),this._timer=null,this._input=null}function et(){Z.apply(this,arguments)}function nt(){Z.apply(this,arguments)}function it(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function rt(t,e){return e=e||{},e.recognizers=f(e.recognizers,rt.defaults.preset),new ot(t,e)}function ot(t,e){e=e||{},this.options=l(e,rt.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=P(this),this.touchAction=new $(this,this.options.touchAction),st(this,!0),s(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function st(t,e){var n=t.element;s(t.options.cssProps,function(t,i){n.style[w(n.style,i)]=e?t:""})}function at(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var lt=["","webkit","moz","MS","ms","o"],ut=e.createElement("div"),ht="function",ct=Math.round,ft=Math.abs,dt=Date.now,pt=1,gt=/mobile|tablet|ip(ad|hone|od)|android/i,mt="ontouchstart"in t,vt=w(t,"PointerEvent")!==i,yt=mt&&gt.test(navigator.userAgent),bt="touch",xt="pen",wt="mouse",_t="kinect",Mt=25,Ct=1,Pt=2,Et=4,kt=8,St=1,Tt=2,At=4,Nt=8,zt=16,It=Tt|At,Dt=Nt|zt,Ot=It|Dt,Rt=["x","y"],Bt=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(M(this.element),this.evWin,this.domHandler)}};var Ht={mousedown:Ct,mousemove:Pt,mouseup:Et},Vt="mousedown",Lt="mousemove mouseup";u(H,C,{handler:function(t){var e=Ht[t.type];e&Ct&&0===t.button&&(this.pressed=!0),e&Pt&&1!==t.which&&(e=Et),this.pressed&&this.allow&&(e&Et&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:wt,srcEvent:t}))}});var Wt={pointerdown:Ct,pointermove:Pt,pointerup:Et,pointercancel:kt,pointerout:kt},qt={2:bt,3:xt,4:wt,5:_t},Ft="pointerdown",jt="pointermove pointerup pointercancel";t.MSPointerEvent&&(Ft="MSPointerDown",jt="MSPointerMove MSPointerUp MSPointerCancel"),u(V,C,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Wt[i],o=qt[t.pointerType]||t.pointerType,s=o==bt,a=y(e,t.pointerId,"pointerId");r&Ct&&(0===t.button||s)?0>a&&(e.push(t),a=e.length-1):r&(Et|kt)&&(n=!0),0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var $t={touchstart:Ct,touchmove:Pt,touchend:Et,touchcancel:kt},Ut="touchstart",Yt="touchstart touchmove touchend touchcancel";u(L,C,{handler:function(t){var e=$t[t.type];if(e===Ct&&(this.started=!0),this.started){var n=W.call(this,t,e);e&(Et|kt)&&0===n[0].length-n[1].length&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:bt,srcEvent:t})}}});var Xt={touchstart:Ct,touchmove:Pt,touchend:Et,touchcancel:kt},Qt="touchstart touchmove touchend touchcancel";u(q,C,{handler:function(t){var e=Xt[t.type],n=F.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:bt,srcEvent:t})}}),u(j,C,{handler:function(t,e,n){var i=n.pointerType==bt,r=n.pointerType==wt;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(Et|kt)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Gt=w(ut.style,"touchAction"),Zt=Gt!==i,Jt="compute",Kt="auto",te="manipulation",ee="none",ne="pan-x",ie="pan-y";$.prototype={set:function(t){t==Jt&&(t=this.compute()),Zt&&(this.manager.element.style[Gt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),U(t.join(" "))},preventDefaults:function(t){if(!Zt){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=m(i,ee),o=m(i,ie),s=m(i,ne);return r||o&&n&It||s&&n&Dt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var re=1,oe=2,se=4,ae=8,le=ae,ue=16,he=32;Y.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=G(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=G(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=G(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=G(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?X(i):""),t)}var n=this,i=this.state;ae>i&&e(!0),e(),i>=ae&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=he)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(he|re)))return!1;t++}return!0},recognize:function(t){var e=a({},t);return c(this.options.enable,[this,e])?(this.state&(le|ue|he)&&(this.state=re),this.state=this.process(e),void(this.state&(oe|se|ae|ue)&&this.tryEmit(e))):(this.reset(),void(this.state=he))},process:function(){},getTouchAction:function(){},reset:function(){}},u(Z,Y,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(oe|se),r=this.attrTest(t);return i&&(n&kt||!r)?e|ue:i||r?n&Et?e|ae:e&oe?e|se:oe:he}}),u(J,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ot},getTouchAction:function(){var t=this.options.direction,e=[];return t&It&&e.push(ie),t&Dt&&e.push(ne),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&It?(r=0===o?St:0>o?Tt:At,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?St:0>s?Nt:zt,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return Z.prototype.attrTest.call(this,t)&&(this.state&oe||!(this.state&oe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Q(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),u(K,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&oe)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),u(tt,Y,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Kt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Et|kt)&&!o)this.reset();else if(t.eventType&Ct)this.reset(),this._timer=r(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&Et)return le;return he},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&Et?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=dt(),this.manager.emit(this.options.event,this._input)))}}),u(et,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&oe)}}),u(nt,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:It|Dt,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(It|Dt)?e=t.velocity:n&It?e=t.velocityX:n&Dt&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&ft(e)>this.options.velocity&&t.eventType&Et},emit:function(t){var e=Q(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(it,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[te]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Ct&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=Et)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=r(function(){this.state=le,this.tryEmit()},e.interval,this),oe):le}return he},failTimeout:function(){return this._timer=r(function(){this.state=he},this.options.interval,this),he},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),rt.VERSION="2.0.4",rt.defaults={domEvents:!1,touchAction:Jt,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[K,{enable:!1},["rotate"]],[nt,{direction:It}],[J,{direction:It},["swipe"]],[it],[it,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"default",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ce=1,fe=2;ot.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?fe:ce},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&le)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===fe||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(oe|se|ae)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Y)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return s(v(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return s(v(t),function(t){e?n[t].splice(y(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&at(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){
e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&st(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(rt,{INPUT_START:Ct,INPUT_MOVE:Pt,INPUT_END:Et,INPUT_CANCEL:kt,STATE_POSSIBLE:re,STATE_BEGAN:oe,STATE_CHANGED:se,STATE_ENDED:ae,STATE_RECOGNIZED:le,STATE_CANCELLED:ue,STATE_FAILED:he,DIRECTION_NONE:St,DIRECTION_LEFT:Tt,DIRECTION_RIGHT:At,DIRECTION_UP:Nt,DIRECTION_DOWN:zt,DIRECTION_HORIZONTAL:It,DIRECTION_VERTICAL:Dt,DIRECTION_ALL:Ot,Manager:ot,Input:C,TouchAction:$,TouchInput:q,MouseInput:H,PointerEventInput:V,TouchMouseInput:j,SingleTouchInput:L,Recognizer:Y,AttrRecognizer:Z,Tap:it,Pan:J,Swipe:nt,Pinch:K,Rotate:et,Press:tt,on:d,off:p,each:s,merge:l,extend:a,inherit:u,bindFn:h,prefixed:w}),typeof define==ht&&define.amd?define(function(){return rt}):"undefined"!=typeof module&&module.exports?module.exports=rt:t[n]=rt}(window,document,"Hammer"),function(t){"function"==typeof define&&define.amd?define(["jquery","hammerjs"],t):"object"==typeof exports?t(require("jquery"),require("hammerjs")):t(jQuery,Hammer)}(function(t,e){function n(n,i){var r=t(n);r.data("hammer")||r.data("hammer",new e(r[0],i))}t.fn.hammer=function(t){return this.each(function(){n(this,t)})},e.Manager.prototype.emit=function(e){return function(n,i){e.call(this,n,i),t(this.element).trigger({type:n,gesture:i})}}(e.Manager.prototype.emit)}),Materialize={},Materialize.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),Materialize.elementOrParentIsFixed=function(t){var e=$(t),n=e.add(e.parents()),i=!1;return n.each(function(){return"fixed"===$(this).css("position")?(i=!0,!1):void 0}),i};var Vel;if(Vel=$?$.Velocity:Velocity,function(t){t.fn.collapsible=function(e){var n={accordion:void 0};return e=t.extend(n,e),this.each(function(){function n(e){a=s.find("> li > .collapsible-header"),e.hasClass("active")?e.parent().addClass("active"):e.parent().removeClass("active"),e.parent().hasClass("active")?e.siblings(".collapsible-body").stop(!0,!1).slideDown({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}):e.siblings(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}),a.not(e).removeClass("active").parent().removeClass("active"),a.not(e).parent().children(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}})}function i(e){e.hasClass("active")?e.parent().addClass("active"):e.parent().removeClass("active"),e.parent().hasClass("active")?e.siblings(".collapsible-body").stop(!0,!1).slideDown({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}}):e.siblings(".collapsible-body").stop(!0,!1).slideUp({duration:350,easing:"easeOutQuart",queue:!1,complete:function(){t(this).css("height","")}})}function r(t){var e=o(t);return e.length>0}function o(t){return t.closest("li > .collapsible-header")}var s=t(this),a=t(this).find("> li > .collapsible-header"),l=s.data("collapsible");s.off("click.collapse",".collapsible-header"),a.off("click.collapse"),e.accordion||"accordion"===l||void 0===l?(a=s.find("> li > .collapsible-header"),a.on("click.collapse",function(e){var i=t(e.target);r(i)&&(i=o(i)),i.toggleClass("active"),n(i)}),n(a.filter(".active").first())):a.each(function(){t(this).on("click.collapse",function(e){var n=t(e.target);r(n)&&(n=o(n)),n.toggleClass("active"),i(n)}),t(this).hasClass("active")&&i(t(this))})})},t(document).ready(function(){t(".collapsible").collapsible()})}(jQuery),function(t){t.fn.scrollTo=function(e){return t(this).scrollTop(t(this).scrollTop()-t(this).offset().top+t(e).offset().top),this},t.fn.dropdown=function(e){var n={inDuration:300,outDuration:225,constrain_width:!0,hover:!1,gutter:0,belowOrigin:!1};this.each(function(){function i(){void 0!==s.data("induration")&&(a.inDuration=s.data("inDuration")),void 0!==s.data("outduration")&&(a.outDuration=s.data("outDuration")),void 0!==s.data("constrainwidth")&&(a.constrain_width=s.data("constrainwidth")),void 0!==s.data("hover")&&(a.hover=s.data("hover")),void 0!==s.data("gutter")&&(a.gutter=s.data("gutter")),void 0!==s.data("beloworigin")&&(a.belowOrigin=s.data("beloworigin"))}function r(){i(),l.addClass("active"),a.constrain_width===!0&&l.css("width",s.outerWidth());var e=0;a.belowOrigin===!0&&(e=s.height());var n=s.offset().left,r=0,o=a.gutter;n+l.innerWidth()>t(window).width()&&(r=s.innerWidth()-l.innerWidth(),o=-1*o),l.css({position:"absolute",top:s.position().top+e,left:s.position().left+r+o}),l.stop(!0,!0).css("opacity",0).slideDown({queue:!1,duration:a.inDuration,easing:"easeOutCubic",complete:function(){t(this).css("height","")}}).animate({opacity:1},{queue:!1,duration:a.inDuration,easing:"easeOutSine"})}function o(){l.fadeOut(a.outDuration),l.removeClass("active")}var s=t(this),a=t.extend({},n,e),l=t("#"+s.attr("data-activates"));if(i(),s.after(l),a.hover){var u=!1;s.unbind("click."+s.attr("id")),s.on("mouseenter",function(){u===!1&&(r(),u=!0)}),s.on("mouseleave",function(e){var n=e.toElement||e.relatedTarget;t(n).closest(".dropdown-content").is(l)||(l.stop(!0,!0),o(),u=!1)}),l.on("mouseleave",function(e){var n=e.toElement||e.relatedTarget;t(n).closest(".dropdown-button").is(s)||(l.stop(!0,!0),o(),u=!1)})}else s.unbind("click."+s.attr("id")),s.bind("click."+s.attr("id"),function(e){s[0]==e.currentTarget&&0===t(e.target).closest(".dropdown-content").length?(e.preventDefault(),r()):s.hasClass("active")&&(o(),t(document).unbind("click."+l.attr("id"))),l.hasClass("active")&&t(document).bind("click."+l.attr("id"),function(e){!l.is(e.target)&&!s.is(e.target)&&!s.find(e.target).length>0&&(o(),t(document).unbind("click."+l.attr("id")))})});s.on("open",r),s.on("close",o)})},t(document).ready(function(){t(".dropdown-button").dropdown()})}(jQuery),function(t){var e=0,n=0,i=function(){return n++,"materialize-lean-overlay-"+n};t.fn.extend({openModal:function(n){t("body").css("overflow","hidden");var r={opacity:.5,in_duration:350,out_duration:250,ready:void 0,complete:void 0,dismissible:!0,starting_top:"4%"},o=i(),s=t(this),a=t('<div class="lean-overlay"></div>'),l=++e;a.attr("id",o).css("z-index",1e3+2*l),s.data("overlay-id",o).css("z-index",1e3+2*l+1),t("body").append(a),n=t.extend(r,n),n.dismissible&&(a.click(function(){s.closeModal(n)}),t(document).on("keyup.leanModal"+o,function(t){27===t.keyCode&&s.closeModal(n)})),s.find(".modal-close").on("click.close",function(){s.closeModal(n)}),a.css({display:"block",opacity:0}),s.css({display:"block",opacity:0}),a.velocity({opacity:n.opacity},{duration:n.in_duration,queue:!1,ease:"easeOutCubic"}),s.data("associated-overlay",a[0]),s.hasClass("bottom-sheet")?s.velocity({bottom:"0",opacity:1},{duration:n.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof n.ready&&n.ready()}}):(t.Velocity.hook(s,"scaleX",.7),s.css({top:n.starting_top}),s.velocity({top:"10%",opacity:1,scaleX:"1"},{duration:n.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof n.ready&&n.ready()}}))}}),t.fn.extend({closeModal:function(n){var i={out_duration:250,complete:void 0},r=t(this),o=r.data("overlay-id"),s=t("#"+o);n=t.extend(i,n),t("body").css("overflow",""),r.find(".modal-close").off("click.close"),t(document).off("keyup.leanModal"+o),s.velocity({opacity:0},{duration:n.out_duration,queue:!1,ease:"easeOutQuart"}),r.hasClass("bottom-sheet")?r.velocity({bottom:"-100%",opacity:0},{duration:n.out_duration,queue:!1,ease:"easeOutCubic",complete:function(){s.css({display:"none"}),"function"==typeof n.complete&&n.complete(),s.remove(),e--}}):r.velocity({top:n.starting_top,opacity:0,scaleX:.7},{duration:n.out_duration,complete:function(){t(this).css("display","none"),"function"==typeof n.complete&&n.complete(),s.remove(),e--}})}}),t.fn.extend({leanModal:function(e){return this.each(function(){var n={starting_top:"4%"},i=t.extend(n,e);t(this).click(function(e){i.starting_top=(t(this).offset().top-t(window).scrollTop())/1.15;var n=t(this).attr("href")||"#"+t(this).data("target");t(n).openModal(i),e.preventDefault()})})}})}(jQuery),function(t){t.fn.materialbox=function(){return this.each(function(){function e(){i=!1;var e=s.parent(".material-placeholder"),r=(window.innerWidth,window.innerHeight,s.data("width")),a=s.data("height");s.velocity("stop",!0),t("#materialbox-overlay").velocity("stop",!0),t(".materialbox-caption").velocity("stop",!0),t("#materialbox-overlay").velocity({opacity:0},{duration:o,queue:!1,easing:"easeOutQuad",complete:function(){n=!1,t(this).remove()}}),s.velocity({width:r,height:a,left:0,top:0},{duration:o,queue:!1,easing:"easeOutQuad"}),t(".materialbox-caption").velocity({opacity:0},{duration:o,queue:!1,easing:"easeOutQuad",complete:function(){e.css({height:"",width:"",position:"",top:"",left:""}),s.css({height:"",top:"",left:"",width:"","max-width":"",position:"","z-index":""}),s.removeClass("active"),i=!0,t(this).remove()}})}if(!t(this).hasClass("initialized")){t(this).addClass("initialized");var n=!1,i=!0,r=275,o=200,s=t(this),a=t("<div></div>").addClass("material-placeholder");s.wrap(a),s.on("click",function(){var o=s.parent(".material-placeholder"),a=window.innerWidth,l=window.innerHeight,u=s.width(),h=s.height();if(i===!1)return e(),!1;if(n&&i===!0)return e(),!1;i=!1,s.addClass("active"),n=!0,o.css({width:o[0].getBoundingClientRect().width,height:o[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),s.css({position:"absolute","z-index":1e3}).data("width",u).data("height",h);var c=t('<div id="materialbox-overlay"></div>').css({opacity:0}).click(function(){i===!0&&e()});if(t("body").append(c),c.velocity({opacity:1},{duration:r,queue:!1,easing:"easeOutQuad"}),""!==s.data("caption")){var f=t('<div class="materialbox-caption"></div>');f.text(s.data("caption")),t("body").append(f),f.css({display:"inline"}),f.velocity({opacity:1},{duration:r,queue:!1,easing:"easeOutQuad"})}var d=0,p=u/a,g=h/l,m=0,v=0;p>g?(d=h/u,m=.9*a,v=.9*a*d):(d=u/h,m=.9*l*d,v=.9*l),s.hasClass("responsive-img")?s.velocity({"max-width":m,width:u},{duration:0,queue:!1,complete:function(){s.css({left:0,top:0}).velocity({height:v,width:m,left:t(document).scrollLeft()+a/2-s.parent(".material-placeholder").offset().left-m/2,top:t(document).scrollTop()+l/2-s.parent(".material-placeholder").offset().top-v/2},{duration:r,queue:!1,easing:"easeOutQuad",complete:function(){i=!0}})}}):s.css("left",0).css("top",0).velocity({height:v,width:m,left:t(document).scrollLeft()+a/2-s.parent(".material-placeholder").offset().left-m/2,top:t(document).scrollTop()+l/2-s.parent(".material-placeholder").offset().top-v/2},{duration:r,queue:!1,easing:"easeOutQuad",complete:function(){i=!0}})}),t(window).scroll(function(){n&&e()}),t(document).keyup(function(t){27===t.keyCode&&i===!0&&n&&e()})}})},t(document).ready(function(){t(".materialboxed").materialbox()})}(jQuery),function(t){t.fn.parallax=function(){var e=t(window).width();return this.each(function(){function n(n){var r;r=601>e?i.height()>0?i.height():i.children("img").height():i.height()>0?i.height():500;var o=i.children("img").first(),s=o.height(),a=s-r,l=i.offset().top+r,u=i.offset().top,h=t(window).scrollTop(),c=window.innerHeight,f=h+c,d=(f-u)/(r+c),p=Math.round(a*d);n&&o.css("display","block"),l>h&&h+c>u&&o.css("transform","translate3D(-50%,"+p+"px, 0)")}var i=t(this);i.addClass("parallax"),i.children("img").one("load",function(){n(!0)}).each(function(){this.complete&&t(this).load()}),t(window).scroll(function(){e=t(window).width(),n(!1)}),t(window).resize(function(){e=t(window).width(),n(!1)})})}}(jQuery),function(t){var e={init:function(){return this.each(function(){var e=t(this);t(window).width(),e.width("100%");var n=t(this).children("li").length;e.children("li").each(function(){t(this).width(100/n+"%")});var i,r,o=e.find("li.tab a"),s=e.width(),a=e.find("li").first().outerWidth(),l=0;i=t(o.filter('[href="'+location.hash+'"]')),0===i.length&&(i=t(this).find("li.tab a.active").first()),0===i.length&&(i=t(this).find("li.tab a").first()),i.addClass("active"),l=o.index(i),0>l&&(l=0),r=t(i[0].hash),e.append('<div class="indicator"></div>');var u=e.find(".indicator");e.is(":visible")&&(u.css({right:s-(l+1)*a}),u.css({left:l*a})),t(window).resize(function(){s=e.width(),a=e.find("li").first().outerWidth(),0>l&&(l=0),0!==a&&0!==s&&(u.css({right:s-(l+1)*a}),u.css({left:l*a}))}),o.not(i).each(function(){t(this.hash).hide()}),e.on("click","a",function(n){if(t(this).parent().hasClass("disabled"))return void n.preventDefault();s=e.width(),a=e.find("li").first().outerWidth(),i.removeClass("active"),r.hide(),i=t(this),r=t(this.hash),o=e.find("li.tab a"),i.addClass("active");var h=l;l=o.index(t(this)),0>l&&(l=0),r.show(),l-h>=0?(u.velocity({right:s-(l+1)*a},{duration:300,queue:!1,easing:"easeOutQuad"}),u.velocity({left:l*a},{duration:300,queue:!1,easing:"easeOutQuad",delay:90})):(u.velocity({left:l*a},{duration:300,queue:!1,easing:"easeOutQuad"}),u.velocity({right:s-(l+1)*a},{duration:300,queue:!1,easing:"easeOutQuad",delay:90})),n.preventDefault()})})},select_tab:function(t){this.find('a[href="#'+t+'"]').trigger("click")}};t.fn.tabs=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.tooltip"):e.init.apply(this,arguments)},t(document).ready(function(){t("ul.tabs").tabs()})}(jQuery),function(t){t.fn.tooltip=function(e){var n=null,i=!1,r=null,o=5,s={delay:350};return e=t.extend(s,e),t(".material-tooltip").remove(),this.each(function(){var s=t(this),a=t("<span></span>").text(s.attr("data-tooltip")),l=t("<div></div>");l.addClass("material-tooltip").append(a),l.appendTo(t("body"));var u=t("<div></div>").addClass("backdrop");u.appendTo(l),u.css({top:0,left:0}),t(this).off("mouseenter mouseleave"),t(this).on({mouseenter:function(){var t=s.data("delay");t=void 0===t||""===t?e.delay:t,n=0,r=setInterval(function(){if(n+=10,n>=t&&i===!1){i=!0,l.css({display:"block",left:"0px",top:"0px"}),l.children("span").text(s.attr("data-tooltip"));var e=s.outerWidth(),r=s.outerHeight(),a=s.attr("data-position"),h=l.outerHeight(),c=l.outerWidth(),f="0px",d="0px",p=8;"top"===a?(l.css({top:s.offset().top-h-o,left:s.offset().left+e/2-c/2}),f="-10px",u.css({borderRadius:"14px 14px 0 0",transformOrigin:"50% 90%",marginTop:h,marginLeft:c/2-u.width()/2})):"left"===a?(l.css({top:s.offset().top+r/2-h/2,left:s.offset().left-c-o}),d="-10px",u.css({width:"14px",height:"14px",borderRadius:"14px 0 0 14px",transformOrigin:"95% 50%",marginTop:h/2,marginLeft:c})):"right"===a?(l.css({top:s.offset().top+r/2-h/2,left:s.offset().left+e+o}),d="+10px",u.css({width:"14px",height:"14px",borderRadius:"0 14px 14px 0",transformOrigin:"5% 50%",marginTop:h/2,marginLeft:"0px"})):(l.css({top:s.offset().top+s.outerHeight()+o,left:s.offset().left+e/2-c/2}),f="+10px",u.css({marginLeft:c/2-u.width()/2})),p=c/8,8>p&&(p=8),("right"===a||"left"===a)&&(p=c/10,6>p&&(p=6)),l.velocity({opacity:1,marginTop:f,marginLeft:d},{duration:350,queue:!1}),u.css({display:"block"}).velocity({opacity:1},{duration:55,delay:0,queue:!1}).velocity({scale:p},{duration:300,delay:0,queue:!1,easing:"easeInOutQuad"})}},10)},mouseleave:function(){clearInterval(r),n=0,l.velocity({opacity:0,marginTop:0,marginLeft:0},{duration:225,queue:!1,delay:275}),u.velocity({opacity:0,scale:1},{duration:225,delay:275,queue:!1,complete:function(){u.css("display","none"),l.css("display","none"),i=!1}})}})})},t(document).ready(function(){t(".tooltipped").tooltip()})}(jQuery),function(t){"use strict";function e(t){return null!==t&&t===t.window}function n(t){return e(t)?t:9===t.nodeType&&t.defaultView}function i(t){var e,i,r={top:0,left:0},o=t&&t.ownerDocument;return e=o.documentElement,"undefined"!=typeof t.getBoundingClientRect&&(r=t.getBoundingClientRect()),i=n(o),{top:r.top+i.pageYOffset-e.clientTop,left:r.left+i.pageXOffset-e.clientLeft}}function r(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}function o(t){if(h.allowEvent(t)===!1)return null;for(var e=null,n=t.target||t.srcElement;null!==n.parentElement;){if(!(n instanceof SVGElement||-1===n.className.indexOf("waves-effect"))){e=n;break}if(n.classList.contains("waves-effect")){e=n;break}n=n.parentElement}return e}function s(e){var n=o(e);null!==n&&(u.show(e,n),"ontouchstart"in t&&(n.addEventListener("touchend",u.hide,!1),n.addEventListener("touchcancel",u.hide,!1)),n.addEventListener("mouseup",u.hide,!1),n.addEventListener("mouseleave",u.hide,!1))}var a=a||{},l=document.querySelectorAll.bind(document),u={duration:750,show:function(t,e){if(2===t.button)return!1;var n=e||this,o=document.createElement("div");o.className="waves-ripple",n.appendChild(o);var s=i(n),a=t.pageY-s.top,l=t.pageX-s.left,h="scale("+n.clientWidth/100*10+")";"touches"in t&&(a=t.touches[0].pageY-s.top,l=t.touches[0].pageX-s.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",h),o.setAttribute("data-x",l),o.setAttribute("data-y",a);var c={top:a+"px",left:l+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",r(c)),o.className=o.className.replace("waves-notransition",""),c["-webkit-transform"]=h,c["-moz-transform"]=h,c["-ms-transform"]=h,c["-o-transform"]=h,c.transform=h,c.opacity="1",c["-webkit-transition-duration"]=u.duration+"ms",c["-moz-transition-duration"]=u.duration+"ms",c["-o-transition-duration"]=u.duration+"ms",c["transition-duration"]=u.duration+"ms",c["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",r(c))},hide:function(t){h.touchup(t);var e=this,n=(1.4*e.clientWidth,null),i=e.getElementsByClassName("waves-ripple");if(!(i.length>0))return!1;n=i[i.length-1];var o=n.getAttribute("data-x"),s=n.getAttribute("data-y"),a=n.getAttribute("data-scale"),l=Date.now()-Number(n.getAttribute("data-hold")),c=350-l;0>c&&(c=0),setTimeout(function(){var t={top:s+"px",left:o+"px",opacity:"0","-webkit-transition-duration":u.duration+"ms","-moz-transition-duration":u.duration+"ms","-o-transition-duration":u.duration+"ms","transition-duration":u.duration+"ms","-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a};n.setAttribute("style",r(t)),setTimeout(function(){try{e.removeChild(n)}catch(t){return!1}},u.duration)},c)},wrapInput:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),r.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},h={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?h.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout(function(){h.touches>0&&(h.touches-=1)},500):"mousedown"===t.type&&h.touches>0&&(e=!1),e},touchup:function(t){h.allowEvent(t)}};a.displayEffect=function(e){e=e||{},"duration"in e&&(u.duration=e.duration),u.wrapInput(l(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",s,!1),document.body.addEventListener("mousedown",s,!1)},a.attach=function(e){"input"===e.tagName.toLowerCase()&&(u.wrapInput([e]),e=e.parentElement),"ontouchstart"in t&&e.addEventListener("touchstart",s,!1),e.addEventListener("mousedown",s,!1)},t.Waves=a,document.addEventListener("DOMContentLoaded",function(){a.displayEffect()},!1)}(window),Materialize.toast=function(t,e,n,i){function r(t){var e=document.createElement("div");if(e.classList.add("toast"),n)for(var r=n.split(" "),o=0,s=r.length;s>o;o++)e.classList.add(r[o]);e.innerHTML=t;var a=new Hammer(e,{prevent_default:!1});return a.on("pan",function(t){var n=t.deltaX,i=80;e.classList.contains("panning")||e.classList.add("panning");var r=1-Math.abs(n/i);0>r&&(r=0),Vel(e,{left:n,opacity:r},{duration:50,queue:!1,easing:"easeOutQuad"})}),a.on("panend",function(t){var n=t.deltaX,r=80;Math.abs(n)>r?Vel(e,{marginTop:"-40px"},{duration:375,easing:"easeOutExpo",queue:!1,complete:function(){"function"==typeof i&&i(),e.parentNode.removeChild(e)}}):(e.classList.remove("panning"),Vel(e,{left:0,opacity:1},{duration:300,easing:"easeOutExpo",queue:!1}))}),e}n=n||"";var o=document.getElementById("toast-container");null===o&&(o=document.createElement("div"),o.id="toast-container",document.body.appendChild(o));var s=r(t);t&&o.appendChild(s),s.style.top="35px",s.style.opacity=0,Vel(s,{top:"0px",opacity:1},{duration:300,easing:"easeOutCubic",queue:!1});var a=e,l=setInterval(function(){null===s.parentNode&&window.clearInterval(l),s.classList.contains("panning")||(a-=20),0>=a&&(Vel(s,{opacity:0,marginTop:"-40px"},{duration:375,easing:"easeOutExpo",queue:!1,complete:function(){"function"==typeof i&&i(),this[0].parentNode.removeChild(this[0])}}),window.clearInterval(l))},20)},function(t){var e={init:function(e){var n={menuWidth:240,edge:"left",closeOnClick:!1};e=t.extend(n,e),t(this).each(function(){function n(n){o=!1,s=!1,t("body").css("overflow",""),t("#sidenav-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),"left"===e.edge?(t(".drag-target").css({width:"",right:"",left:"0"}),r.velocity({left:-1*(e.menuWidth+10)},{duration:200,queue:!1,easing:"easeOutCubic",complete:function(){n===!0&&(r.removeAttr("style"),r.css("width",e.menuWidth))}})):(t(".drag-target").css({width:"",right:"0",left:""}),r.velocity({right:-1*(e.menuWidth+10)},{duration:200,queue:!1,easing:"easeOutCubic",complete:function(){n===!0&&(r.removeAttr("style"),r.css("width",e.menuWidth))}}))}var i=t(this),r=t("#"+i.attr("data-activates"));240!=e.menuWidth&&r.css("width",e.menuWidth),t("body").append(t('<div class="drag-target"></div>')),"left"==e.edge?(r.css("left",-1*(e.menuWidth+10)),t(".drag-target").css({left:0})):(r.addClass("right-aligned").css("right",-1*(e.menuWidth+10)).css("left",""),t(".drag-target").css({right:0})),r.hasClass("fixed")&&window.innerWidth>992&&r.css("left",0),r.hasClass("fixed")&&t(window).resize(function(){window.innerWidth>992?0!==t("#sidenav-overlay").css("opacity")&&s?n(!0):(r.removeAttr("style"),r.css("width",e.menuWidth)):s===!1&&("left"===e.edge?r.css("left",-1*(e.menuWidth+10)):r.css("right",-1*(e.menuWidth+10)))}),e.closeOnClick===!0&&r.on("click.itemclick","a:not(.collapsible-header)",function(){n()});var o=!1,s=!1;t(".drag-target").on("click",function(){n()}),t(".drag-target").hammer({prevent_default:!1}).bind("pan",function(i){if("touch"==i.gesture.pointerType){var o=(i.gesture.direction,i.gesture.center.x);if(i.gesture.center.y,i.gesture.velocityX,t("body").css("overflow","hidden"),0===t("#sidenav-overlay").length){var a=t('<div id="sidenav-overlay"></div>');a.css("opacity",0).click(function(){n()}),t("body").append(a)}if("left"===e.edge&&(o>e.menuWidth?o=e.menuWidth:0>o&&(o=0)),"left"===e.edge)o<e.menuWidth/2?s=!1:o>=e.menuWidth/2&&(s=!0),r.css("left",o-e.menuWidth);else{o<window.innerWidth-e.menuWidth/2?s=!0:o>=window.innerWidth-e.menuWidth/2&&(s=!1);var l=-1*(o-e.menuWidth/2);l>0&&(l=0),r.css("right",l)}var u;"left"===e.edge?(u=o/e.menuWidth,t("#sidenav-overlay").velocity({opacity:u},{duration:50,queue:!1,easing:"easeOutQuad"})):(u=Math.abs((o-window.innerWidth)/e.menuWidth),t("#sidenav-overlay").velocity({opacity:u},{duration:50,queue:!1,easing:"easeOutQuad"}))}}).bind("panend",function(n){if("touch"==n.gesture.pointerType){var i=n.gesture.velocityX;o=!1,"left"===e.edge?s&&.3>=i||-.5>i?(r.velocity({left:0},{duration:300,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:1},{duration:50,queue:!1,easing:"easeOutQuad"}),t(".drag-target").css({width:"50%",right:0,left:""})):(!s||i>.3)&&(t("body").css("overflow",""),r.velocity({left:-1*(e.menuWidth+10)},{duration:200,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),t(".drag-target").css({width:"10px",right:"",left:0})):s&&i>=-.3||i>.5?(r.velocity({right:0},{duration:300,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:1},{duration:50,queue:!1,easing:"easeOutQuad"}),t(".drag-target").css({width:"50%",right:"",left:0})):(!s||-.3>i)&&(t("body").css("overflow",""),r.velocity({right:-1*(e.menuWidth+10)},{duration:200,queue:!1,easing:"easeOutQuad"}),t("#sidenav-overlay").velocity({opacity:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}}),t(".drag-target").css({width:"10px",right:0,left:""}))}}),i.click(function(){if(s===!0)s=!1,o=!1,n();else{t("body").css("overflow","hidden"),"left"===e.edge?(t(".drag-target").css({width:"50%",right:0,left:""}),r.velocity({left:0},{duration:300,queue:!1,easing:"easeOutQuad"})):(t(".drag-target").css({width:"50%",right:"",left:0}),r.velocity({right:0},{duration:300,queue:!1,easing:"easeOutQuad"}),r.css("left",""));var i=t('<div id="sidenav-overlay"></div>');i.css("opacity",0).click(function(){s=!1,o=!1,n(),i.velocity({opacity:0},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){t(this).remove()}})}),t("body").append(i),i.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){s=!0,o=!1}})}return!1})})},show:function(){this.trigger("click")},hide:function(){t("#sidenav-overlay").trigger("click")}};t.fn.sideNav=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.sideNav"):e.init.apply(this,arguments)}}(jQuery),function(t){function e(e,n,i,r){var o=t();return t.each(s,function(t,s){if(s.height()>0){var a=s.offset().top,l=s.offset().left,u=l+s.width(),h=a+s.height(),c=!(l>n||r>u||a>i||e>h);c&&o.push(s)}}),o}function n(){++u;var n=o.scrollTop(),i=o.scrollLeft(),r=i+o.width(),s=n+o.height(),l=e(n+h.top+200,r+h.right,s+h.bottom,i+h.left);t.each(l,function(t,e){var n=e.data("scrollSpy:ticks");"number"!=typeof n&&e.triggerHandler("scrollSpy:enter"),e.data("scrollSpy:ticks",u)}),t.each(a,function(t,e){var n=e.data("scrollSpy:ticks");"number"==typeof n&&n!==u&&(e.triggerHandler("scrollSpy:exit"),e.data("scrollSpy:ticks",null))}),a=l}function i(){o.trigger("scrollSpy:winSize")}function r(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:c(),s=null,o=t.apply(i,r),i=r=null};return function(){var u=c();a||n.leading!==!1||(a=u);var h=e-(u-a);return i=this,r=arguments,0>=h?(clearTimeout(s),s=null,a=u,o=t.apply(i,r),i=r=null):s||n.trailing===!1||(s=setTimeout(l,h)),o}}var o=t(window),s=[],a=[],l=!1,u=0,h={top:0,right:0,bottom:0,left:0},c=Date.now||function(){return(new Date).getTime()};t.scrollSpy=function(e,i){var a=[];e=t(e),e.each(function(e,n){s.push(t(n)),t(n).data("scrollSpy:id",e),t("a[href=#"+t(n).attr("id")+"]").click(function(e){e.preventDefault();var n=t(this.hash).offset().top+1;t("html, body").animate({scrollTop:n-200},{duration:400,queue:!1,easing:"easeOutCubic"})})}),i=i||{throttle:100},h.top=i.offsetTop||0,h.right=i.offsetRight||0,h.bottom=i.offsetBottom||0,h.left=i.offsetLeft||0;var u=r(n,i.throttle||100),c=function(){t(document).ready(u)};return l||(o.on("scroll",c),o.on("resize",c),l=!0),setTimeout(c,0),e.on("scrollSpy:enter",function(){a=t.grep(a,function(t){return 0!=t.height()});var e=t(this);a[0]?(t("a[href=#"+a[0].attr("id")+"]").removeClass("active"),e.data("scrollSpy:id")<a[0].data("scrollSpy:id")?a.unshift(t(this)):a.push(t(this))):a.push(t(this)),t("a[href=#"+a[0].attr("id")+"]").addClass("active")}),e.on("scrollSpy:exit",function(){if(a=t.grep(a,function(t){return 0!=t.height()}),a[0]){t("a[href=#"+a[0].attr("id")+"]").removeClass("active");var e=t(this);a=t.grep(a,function(t){return t.attr("id")!=e.attr("id")}),a[0]&&t("a[href=#"+a[0].attr("id")+"]").addClass("active")}}),e},t.winSizeSpy=function(e){return t.winSizeSpy=function(){return o},e=e||{throttle:100},o.on("resize",r(i,e.throttle||100))},t.fn.scrollSpy=function(e){return t.scrollSpy(t(this),e)}}(jQuery),function(t){t(document).ready(function(){function e(e){var n=e.css("font-family"),r=e.css("font-size");r&&i.css("font-size",r),n&&i.css("font-family",n),"off"===e.attr("wrap")&&i.css("overflow-wrap","normal").css("white-space","pre"),i.text(e.val()+"\n");var o=i.html().replace(/\n/g,"<br>");i.html(o),e.is(":visible")?i.css("width",e.width()):i.css("width",t(window).width()/2),e.css("height",i.height())}Materialize.updateTextFields=function(){var e="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea";t(e).each(function(e,n){t(n).val().length>0||void 0!==t(this).attr("placeholder")||t(n)[0].validity.badInput===!0?t(this).siblings("label, i").addClass("active"):t(this).siblings("label, i").removeClass("active")})};var n="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea";t("input[autofocus]").siblings("label, i").addClass("active"),t(document).on("change",n,function(){(0!==t(this).val().length||void 0!==t(this).attr("placeholder"))&&t(this).siblings("label, i").addClass("active"),validate_field(t(this))}),t(document).ready(function(){Materialize.updateTextFields()}),t(document).on("reset",function(e){var i=t(e.target);i.is("form")&&(i.find(n).removeClass("valid").removeClass("invalid"),i.find(n).each(function(){""===t(this).attr("value")&&t(this).siblings("label, i").removeClass("active")}),i.find("select.initialized").each(function(){var t=i.find("option[selected]").text();i.siblings("input.select-dropdown").val(t)}))}),t(document).on("focus",n,function(){t(this).siblings("label, i").addClass("active")}),t(document).on("blur",n,function(){var e=t(this);0===e.val().length&&e[0].validity.badInput!==!0&&void 0===e.attr("placeholder")&&e.siblings("label, i").removeClass("active"),validate_field(e)}),validate_field=function(t){var e=void 0!==t.attr("length"),n=parseInt(t.attr("length")),i=t.val().length;0===t.val().length&&t[0].validity.badInput===!1?t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid")):t.hasClass("validate")&&(t.is(":valid")&&e&&n>i||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid")))};var i=t(".hiddendiv").first();i.length||(i=t('<div class="hiddendiv common"></div>'),t("body").append(i));var r=".materialize-textarea";t(r).each(function(){var n=t(this);n.val().length&&e(n)}),t("body").on("keyup keydown",r,function(){e(t(this))}),t(".file-field").each(function(){var e=t(this).find("input.file-path");t(this).find('input[type="file"]').change(function(){e.val(t(this)[0].files[0].name),e.trigger("change")})});var o,s="input[type=range]",a=!1;t(s).each(function(){var e=t('<span class="thumb"><span class="value"></span></span>');t(this).after(e)});var l=".range-field";t(document).on("change",s,function(){var e=t(this).siblings(".thumb");e.find(".value").html(t(this).val())}),t(document).on("mousedown touchstart",s,function(e){var n=t(this).siblings(".thumb");n.length<=0&&(n=t('<span class="thumb"><span class="value"></span></span>'),t(this).append(n)),n.find(".value").html(t(this).val()),a=!0,t(this).addClass("active"),n.hasClass("active")||n.velocity({height:"30px",width:"30px",top:"-20px",marginLeft:"-15px"},{duration:300,easing:"easeOutExpo"}),o=void 0===e.pageX||null===e.pageX?e.originalEvent.touches[0].pageX-t(this).offset().left:e.pageX-t(this).offset().left;var i=t(this).outerWidth();
0>o?o=0:o>i&&(o=i),n.addClass("active").css("left",o),n.find(".value").html(t(this).val())}),t(document).on("mouseup touchend",l,function(){a=!1,t(this).removeClass("active")}),t(document).on("mousemove touchmove",l,function(e){var n,i=t(this).children(".thumb");if(a){i.hasClass("active")||i.velocity({height:"30px",width:"30px",top:"-20px",marginLeft:"-15px"},{duration:300,easing:"easeOutExpo"}),n=void 0===e.pageX||null===e.pageX?e.originalEvent.touches[0].pageX-t(this).offset().left:e.pageX-t(this).offset().left;var r=t(this).outerWidth();0>n?n=0:n>r&&(n=r),i.addClass("active").css("left",n)}}),t(document).on("mouseout touchleave",l,function(){if(!a){var e=t(this).children(".thumb");e.hasClass("active")&&e.velocity({height:"0",width:"0",top:"10px",marginLeft:"-6px"},{duration:100}),e.removeClass("active")}})}),t.fn.material_select=function(e){t(this).each(function(){if($select=t(this),!$select.hasClass("browser-default")){var n=$select.data("select-id");if(n&&($select.parent().find("i").remove(),$select.parent().find("input").remove(),$select.unwrap(),t("ul#select-options-"+n).remove()),"destroy"===e)return void $select.data("select-id",null).removeClass("initialized");var i=Materialize.guid();$select.data("select-id",i);var r=t('<div class="select-wrapper"></div>');r.addClass($select.attr("class"));var o,s=t('<ul id="select-options-'+i+'" class="dropdown-content select-dropdown"></ul>'),a=$select.children("option");o=void 0!==$select.find("option:selected")?$select.find("option:selected"):s.first(),a.each(function(){s.append(t('<li class="'+(t(this).is(":disabled")?"disabled":"")+'"><span>'+t(this).html()+"</span></li>"))}),s.find("li").each(function(n){var i=$select;t(this).click(function(){t(this).hasClass("disabled")||(i.find("option").eq(n).prop("selected",!0),i.trigger("change"),i.siblings("input.select-dropdown").val(t(this).text()),"undefined"!=typeof e&&e())})}),$select.wrap(r);var l=t('<span class="caret">&#9660;</span>');$select.is(":disabled")&&l.addClass("disabled");var u=t('<input type="text" class="select-dropdown" readonly="true" '+($select.is(":disabled")?"disabled":"")+' data-activates="select-options-'+i+'" value="'+o.html()+'"/>');$select.before(u),u.before(l),t("body").append(s),$select.is(":disabled")||u.dropdown({hover:!1}),$select.attr("tabindex")&&t(u[0]).attr("tabindex",$select.attr("tabindex")),$select.addClass("initialized"),u.on("focus",function(){t(this).trigger("open"),o=t(this).val(),selectedOption=s.find("li").filter(function(){return t(this).text().toLowerCase()===o.toLowerCase()})[0],activateOption(s,selectedOption)}),u.on("blur",function(){t(this).trigger("close")}),activateOption=function(e,n){e.find("li.active").removeClass("active"),t(n).addClass("active"),e.scrollTo(n)},filterQuery=[],onKeyDown=function(e){if(9==e.which)return void u.trigger("close");if(40==e.which&&!s.is(":visible"))return void u.trigger("open");if(13!=e.which||s.is(":visible")){e.preventDefault(),letter=String.fromCharCode(e.which).toLowerCase();var n=[9,13,27,38,40];letter&&-1===n.indexOf(e.which)&&(filterQuery.push(letter),string=filterQuery.join(""),newOption=s.find("li").filter(function(){return 0===t(this).text().toLowerCase().indexOf(string)})[0],newOption&&activateOption(s,newOption)),13==e.which&&(activeOption=s.find("li.active:not(.disabled)")[0],activeOption&&(t(activeOption).trigger("click"),u.trigger("close"))),40==e.which&&(newOption=s.find("li.active").next("li:not(.disabled)")[0],newOption&&activateOption(s,newOption)),27==e.which&&u.trigger("close"),38==e.which&&(newOption=s.find("li.active").prev("li:not(.disabled)")[0],newOption&&activateOption(s,newOption)),setTimeout(function(){filterQuery=[]},1e3)}},u.on("keydown",onKeyDown)}})}}(jQuery),function(t){var e={init:function(e){var n={indicators:!0,height:400,transition:500,interval:6e3};return e=t.extend(n,e),this.each(function(){function n(t,e){t.hasClass("center-align")?t.velocity({opacity:0,translateY:-100},{duration:e,queue:!1}):t.hasClass("right-align")?t.velocity({opacity:0,translateX:100},{duration:e,queue:!1}):t.hasClass("left-align")&&t.velocity({opacity:0,translateX:-100},{duration:e,queue:!1})}function i(t){t>=a.length?t=0:0>t&&(t=a.length-1),l=s.find(".active").index(),l!=t&&(r=a.eq(l),$caption=r.find(".caption"),r.removeClass("active"),r.velocity({opacity:0},{duration:e.transition,queue:!1,easing:"easeOutQuad",complete:function(){a.not(".active").velocity({opacity:0,translateX:0,translateY:0},{duration:0,queue:!1})}}),n($caption,e.transition),e.indicators&&u.eq(l).removeClass("active"),a.eq(t).velocity({opacity:1},{duration:e.transition,queue:!1,easing:"easeOutQuad"}),a.eq(t).find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:e.transition,delay:e.transition,queue:!1,easing:"easeOutQuad"}),a.eq(t).addClass("active"),e.indicators&&u.eq(t).addClass("active"))}var r,o=t(this),s=o.find("ul.slides").first(),a=s.find("li"),l=s.find(".active").index();if(-1!=l&&(r=a.eq(l)),o.hasClass("fullscreen")||(o.height(e.indicators?e.height+40:e.height),s.height(e.height)),a.find(".caption").each(function(){n(t(this),0)}),a.find("img").each(function(){t(this).css("background-image","url("+t(this).attr("src")+")"),t(this).attr("src","data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==")}),e.indicators){var u=t('<ul class="indicators"></ul>');a.each(function(){var n=t('<li class="indicator-item"></li>');n.click(function(){var n=s.parent(),r=n.find(t(this)).index();i(r),clearInterval($interval),$interval=setInterval(function(){l=s.find(".active").index(),a.length==l+1?l=0:l+=1,i(l)},e.transition+e.interval)}),u.append(n)}),o.append(u),u=o.find("ul.indicators").find("li.indicator-item")}r?r.show():(a.first().addClass("active").velocity({opacity:1},{duration:e.transition,queue:!1,easing:"easeOutQuad"}),l=0,r=a.eq(l),e.indicators&&u.eq(l).addClass("active")),r.find("img").each(function(){r.find(".caption").velocity({opacity:1,translateX:0,translateY:0},{duration:e.transition,queue:!1,easing:"easeOutQuad"})}),$interval=setInterval(function(){l=s.find(".active").index(),i(l+1)},e.transition+e.interval);var h=!1,c=!1,f=!1;o.hammer({prevent_default:!1}).bind("pan",function(t){if("touch"===t.gesture.pointerType){clearInterval($interval);var e=t.gesture.direction,n=t.gesture.deltaX,i=t.gesture.velocityX;$curr_slide=s.find(".active"),$curr_slide.velocity({translateX:n},{duration:50,queue:!1,easing:"easeOutQuad"}),4===e&&(n>o.innerWidth()/2||-.65>i)?f=!0:2===e&&(n<-1*o.innerWidth()/2||i>.65)&&(c=!0);var r;c&&(r=$curr_slide.next(),0===r.length&&(r=a.first()),r.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"})),f&&(r=$curr_slide.prev(),0===r.length&&(r=a.last()),r.velocity({opacity:1},{duration:300,queue:!1,easing:"easeOutQuad"}))}}).bind("panend",function(t){"touch"===t.gesture.pointerType&&($curr_slide=s.find(".active"),h=!1,curr_index=s.find(".active").index(),f||c?c?(i(curr_index+1),$curr_slide.velocity({translateX:-1*o.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):f&&(i(curr_index-1),$curr_slide.velocity({translateX:o.innerWidth()},{duration:300,queue:!1,easing:"easeOutQuad",complete:function(){$curr_slide.velocity({opacity:0,translateX:0},{duration:0,queue:!1})}})):$curr_slide.velocity({translateX:0},{duration:300,queue:!1,easing:"easeOutQuad"}),c=!1,f=!1,clearInterval($interval),$interval=setInterval(function(){l=s.find(".active").index(),a.length==l+1?l=0:l+=1,i(l)},e.transition+e.interval))}),o.on("sliderPause",function(){clearInterval($interval)}),o.on("sliderStart",function(){clearInterval($interval),$interval=setInterval(function(){l=s.find(".active").index(),a.length==l+1?l=0:l+=1,i(l)},e.transition+e.interval)})})},pause:function(){t(this).trigger("sliderPause")},start:function(){t(this).trigger("sliderStart")}};t.fn.slider=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.tooltip"):e.init.apply(this,arguments)}}(jQuery),function(t){t(document).ready(function(){t(document).on("click.card",".card",function(e){t(this).find(".card-reveal").length&&(t(e.target).is(t(".card-reveal .card-title"))||t(e.target).is(t(".card-reveal .card-title i"))?t(this).find(".card-reveal").velocity({translateY:0},{duration:225,queue:!1,easing:"easeInOutQuad",complete:function(){t(this).css({display:"none"})}}):(t(e.target).is(t(".card .activator"))||t(e.target).is(t(".card .activator i")))&&t(this).find(".card-reveal").css({display:"block"}).velocity("stop",!1).velocity({translateY:"-100%"},{duration:300,queue:!1,easing:"easeInOutQuad"}))})})}(jQuery),function(t){t(document).ready(function(){t.fn.pushpin=function(e){var n={top:0,bottom:1/0,offset:0};return e=t.extend(n,e),$index=0,this.each(function(){function n(t){t.removeClass("pin-top"),t.removeClass("pinned"),t.removeClass("pin-bottom")}function i(i,r){i.each(function(){e.top<=r&&e.bottom>=r&&!t(this).hasClass("pinned")&&(n(t(this)),t(this).css("top",e.offset),t(this).addClass("pinned")),r<e.top&&!t(this).hasClass("pin-top")&&(n(t(this)),t(this).css("top",0),t(this).addClass("pin-top")),r>e.bottom&&!t(this).hasClass("pin-bottom")&&(n(t(this)),t(this).addClass("pin-bottom"),t(this).css("top",e.bottom-s))})}var r=Materialize.guid(),o=t(this),s=t(this).offset().top;i(o,t(window).scrollTop()),t(window).on("scroll."+r,function(){var n=t(window).scrollTop()+e.offset;i(o,n)})})}})}(jQuery),function(t){t(document).ready(function(){t.fn.reverse=[].reverse,t(document).on("mouseenter.fixedActionBtn",".fixed-action-btn",function(){var n=t(this);e(n)}),t(document).on("mouseleave.fixedActionBtn",".fixed-action-btn",function(){var e=t(this);n(e)})}),t.fn.extend({openFAB:function(){var n=t(this);e(n)},closeFAB:function(){n($this)}});var e=function(e){if($this=e,$this.hasClass("active")===!1){$this.addClass("active"),$this.find("ul .btn-floating").velocity({scaleY:".4",scaleX:".4",translateY:"40px"},{duration:0});var n=0;$this.find("ul .btn-floating").reverse().each(function(){t(this).velocity({opacity:"1",scaleX:"1",scaleY:"1",translateY:"0"},{duration:80,delay:n}),n+=40})}},n=function(t){$this=t,$this.removeClass("active"),$this.find("ul .btn-floating").velocity("stop",!0),$this.find("ul .btn-floating").velocity({opacity:"0",scaleX:".4",scaleY:".4",translateY:"40px"},{duration:80})}}(jQuery),function(t){Materialize.fadeInImage=function(e){var n=t(e);n.css({opacity:0}),t(n).velocity({opacity:1},{duration:650,queue:!1,easing:"easeOutSine"}),t(n).velocity({opacity:1},{duration:1300,queue:!1,easing:"swing",step:function(e,n){n.start=100;var i=e/100,r=150-(100-e)/1.75;100>r&&(r=100),e>=0&&t(this).css({"-webkit-filter":"grayscale("+i+")brightness("+r+"%)",filter:"grayscale("+i+")brightness("+r+"%)"})}})},Materialize.showStaggeredList=function(e){var n=0;t(e).find("li").velocity({translateX:"-100px"},{duration:0}),t(e).find("li").each(function(){t(this).velocity({opacity:"1",translateX:"0"},{duration:800,delay:n,easing:[60,10]}),n+=120})},t(document).ready(function(){var e=!1,n=!1;t(".dismissable").each(function(){t(this).hammer({prevent_default:!1}).bind("pan",function(i){if("touch"===i.gesture.pointerType){var r=t(this),o=i.gesture.direction,s=i.gesture.deltaX,a=i.gesture.velocityX;r.velocity({translateX:s},{duration:50,queue:!1,easing:"easeOutQuad"}),4===o&&(s>r.innerWidth()/2||-.75>a)&&(e=!0),2===o&&(s<-1*r.innerWidth()/2||a>.75)&&(n=!0)}}).bind("panend",function(i){if(Math.abs(i.gesture.deltaX)<t(this).innerWidth()/2&&(n=!1,e=!1),"touch"===i.gesture.pointerType){var r=t(this);if(e||n){var o;o=e?r.innerWidth():-1*r.innerWidth(),r.velocity({translateX:o},{duration:100,queue:!1,easing:"easeOutQuad",complete:function(){r.css("border","none"),r.velocity({height:0,padding:0},{duration:200,queue:!1,easing:"easeOutQuad",complete:function(){r.remove()}})}})}else r.velocity({translateX:0},{duration:100,queue:!1,easing:"easeOutQuad"});e=!1,n=!1}})})})}(jQuery),function(){Materialize.scrollFire=function(t){var e=!1;window.addEventListener("scroll",function(){e=!0}),setInterval(function(){if(e){e=!1;for(var n=window.pageYOffset+window.innerHeight,i=0;i<t.length;i++){var r=t[i],o=r.selector,s=r.offset,a=r.callback,l=document.querySelector(o);if(null!==l){var u=l.getBoundingClientRect().top+document.body.scrollTop;if(n>u+s&&r.done!==!0){var h=new Function(a);h(),r.done=!0}}}}},100)}}(jQuery),function(t){"function"==typeof define&&define.amd?define("picker",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):this.Picker=t(jQuery)}(function(t){function e(o,s,l,c){function f(){return e._.node("div",e._.node("div",e._.node("div",e._.node("div",C.component.nodes(b.open),w.box),w.wrap),w.frame),w.holder)}function d(){_.data(s,C).addClass(w.input).attr("tabindex",-1).val(_.data("value")?C.get("select",x.format):o.value),x.editable||_.on("focus."+b.id+" click."+b.id,function(t){t.preventDefault(),C.$root[0].focus()}).on("keydown."+b.id,m),r(o,{haspopup:!0,expanded:!1,readonly:!1,owns:o.id+"_root"})}function p(){C.$root.on({keydown:m,focusin:function(t){C.$root.removeClass(w.focused),t.stopPropagation()},"mousedown click":function(e){var n=e.target;n!=C.$root.children()[0]&&(e.stopPropagation(),"mousedown"!=e.type||t(n).is("input, select, textarea, button, option")||(e.preventDefault(),C.$root[0].focus()))}}).on({focus:function(){_.addClass(w.target)},blur:function(){_.removeClass(w.target)}}).on("focus.toOpen",v).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var e=t(this),n=e.data(),i=e.hasClass(w.navDisabled)||e.hasClass(w.disabled),r=a();r=r&&(r.type||r.href),(i||r&&!t.contains(C.$root[0],r))&&C.$root[0].focus(),!i&&n.nav?C.set("highlight",C.component.item.highlight,{nav:n.nav}):!i&&"pick"in n?C.set("select",n.pick):n.clear?C.clear().close(!0):n.close&&C.close(!0)}),r(C.$root[0],"hidden",!0)}function g(){var e;x.hiddenName===!0?(e=o.name,o.name=""):(e=["string"==typeof x.hiddenPrefix?x.hiddenPrefix:"","string"==typeof x.hiddenSuffix?x.hiddenSuffix:"_submit"],e=e[0]+o.name+e[1]),C._hidden=t('<input type=hidden name="'+e+'"'+(_.data("value")||o.value?' value="'+C.get("select",x.formatSubmit)+'"':"")+">")[0],_.on("change."+b.id,function(){C._hidden.value=o.value?C.get("select",x.formatSubmit):""}),x.container?t(x.container).append(C._hidden):_.after(C._hidden)}function m(t){var e=t.keyCode,n=/^(8|46)$/.test(e);return 27==e?(C.close(),!1):void((32==e||n||!b.open&&C.component.key[e])&&(t.preventDefault(),t.stopPropagation(),n?C.clear().close():C.open()))}function v(t){t.stopPropagation(),"focus"==t.type&&C.$root.addClass(w.focused),C.open()}if(!o)return e;var y=!1,b={id:o.id||"P"+Math.abs(~~(Math.random()*new Date))},x=l?t.extend(!0,{},l.defaults,c):c||{},w=t.extend({},e.klasses(),x.klass),_=t(o),M=function(){return this.start()},C=M.prototype={constructor:M,$node:_,start:function(){return b&&b.start?C:(b.methods={},b.start=!0,b.open=!1,b.type=o.type,o.autofocus=o==a(),o.readOnly=!x.editable,o.id=o.id||b.id,"text"!=o.type&&(o.type="text"),C.component=new l(C,x),C.$root=t(e._.node("div",f(),w.picker,'id="'+o.id+'_root" tabindex="0"')),p(),x.formatSubmit&&g(),d(),x.container?t(x.container).append(C.$root):_.after(C.$root),C.on({start:C.component.onStart,render:C.component.onRender,stop:C.component.onStop,open:C.component.onOpen,close:C.component.onClose,set:C.component.onSet}).on({start:x.onStart,render:x.onRender,stop:x.onStop,open:x.onOpen,close:x.onClose,set:x.onSet}),y=n(C.$root.children()[0]),o.autofocus&&C.open(),C.trigger("start").trigger("render"))},render:function(t){return t?C.$root.html(f()):C.$root.find("."+w.box).html(C.component.nodes(b.open)),C.trigger("render")},stop:function(){return b.start?(C.close(),C._hidden&&C._hidden.parentNode.removeChild(C._hidden),C.$root.remove(),_.removeClass(w.input).removeData(s),setTimeout(function(){_.off("."+b.id)},0),o.type=b.type,o.readOnly=!1,C.trigger("stop"),b.methods={},b.start=!1,C):C},open:function(n){return b.open?C:(_.addClass(w.active),r(o,"expanded",!0),setTimeout(function(){C.$root.addClass(w.opened),r(C.$root[0],"hidden",!1)},0),n!==!1&&(b.open=!0,y&&h.css("overflow","hidden").css("padding-right","+="+i()),C.$root[0].focus(),u.on("click."+b.id+" focusin."+b.id,function(t){var e=t.target;e!=o&&e!=document&&3!=t.which&&C.close(e===C.$root.children()[0])}).on("keydown."+b.id,function(n){var i=n.keyCode,r=C.component.key[i],o=n.target;27==i?C.close(!0):o!=C.$root[0]||!r&&13!=i?t.contains(C.$root[0],o)&&13==i&&(n.preventDefault(),o.click()):(n.preventDefault(),r?e._.trigger(C.component.key.go,C,[e._.trigger(r)]):C.$root.find("."+w.highlighted).hasClass(w.disabled)||C.set("select",C.component.item.highlight).close())})),C.trigger("open"))},close:function(t){return t&&(C.$root.off("focus.toOpen")[0].focus(),setTimeout(function(){C.$root.on("focus.toOpen",v)},0)),_.removeClass(w.active),r(o,"expanded",!1),setTimeout(function(){C.$root.removeClass(w.opened+" "+w.focused),r(C.$root[0],"hidden",!0)},0),b.open?(b.open=!1,y&&h.css("overflow","").css("padding-right","-="+i()),u.off("."+b.id),C.trigger("close")):C},clear:function(t){return C.set("clear",null,t)},set:function(e,n,i){var r,o,s=t.isPlainObject(e),a=s?e:{};if(i=s&&t.isPlainObject(n)?n:i||{},e){s||(a[e]=n);for(r in a)o=a[r],r in C.component.item&&(void 0===o&&(o=null),C.component.set(r,o,i)),("select"==r||"clear"==r)&&_.val("clear"==r?"":C.get(r,x.format)).trigger("change");C.render()}return i.muted?C:C.trigger("set",a)},get:function(t,n){if(t=t||"value",null!=b[t])return b[t];if("valueSubmit"==t){if(C._hidden)return C._hidden.value;t="value"}if("value"==t)return o.value;if(t in C.component.item){if("string"==typeof n){var i=C.component.get(t);return i?e._.trigger(C.component.formats.toString,C.component,[n,i]):""}return C.component.get(t)}},on:function(e,n,i){var r,o,s=t.isPlainObject(e),a=s?e:{};if(e){s||(a[e]=n);for(r in a)o=a[r],i&&(r="_"+r),b.methods[r]=b.methods[r]||[],b.methods[r].push(o)}return C},off:function(){var t,e,n=arguments;for(t=0,namesCount=n.length;t<namesCount;t+=1)e=n[t],e in b.methods&&delete b.methods[e];return C},trigger:function(t,n){var i=function(t){var i=b.methods[t];i&&i.map(function(t){e._.trigger(t,C,[n])})};return i("_"+t),i(t),C}};return new M}function n(t){var e,n="position";return t.currentStyle?e=t.currentStyle[n]:window.getComputedStyle&&(e=getComputedStyle(t)[n]),"fixed"==e}function i(){if(h.height()<=l.height())return 0;var e=t('<div style="visibility:hidden;width:100px" />').appendTo("body"),n=e[0].offsetWidth;e.css("overflow","scroll");var i=t('<div style="width:100%" />').appendTo(e),r=i[0].offsetWidth;return e.remove(),n-r}function r(e,n,i){if(t.isPlainObject(n))for(var r in n)o(e,r,n[r]);else o(e,n,i)}function o(t,e,n){t.setAttribute(("role"==e?"":"aria-")+e,n)}function s(e,n){t.isPlainObject(e)||(e={attribute:n}),n="";for(var i in e){var r=("role"==i?"":"aria-")+i,o=e[i];n+=null==o?"":r+'="'+e[i]+'"'}return n}function a(){try{return document.activeElement}catch(t){}}var l=t(window),u=t(document),h=t(document.documentElement);return e.klasses=function(t){return t=t||"picker",{picker:t,opened:t+"--opened",focused:t+"--focused",input:t+"__input",active:t+"__input--active",target:t+"__input--target",holder:t+"__holder",frame:t+"__frame",wrap:t+"__wrap",box:t+"__box"}},e._={group:function(t){for(var n,i="",r=e._.trigger(t.min,t);r<=e._.trigger(t.max,t,[r]);r+=t.i)n=e._.trigger(t.item,t,[r]),i+=e._.node(t.node,n[0],n[1],n[2]);return i},node:function(e,n,i,r){return n?(n=t.isArray(n)?n.join(""):n,i=i?' class="'+i+'"':"",r=r?" "+r:"","<"+e+i+r+">"+n+"</"+e+">"):""},lead:function(t){return(10>t?"0":"")+t},trigger:function(t,e,n){return"function"==typeof t?t.apply(e,n||[]):t},digits:function(t){return/\d/.test(t[1])?2:1},isDate:function(t){return{}.toString.call(t).indexOf("Date")>-1&&this.isInteger(t.getDate())},isInteger:function(t){return{}.toString.call(t).indexOf("Number")>-1&&t%1===0},ariaAttr:s},e.extend=function(n,i){t.fn[n]=function(r,o){var s=this.data(n);return"picker"==r?s:s&&"string"==typeof r?e._.trigger(s[r],s,[o]):this.each(function(){var o=t(this);o.data(n)||new e(this,n,i,r)})},t.fn[n].defaults=i.defaults},e}),function(t){"function"==typeof define&&define.amd?define(["picker","jquery"],t):"object"==typeof exports?module.exports=t(require("./picker.js"),require("jquery")):t(Picker,jQuery)}(function(t,e){function n(t,e){var n=this,i=t.$node[0],r=i.value,o=t.$node.data("value"),s=o||r,a=o?e.formatSubmit:e.format,l=function(){return i.currentStyle?"rtl"==i.currentStyle.direction:"rtl"==getComputedStyle(t.$root[0]).direction};n.settings=e,n.$node=t.$node,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.disable=(e.disable||[]).slice(0),n.item.enable=-function(t){return t[0]===!0?t.shift():-1}(n.item.disable),n.set("min",e.min).set("max",e.max).set("now"),s?n.set("select",s,{format:a}):n.set("select",null).set("highlight",n.item.now),n.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(t){var e=n.item.highlight,i=new Date(e.year,e.month,e.date+t);n.set("highlight",i,{interval:t}),this.render()}},t.on("render",function(){t.$root.find("."+e.klass.selectMonth).on("change",function(){var n=this.value;n&&(t.set("highlight",[t.get("view").year,n,t.get("highlight").date]),t.$root.find("."+e.klass.selectMonth).trigger("focus"))}),t.$root.find("."+e.klass.selectYear).on("change",function(){var n=this.value;n&&(t.set("highlight",[n,t.get("view").month,t.get("highlight").date]),t.$root.find("."+e.klass.selectYear).trigger("focus"))})},1).on("open",function(){var i="";n.disabled(n.get("now"))&&(i=":not(."+e.klass.buttonToday+")"),t.$root.find("button"+i+", select").attr("disabled",!1)},1).on("close",function(){t.$root.find("button, select").attr("disabled",!0)},1)}var i=7,r=6,o=t._;n.prototype.set=function(t,e,n){var i=this,r=i.item;return null===e?("clear"==t&&(t="select"),r[t]=e,i):(r["enable"==t?"disable":"flip"==t?"enable":t]=i.queue[t].split(" ").map(function(r){return e=i[r](t,e,n)}).pop(),"select"==t?i.set("highlight",r.select,n):"highlight"==t?i.set("view",r.highlight,n):t.match(/^(flip|min|max|disable|enable)$/)&&(r.select&&i.disabled(r.select)&&i.set("select",r.select,n),r.highlight&&i.disabled(r.highlight)&&i.set("highlight",r.highlight,n)),i)},n.prototype.get=function(t){return this.item[t]},n.prototype.create=function(t,n,i){var r,s=this;return n=void 0===n?t:n,n==-(1/0)||n==1/0?r=n:e.isPlainObject(n)&&o.isInteger(n.pick)?n=n.obj:e.isArray(n)?(n=new Date(n[0],n[1],n[2]),n=o.isDate(n)?n:s.create().obj):n=o.isInteger(n)||o.isDate(n)?s.normalize(new Date(n),i):s.now(t,n,i),{year:r||n.getFullYear(),month:r||n.getMonth(),date:r||n.getDate(),day:r||n.getDay(),obj:r||n,pick:r||n.getTime()}},n.prototype.createRange=function(t,n){var i=this,r=function(t){return t===!0||e.isArray(t)||o.isDate(t)?i.create(t):t};return o.isInteger(t)||(t=r(t)),o.isInteger(n)||(n=r(n)),o.isInteger(t)&&e.isPlainObject(n)?t=[n.year,n.month,n.date+t]:o.isInteger(n)&&e.isPlainObject(t)&&(n=[t.year,t.month,t.date+n]),{from:r(t),to:r(n)}},n.prototype.withinRange=function(t,e){return t=this.createRange(t.from,t.to),e.pick>=t.from.pick&&e.pick<=t.to.pick},n.prototype.overlapRanges=function(t,e){var n=this;return t=n.createRange(t.from,t.to),e=n.createRange(e.from,e.to),n.withinRange(t,e.from)||n.withinRange(t,e.to)||n.withinRange(e,t.from)||n.withinRange(e,t.to)},n.prototype.now=function(t,e,n){return e=new Date,n&&n.rel&&e.setDate(e.getDate()+n.rel),this.normalize(e,n)},n.prototype.navigate=function(t,n,i){var r,o,s,a,l=e.isArray(n),u=e.isPlainObject(n),h=this.item.view;if(l||u){for(u?(o=n.year,s=n.month,a=n.date):(o=+n[0],s=+n[1],a=+n[2]),i&&i.nav&&h&&h.month!==s&&(o=h.year,s=h.month),r=new Date(o,s+(i&&i.nav?i.nav:0),1),o=r.getFullYear(),s=r.getMonth();new Date(o,s,a).getMonth()!==s;)a-=1;n=[o,s,a]}return n},n.prototype.normalize=function(t){return t.setHours(0,0,0,0),t},n.prototype.measure=function(t,e){var n=this;return e?"string"==typeof e?e=n.parse(t,e):o.isInteger(e)&&(e=n.now(t,e,{rel:e})):e="min"==t?-(1/0):1/0,e},n.prototype.viewset=function(t,e){return this.create([e.year,e.month,1])},n.prototype.validate=function(t,n,i){var r,s,a,l,u=this,h=n,c=i&&i.interval?i.interval:1,f=-1===u.item.enable,d=u.item.min,p=u.item.max,g=f&&u.item.disable.filter(function(t){if(e.isArray(t)){var i=u.create(t).pick;i<n.pick?r=!0:i>n.pick&&(s=!0)}return o.isInteger(t)}).length;if((!i||!i.nav)&&(!f&&u.disabled(n)||f&&u.disabled(n)&&(g||r||s)||!f&&(n.pick<=d.pick||n.pick>=p.pick)))for(f&&!g&&(!s&&c>0||!r&&0>c)&&(c*=-1);u.disabled(n)&&(Math.abs(c)>1&&(n.month<h.month||n.month>h.month)&&(n=h,c=c>0?1:-1),n.pick<=d.pick?(a=!0,c=1,n=u.create([d.year,d.month,d.date+(n.pick===d.pick?0:-1)])):n.pick>=p.pick&&(l=!0,c=-1,n=u.create([p.year,p.month,p.date+(n.pick===p.pick?0:1)])),!a||!l);)n=u.create([n.year,n.month,n.date+c]);return n},n.prototype.disabled=function(t){var n=this,i=n.item.disable.filter(function(i){return o.isInteger(i)?t.day===(n.settings.firstDay?i:i-1)%7:e.isArray(i)||o.isDate(i)?t.pick===n.create(i).pick:e.isPlainObject(i)?n.withinRange(i,t):void 0});return i=i.length&&!i.filter(function(t){return e.isArray(t)&&"inverted"==t[3]||e.isPlainObject(t)&&t.inverted}).length,-1===n.item.enable?!i:i||t.pick<n.item.min.pick||t.pick>n.item.max.pick},n.prototype.parse=function(t,e,n){var i=this,r={};return e&&"string"==typeof e?(n&&n.format||(n=n||{},n.format=i.settings.format),i.formats.toArray(n.format).map(function(t){var n=i.formats[t],s=n?o.trigger(n,i,[e,r]):t.replace(/^!/,"").length;n&&(r[t]=e.substr(0,s)),e=e.substr(s)}),[r.yyyy||r.yy,+(r.mm||r.m)-1,r.dd||r.d]):e},n.prototype.formats=function(){function t(t,e,n){var i=t.match(/\w+/)[0];return n.mm||n.m||(n.m=e.indexOf(i)+1),i.length}function e(t){return t.match(/\w+/)[0].length}return{d:function(t,e){return t?o.digits(t):e.date},dd:function(t,e){return t?2:o.lead(e.date)},ddd:function(t,n){return t?e(t):this.settings.weekdaysShort[n.day]},dddd:function(t,n){return t?e(t):this.settings.weekdaysFull[n.day]},m:function(t,e){return t?o.digits(t):e.month+1},mm:function(t,e){return t?2:o.lead(e.month+1)},mmm:function(e,n){var i=this.settings.monthsShort;return e?t(e,i,n):i[n.month]},mmmm:function(e,n){var i=this.settings.monthsFull;return e?t(e,i,n):i[n.month]},yy:function(t,e){return t?2:(""+e.year).slice(2)},yyyy:function(t,e){return t?4:e.year},toArray:function(t){return t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(t,e){var n=this;return n.formats.toArray(t).map(function(t){return o.trigger(n.formats[t],n,[0,e])||t.replace(/^!/,"")}).join("")}}}(),n.prototype.isDateExact=function(t,n){var i=this;return o.isInteger(t)&&o.isInteger(n)||"boolean"==typeof t&&"boolean"==typeof n?t===n:(o.isDate(t)||e.isArray(t))&&(o.isDate(n)||e.isArray(n))?i.create(t).pick===i.create(n).pick:!(!e.isPlainObject(t)||!e.isPlainObject(n))&&(i.isDateExact(t.from,n.from)&&i.isDateExact(t.to,n.to))},n.prototype.isDateOverlap=function(t,n){var i=this,r=i.settings.firstDay?1:0;return o.isInteger(t)&&(o.isDate(n)||e.isArray(n))?(t=t%7+r,t===i.create(n).day+1):o.isInteger(n)&&(o.isDate(t)||e.isArray(t))?(n=n%7+r,n===i.create(t).day+1):!(!e.isPlainObject(t)||!e.isPlainObject(n))&&i.overlapRanges(t,n)},n.prototype.flipEnable=function(t){var e=this.item;e.enable=t||(-1==e.enable?1:-1)},n.prototype.deactivate=function(t,n){var i=this,r=i.item.disable.slice(0);return"flip"==n?i.flipEnable():n===!1?(i.flipEnable(1),r=[]):n===!0?(i.flipEnable(-1),r=[]):n.map(function(t){for(var n,s=0;s<r.length;s+=1)if(i.isDateExact(t,r[s])){n=!0;break}n||(o.isInteger(t)||o.isDate(t)||e.isArray(t)||e.isPlainObject(t)&&t.from&&t.to)&&r.push(t)}),r},n.prototype.activate=function(t,n){var i=this,r=i.item.disable,s=r.length;return"flip"==n?i.flipEnable():n===!0?(i.flipEnable(1),r=[]):n===!1?(i.flipEnable(-1),r=[]):n.map(function(t){var n,a,l,u;for(l=0;s>l;l+=1){if(a=r[l],i.isDateExact(a,t)){n=r[l]=null,u=!0;break}if(i.isDateOverlap(a,t)){e.isPlainObject(t)?(t.inverted=!0,n=t):e.isArray(t)?(n=t,n[3]||n.push("inverted")):o.isDate(t)&&(n=[t.getFullYear(),t.getMonth(),t.getDate(),"inverted"]);break}}if(n)for(l=0;s>l;l+=1)if(i.isDateExact(r[l],t)){r[l]=null;break}if(u)for(l=0;s>l;l+=1)if(i.isDateOverlap(r[l],t)){r[l]=null;break}n&&r.push(n)}),r.filter(function(t){return null!=t})},n.prototype.nodes=function(t){var e=this,n=e.settings,s=e.item,a=s.now,l=s.select,u=s.highlight,h=s.view,c=s.disable,f=s.min,d=s.max,p=function(t,e){return n.firstDay&&(t.push(t.shift()),e.push(e.shift())),o.node("thead",o.node("tr",o.group({min:0,max:i-1,i:1,node:"th",item:function(i){return[t[i],n.klass.weekdays,'scope=col title="'+e[i]+'"']}})))}((n.showWeekdaysFull?n.weekdaysFull:n.weekdaysLetter).slice(0),n.weekdaysFull.slice(0)),g=function(t){return o.node("div"," ",n.klass["nav"+(t?"Next":"Prev")]+(t&&h.year>=d.year&&h.month>=d.month||!t&&h.year<=f.year&&h.month<=f.month?" "+n.klass.navDisabled:""),"data-nav="+(t||-1)+" "+o.ariaAttr({role:"button",controls:e.$node[0].id+"_table"})+' title="'+(t?n.labelMonthNext:n.labelMonthPrev)+'"')},m=function(i){var r=n.showMonthsShort?n.monthsShort:n.monthsFull;return"short_months"==i&&(r=n.monthsShort),n.selectMonths&&void 0==i?o.node("select",o.group({min:0,max:11,i:1,node:"option",item:function(t){return[r[t],0,"value="+t+(h.month==t?" selected":"")+(h.year==f.year&&t<f.month||h.year==d.year&&t>d.month?" disabled":"")]}}),n.klass.selectMonth+" browser-default",(t?"":"disabled")+" "+o.ariaAttr({controls:e.$node[0].id+"_table"})+' title="'+n.labelMonthSelect+'"'):"short_months"==i?null!=l?o.node("div",r[l.month]):o.node("div",r[h.month]):o.node("div",r[h.month],n.klass.month)},v=function(i){var r=h.year,s=n.selectYears===!0?5:~~(n.selectYears/2);if(s){var a=f.year,l=d.year,u=r-s,c=r+s;if(a>u&&(c+=a-u,u=a),c>l){var p=u-a,g=c-l;u-=p>g?g:p,c=l}if(n.selectYears&&void 0==i)return o.node("select",o.group({min:u,max:c,i:1,node:"option",item:function(t){return[t,0,"value="+t+(r==t?" selected":"")]}}),n.klass.selectYear+" browser-default",(t?"":"disabled")+" "+o.ariaAttr({controls:e.$node[0].id+"_table"})+' title="'+n.labelYearSelect+'"')}return"raw"==i?o.node("div",r):o.node("div",r,n.klass.year)};return createDayLabel=function(){return null!=l?o.node("div",l.date):o.node("div",a.date)},createWeekdayLabel=function(){var t;t=null!=l?l.day:a.day;var e=n.weekdaysFull[t];return e},o.node("div",o.node("div",createWeekdayLabel(),"picker__weekday-display")+o.node("div",m("short_months"),n.klass.month_display)+o.node("div",createDayLabel(),n.klass.day_display)+o.node("div",v("raw"),n.klass.year_display),n.klass.date_display)+o.node("div",o.node("div",(n.selectYears?m()+v():m()+v())+g()+g(1),n.klass.header)+o.node("table",p+o.node("tbody",o.group({min:0,max:r-1,i:1,node:"tr",item:function(t){var r=n.firstDay&&0===e.create([h.year,h.month,1]).day?-7:0;return[o.group({min:i*t-h.day+r+1,max:function(){return this.min+i-1},i:1,node:"td",item:function(t){t=e.create([h.year,h.month,t+(n.firstDay?1:0)]);var i=l&&l.pick==t.pick,r=u&&u.pick==t.pick,s=c&&e.disabled(t)||t.pick<f.pick||t.pick>d.pick,p=o.trigger(e.formats.toString,e,[n.format,t]);return[o.node("div",t.date,function(e){return e.push(h.month==t.month?n.klass.infocus:n.klass.outfocus),a.pick==t.pick&&e.push(n.klass.now),i&&e.push(n.klass.selected),r&&e.push(n.klass.highlighted),s&&e.push(n.klass.disabled),e.join(" ")}([n.klass.day]),"data-pick="+t.pick+" "+o.ariaAttr({role:"gridcell",label:p,selected:!(!i||e.$node.val()!==p)||null,activedescendant:!!r||null,disabled:!!s||null})),"",o.ariaAttr({role:"presentation"})]}})]}})),n.klass.table,'id="'+e.$node[0].id+'_table" '+o.ariaAttr({role:"grid",controls:e.$node[0].id,readonly:!0})),n.klass.calendar_container)+o.node("div",o.node("button",n.today,"btn-flat picker__today","type=button data-pick="+a.pick+(t&&!e.disabled(a)?"":" disabled")+" "+o.ariaAttr({
controls:e.$node[0].id}))+o.node("button",n.clear,"btn-flat picker__clear","type=button data-clear=1"+(t?"":" disabled")+" "+o.ariaAttr({controls:e.$node[0].id}))+o.node("button",n.close,"btn-flat picker__close","type=button data-close=true "+(t?"":" disabled")+" "+o.ariaAttr({controls:e.$node[0].id})),n.klass.footer)},n.defaults=function(t){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysLetter:["S","M","T","W","T","F","S"],today:"Today",clear:"Clear",close:"Close",format:"d mmmm, yyyy",klass:{table:t+"table",header:t+"header",date_display:t+"date-display",day_display:t+"day-display",month_display:t+"month-display",year_display:t+"year-display",calendar_container:t+"calendar-container",navPrev:t+"nav--prev",navNext:t+"nav--next",navDisabled:t+"nav--disabled",month:t+"month",year:t+"year",selectMonth:t+"select--month",selectYear:t+"select--year",weekdays:t+"weekday",day:t+"day",disabled:t+"day--disabled",selected:t+"day--selected",highlighted:t+"day--highlighted",now:t+"day--today",infocus:t+"day--infocus",outfocus:t+"day--outfocus",footer:t+"footer",buttonClear:t+"button--clear",buttonToday:t+"button--today",buttonClose:t+"button--close"}}}(t.klasses().picker+"__"),t.extend("pickadate",n)}),function(t){function e(){var e=+t(this).attr("length"),n=+t(this).val().length,i=e>=n;t(this).parent().find('span[class="character-counter"]').html(n+"/"+e),r(i,t(this))}function n(e){var n=t("<span/>").addClass("character-counter").css("float","right").css("font-size","12px").css("height",1);e.parent().append(n)}function i(){t(this).parent().find('span[class="character-counter"]').html("")}function r(t,e){var n=e.hasClass("invalid");t&&n?e.removeClass("invalid"):t||n||(e.removeClass("valid"),e.addClass("invalid"))}t.fn.characterCounter=function(){return this.each(function(){var r=void 0!==t(this).attr("length");r&&(t(this).on("input",e),t(this).on("focus",e),t(this).on("blur",i),n(t(this)))})},t(document).ready(function(){t("input, textarea").characterCounter()})}(jQuery),!function(){function t(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function e(t){return null!=t&&!isNaN(t)}function n(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function i(t){return t.length}function r(t){for(var e=1;t*e%1;)e*=10;return e}function o(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(i){t.prototype=e}}function s(){}function a(t){return ss+t in this}function l(t){return t=ss+t,t in this&&delete this[t]}function u(){var t=[];return this.forEach(function(e){t.push(e)}),t}function h(){var t=0;for(var e in this)e.charCodeAt(0)===as&&++t;return t}function c(){for(var t in this)if(t.charCodeAt(0)===as)return!1;return!0}function f(){}function d(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function p(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,i=ls.length;i>n;++n){var r=ls[n]+e;if(r in t)return r}}function g(){}function m(){}function v(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new s;return e.on=function(e,r){var o,s=i.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function y(){$o.event.preventDefault()}function b(){for(var t,e=$o.event;t=e.sourceEvent;)e=t;return e}function x(t){for(var e=new m,n=0,i=arguments.length;++n<i;)e[arguments[n]]=v(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=$o.event;r.target=t,$o.event=r,e[r.type].apply(n,i)}finally{$o.event=o}}},e}function w(t){return hs(t,gs),t}function _(t){return"function"==typeof t?t:function(){return cs(t,this)}}function M(t){return"function"==typeof t?t:function(){return fs(t,this)}}function C(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=$o.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?a:s:t.local?o:r}function P(t){return t.trim().replace(/\s+/g," ")}function E(t){return new RegExp("(?:^|\\s+)"+$o.requote(t)+"(?:\\s+|$)","g")}function k(t){return(t+"").trim().split(/^|\s+/)}function S(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=k(t).map(T);var r=t.length;return"function"==typeof e?i:n}function T(t){var e=E(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",P(r+" "+t))):n.setAttribute("class",P(r.replace(e," ")))}}function A(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function o(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?o:r}function N(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function z(t){return"function"==typeof t?t:(t=$o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function I(t){return{__data__:t}}function D(t){return function(){return ps(this,t)}}function O(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function R(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,o=t[n],s=0,a=o.length;a>s;s++)(r=o[s])&&e(r,s,n);return t}function B(t){return hs(t,vs),t}function H(t){var e,n;return function(i,r,o){var s,a=t[o].update,l=a.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(s=a[e])&&++e<l;);return s}}function V(){var t=this.__transition__;t&&++t.active}function L(t,e,n){function i(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function r(){var r=l(e,Yo(arguments));i.call(this),this.addEventListener(t,this[s]=r,r.$=n),r._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+$o.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var s="__on"+t,a=t.indexOf("."),l=W;a>0&&(t=t.substring(0,a));var u=bs.get(t);return u&&(t=u,l=q),a?e?r:i:e?g:o}function W(t,e){return function(n){var i=$o.event;$o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{$o.event=i}}}function q(t,e){var n=W(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function F(){var t=".dragsuppress-"+ ++ws,e="click"+t,n=$o.select(Go).on("touchmove"+t,y).on("dragstart"+t,y).on("selectstart"+t,y);if(xs){var i=Qo.style,r=i[xs];i[xs]="none"}return function(o){function s(){n.on(e,null)}n.on(t,null),xs&&(i[xs]=r),o&&(n.on(e,function(){y(),s()},!0),setTimeout(s,0))}}function j(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>_s&&(Go.scrollX||Go.scrollY)){n=$o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var r=n[0][0].getScreenCTM();_s=!(r.f||r.e),n.remove()}return _s?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function $(){return $o.event.changedTouches[0].identifier}function U(){return $o.event.target}function Y(){return Go}function X(t){return t>0?1:0>t?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function G(t){return t>1?0:-1>t?Ms:Math.acos(t)}function Z(t){return t>1?Ps:-1>t?-Ps:Math.asin(t)}function J(t){return((t=Math.exp(t))-1/t)/2}function K(t){return((t=Math.exp(t))+1/t)/2}function tt(t){return((t=Math.exp(2*t))-1)/(t+1)}function et(t){return(t=Math.sin(t/2))*t}function nt(){}function it(t,e,n){return this instanceof it?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof it?new it(t.h,t.s,t.l):vt(""+t,yt,it):new it(t,e,n)}function rt(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(s-o)*t/60:180>t?s:240>t?o+(s-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,s;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+e):n+e-n*e,o=2*n-s,new dt(r(t+120),r(t),r(t-120))}function ot(t,e,n){return this instanceof ot?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ot?new ot(t.h,t.c,t.l):t instanceof at?ut(t.l,t.a,t.b):ut((t=bt((t=$o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ot(t,e,n)}function st(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new at(n,Math.cos(t*=Ss)*e,Math.sin(t)*e)}function at(t,e,n){return this instanceof at?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof at?new at(t.l,t.a,t.b):t instanceof ot?st(t.l,t.c,t.h):bt((t=dt(t)).r,t.g,t.b):new at(t,e,n)}function lt(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=ht(r)*Vs,i=ht(i)*Ls,o=ht(o)*Ws,new dt(ft(3.2404542*r-1.5371385*i-.4985314*o),ft(-.969266*r+1.8760108*i+.041556*o),ft(.0556434*r-.2040259*i+1.0572252*o))}function ut(t,e,n){return t>0?new ot(Math.atan2(n,e)*Ts,Math.sqrt(e*e+n*n),t):new ot(NaN,NaN,t)}function ht(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ct(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ft(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function dt(t,e,n){return this instanceof dt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof dt?new dt(t.r,t.g,t.b):vt(""+t,dt,rt):new dt(t,e,n)}function pt(t){return new dt(t>>16,255&t>>8,255&t)}function gt(t){return pt(t)+""}function mt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function vt(t,e,n){var i,r,o,s=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(wt(r[0]),wt(r[1]),wt(r[2]))}return(o=js.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.substring(1),16))||(4===t.length?(s=(3840&o)>>4,s=s>>4|s,a=240&o,a=a>>4|a,l=15&o,l=l<<4|l):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,l=255&o)),e(s,a,l))}function yt(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,l=(s+o)/2;return a?(r=.5>l?a/(s+o):a/(2-s-o),i=t==s?(e-n)/a+(n>e?6:0):e==s?(n-t)/a+2:(t-e)/a+4,i*=60):(i=NaN,r=l>0&&1>l?0:i),new it(i,r,l)}function bt(t,e,n){t=xt(t),e=xt(e),n=xt(n);var i=ct((.4124564*t+.3575761*e+.1804375*n)/Vs),r=ct((.2126729*t+.7151522*e+.072175*n)/Ls),o=ct((.0193339*t+.119192*e+.9503041*n)/Ws);return at(116*r-16,500*(i-r),200*(r-o))}function xt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function wt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function _t(t){return"function"==typeof t?t:function(){return t}}function Mt(t){return t}function Ct(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Pt(e,n,t,i)}}function Pt(t,e,n,i){function r(){var t,e=l.status;if(!e&&l.responseText||e>=200&&300>e||304===e){try{t=n.call(o,l)}catch(i){return void s.error.call(o,i)}s.load.call(o,t)}else s.error.call(o,l)}var o={},s=$o.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,u=null;return!Go.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=$o.event;$o.event=t;try{s.progress.call(o,l)}finally{$o.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==e?delete a[t]:a[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(Yo(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in a||(a.accept=e+",*/*"),l.setRequestHeader)for(var h in a)l.setRequestHeader(h,a[h]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),s.beforesend.call(o,l),l.send(null==i?null:i),o},o.abort=function(){return l.abort(),o},$o.rebind(o,s,"on"),null==i?o:o.get(Et(i))}function Et(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function kt(){var t=St(),e=Tt()-t;e>24?(isFinite(e)&&(clearTimeout(Xs),Xs=setTimeout(kt,e)),Ys=0):(Ys=1,Gs(kt))}function St(){var t=Date.now();for(Qs=$s;Qs;)t>=Qs.t&&(Qs.f=Qs.c(t-Qs.t)),Qs=Qs.n;return t}function Tt(){for(var t,e=$s,n=1/0;e;)e.f?e=t?t.n=e.n:$s=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Us=t,n}function At(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Nt(t,e){var n=Math.pow(10,3*os(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function zt(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,o=i?function(t){for(var e=t.length,r=[],o=0,s=i[0];e>0&&s>0;)r.push(t.substring(e-=s,e+s)),s=i[o=(o+1)%i.length];return r.reverse().join(n)}:Mt;return function(t){var n=Js.exec(t),i=n[1]||" ",s=n[2]||">",a=n[3]||"",l=n[4]||"",u=n[5],h=+n[6],c=n[7],f=n[8],d=n[9],p=1,g="",m="",v=!1;switch(f&&(f=+f.substring(1)),(u||"0"===i&&"="===s)&&(u=i="0",s="=",c&&(h-=Math.floor((h-1)/4))),d){case"n":c=!0,d="g";break;case"%":p=100,m="%",d="f";break;case"p":p=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+d.toLowerCase());case"c":case"d":v=!0,f=0;break;case"s":p=-1,d="r"}"$"===l&&(g=r[0],m=r[1]),"r"!=d||f||(d="g"),null!=f&&("g"==d?f=Math.max(1,Math.min(21,f)):("e"==d||"f"==d)&&(f=Math.max(0,Math.min(20,f)))),d=Ks.get(d)||It;var y=u&&c;return function(t){var n=m;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):a;if(0>p){var l=$o.formatPrefix(t,f);t=l.scale(t),n=l.symbol+m}else t*=p;t=d(t,f);var b=t.lastIndexOf("."),x=0>b?t:t.substring(0,b),w=0>b?"":e+t.substring(b+1);!u&&c&&(x=o(x));var _=g.length+x.length+w.length+(y?0:r.length),M=h>_?new Array(_=h-_+1).join(i):"";return y&&(x=o(M+x)),r+=g,t=x+w,("<"===s?r+t+M:">"===s?M+r+t:"^"===s?M.substring(0,_>>=1)+r+t+M.substring(_):r+(y?t:M+t))+n}}}function It(t){return t+""}function Dt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ot(t,e,n){function i(e){var n=t(e),i=o(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new ea(n-1)),1),n}function o(t,n){return e(t=new ea((+t)),n),t}function s(t,i,o){var s=r(t),a=[];if(o>1)for(;i>s;)n(s)%o||a.push(new Date((+s))),e(s,1);else for(;i>s;)a.push(new Date((+s))),e(s,1);return a}function a(t,e,n){try{ea=Dt;var i=new Dt;return i._=t,s(i,e,n)}finally{ea=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=s;var l=t.utc=Rt(t);return l.floor=l,l.round=Rt(i),l.ceil=Rt(r),l.offset=Rt(o),l.range=a,t}function Rt(t){return function(e,n){try{ea=Dt;var i=new Dt;return i._=e,t(i,n)._}finally{ea=Date}}}function Bt(t){function e(t){function e(e){for(var n,r,o,s=[],a=-1,l=0;++a<i;)37===t.charCodeAt(a)&&(s.push(t.substring(l,a)),null!=(r=ia[n=t.charAt(++a)])&&(n=t.charAt(++a)),(o=S[n])&&(n=o(e,null==r?"e"===n?" ":"0":r)),s.push(n),l=a+1);return s.push(t.substring(l,a)),s.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var o=null!=i.Z&&ea!==Dt,s=new(o?Dt:ea);return"j"in i?s.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(s.setFullYear(i.y,0,1),s.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(s.getDay()+5)%7:i.w+7*i.U-(s.getDay()+6)%7)):s.setFullYear(i.y,i.m,i.d),s.setHours(i.H+Math.floor(i.Z/100),i.M+i.Z%100,i.S,i.L),o?s._:s},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,o,s,a=0,l=e.length,u=n.length;l>a;){if(i>=u)return-1;if(r=e.charCodeAt(a++),37===r){if(s=e.charAt(a++),o=T[s in ia?e.charAt(a++):s],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){_.lastIndex=0;var i=_.exec(e.substring(n));return i?(t.w=M.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){x.lastIndex=0;var i=x.exec(e.substring(n));return i?(t.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){E.lastIndex=0;var i=E.exec(e.substring(n));return i?(t.m=k.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,n){C.lastIndex=0;var i=C.exec(e.substring(n));return i?(t.m=P.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,i){return n(t,S.c.toString(),e,i)}function l(t,e,i){return n(t,S.x.toString(),e,i)}function u(t,e,i){return n(t,S.X.toString(),e,i)}function h(t,e,n){var i=b.get(e.substring(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var c=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{ea=Dt;var e=new ea;return e._=t,i(e)}finally{ea=Date}}var i=e(t);return n.parse=function(t){try{ea=Dt;var e=i.parse(t);return e&&e._}finally{ea=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=ie;var b=$o.map(),x=Vt(g),w=Lt(g),_=Vt(m),M=Lt(m),C=Vt(v),P=Lt(v),E=Vt(y),k=Lt(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var S={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(c),d:function(t,e){return Ht(t.getDate(),e,2)},e:function(t,e){return Ht(t.getDate(),e,2)},H:function(t,e){return Ht(t.getHours(),e,2)},I:function(t,e){return Ht(t.getHours()%12||12,e,2)},j:function(t,e){return Ht(1+ta.dayOfYear(t),e,3)},L:function(t,e){return Ht(t.getMilliseconds(),e,3)},m:function(t,e){return Ht(t.getMonth()+1,e,2)},M:function(t,e){return Ht(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Ht(t.getSeconds(),e,2)},U:function(t,e){return Ht(ta.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ht(ta.mondayOfYear(t),e,2)},x:e(f),X:e(d),y:function(t,e){return Ht(t.getFullYear()%100,e,2)},Y:function(t,e){return Ht(t.getFullYear()%1e4,e,4)},Z:ee,"%":function(){return"%"}},T={a:i,A:r,b:o,B:s,c:a,d:Qt,e:Qt,H:Zt,I:Zt,j:Gt,L:te,m:Xt,M:Jt,p:h,S:Kt,U:qt,w:Wt,W:Ft,x:l,X:u,y:$t,Y:jt,Z:Ut,"%":ne};return e}function Ht(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function Vt(t){return new RegExp("^(?:"+t.map($o.requote).join("|")+")","i")}function Lt(t){for(var e=new s,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Wt(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function qt(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n));return i?(t.U=+i[0],n+i[0].length):-1}function Ft(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n));return i?(t.W=+i[0],n+i[0].length):-1}function jt(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function $t(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n,n+2));return i?(t.y=Yt(+i[0]),n+i[0].length):-1}function Ut(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=-e,n+5):-1}function Yt(t){return t+(t>68?1900:2e3)}function Xt(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Qt(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Gt(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function Zt(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Jt(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Kt(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function te(t,e,n){ra.lastIndex=0;var i=ra.exec(e.substring(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ee(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=~~(os(e)/60),r=os(e)%60;return n+Ht(i,"0",2)+Ht(r,"0",2)}function ne(t,e,n){oa.lastIndex=0;var i=oa.exec(e.substring(n,n+1));return i?n+i[0].length:-1}function ie(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function re(){}function oe(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function se(t,e){t&&ua.hasOwnProperty(t.type)&&ua[t.type](t,e)}function ae(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function le(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)ae(t[n],e,1);e.polygonEnd()}function ue(){function t(t,e){t*=Ss,e=e*Ss/2+Ms/4;var n=t-i,s=n>=0?1:-1,a=s*n,l=Math.cos(e),u=Math.sin(e),h=o*u,c=r*l+h*Math.cos(a),f=h*s*Math.sin(a);ca.add(Math.atan2(f,c)),i=t,r=l,o=u}var e,n,i,r,o;fa.point=function(s,a){fa.point=t,i=(e=s)*Ss,r=Math.cos(a=(n=a)*Ss/2+Ms/4),o=Math.sin(a)},fa.lineEnd=function(){t(e,n)}}function he(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function ce(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function fe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function de(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function pe(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ge(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function me(t){return[Math.atan2(t[1],t[0]),Z(t[2])]}function ve(t,e){return os(t[0]-e[0])<Es&&os(t[1]-e[1])<Es}function ye(t,e){t*=Ss;var n=Math.cos(e*=Ss);be(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function be(t,e,n){++da,ga+=(t-ga)/da,ma+=(e-ma)/da,va+=(n-va)/da}function xe(){function t(t,r){t*=Ss;var o=Math.cos(r*=Ss),s=o*Math.cos(t),a=o*Math.sin(t),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*a)*u+(u=i*s-e*l)*u+(u=e*a-n*s)*u),e*s+n*a+i*l);pa+=u,ya+=u*(e+(e=s)),ba+=u*(n+(n=a)),xa+=u*(i+(i=l)),be(e,n,i)}var e,n,i;Ca.point=function(r,o){r*=Ss;var s=Math.cos(o*=Ss);e=s*Math.cos(r),n=s*Math.sin(r),i=Math.sin(o),Ca.point=t,be(e,n,i)}}function we(){Ca.point=ye}function _e(){function t(t,e){t*=Ss;var n=Math.cos(e*=Ss),s=n*Math.cos(t),a=n*Math.sin(t),l=Math.sin(e),u=r*l-o*a,h=o*s-i*l,c=i*a-r*s,f=Math.sqrt(u*u+h*h+c*c),d=i*s+r*a+o*l,p=f&&-G(d)/f,g=Math.atan2(f,d);wa+=p*u,_a+=p*h,Ma+=p*c,pa+=g,ya+=g*(i+(i=s)),ba+=g*(r+(r=a)),xa+=g*(o+(o=l)),be(i,r,o)}var e,n,i,r,o;Ca.point=function(s,a){e=s,n=a,Ca.point=t,s*=Ss;var l=Math.cos(a*=Ss);i=l*Math.cos(s),r=l*Math.sin(s),o=Math.sin(a),be(i,r,o)},Ca.lineEnd=function(){t(e,n),Ca.lineEnd=we,Ca.point=ye}}function Me(){return!0}function Ce(t,e,n,i,r){var o=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(ve(n,i)){r.lineStart();for(var a=0;e>a;++a)r.point((n=t[a])[0],n[1]);return void r.lineEnd()}var l=new Ee(n,t,null,(!0)),u=new Ee(n,null,l,(!1));l.o=u,o.push(l),s.push(u),l=new Ee(i,t,null,(!1)),u=new Ee(i,null,l,(!0)),l.o=u,o.push(l),s.push(u)}}),s.sort(e),Pe(o),Pe(s),o.length){for(var a=0,l=n,u=s.length;u>a;++a)s[a].e=l=!l;for(var h,c,f=o[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;h=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var a=0,u=h.length;u>a;++a)r.point((c=h[a])[0],c[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(p){h=d.p.z;for(var a=h.length-1;a>=0;--a)r.point((c=h[a])[0],c[1])}else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,h=d.z,p=!p}while(!d.v);r.lineEnd()}}}function Pe(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Ee(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ke(t,e,n,i){return function(r,o){function s(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function a(t,e){var n=r(t,e);m.point(n[0],n[1])}function l(){y.point=a,m.lineStart()}function u(){y.point=s,m.lineEnd()}function h(t,e){g.push([t,e]);var n=r(t,e);x.point(n[0],n[1])}function c(){x.lineStart(),g=[]}function f(){h(g[0][0],g[0][1]),x.lineEnd();var t,e=x.clean(),n=b.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,s=-1;if(i>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++s<i;)o.point((r=t[s])[0],r[1]);o.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Se))}var d,p,g,m=e(o),v=r.invert(i[0],i[1]),y={point:s,lineStart:l,lineEnd:u,polygonStart:function(){y.point=h,y.lineStart=c,y.lineEnd=f,d=[],p=[]},polygonEnd:function(){y.point=s,y.lineStart=l,y.lineEnd=u,d=$o.merge(d);var t=Ne(v,p);d.length?(w||(o.polygonStart(),w=!0),Ce(d,Ae,t,n,o)):t&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Te(),x=e(b),w=!1;return y}}function Se(t){return t.length>1}function Te(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:g,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ae(t,e){return((t=t.x)[0]<0?t[1]-Ps-Es:Ps-t[1])-((e=e.x)[0]<0?e[1]-Ps-Es:Ps-e[1])}function Ne(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,s=0;ca.reset();for(var a=0,l=e.length;l>a;++a){var u=e[a],h=u.length;if(h)for(var c=u[0],f=c[0],d=c[1]/2+Ms/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===h&&(m=0),t=u[m];var v=t[0],y=t[1]/2+Ms/4,b=Math.sin(y),x=Math.cos(y),w=v-f,_=w>=0?1:-1,M=_*w,C=M>Ms,P=p*b;if(ca.add(Math.atan2(P*_*Math.sin(M),g*x+P*Math.cos(M))),o+=C?w+_*Cs:w,C^f>=n^v>=n){var E=fe(he(c),he(t));ge(E);var k=fe(r,E);ge(k);var S=(C^w>=0?-1:1)*Z(k[2]);(i>S||i===S&&(E[0]||E[1]))&&(s+=C^w>=0?1:-1)}if(!m++)break;f=v,p=b,g=x,c=t}}return(-Es>o||Es>o&&0>ca)^1&s}function ze(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Ms:-Ms,l=os(o-n);os(l-Ms)<Es?(t.point(n,i=(i+s)/2>0?Ps:-Ps),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=Ms&&(os(n-r)<Es&&(n-=r*Es),os(o-a)<Es&&(o-=a*Es),i=Ie(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Ie(t,e,n,i){var r,o,s=Math.sin(t-n);return os(s)>Es?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*s)):(e+i)/2}function De(t,e,n,i){var r;if(null==t)r=n*Ps,i.point(-Ms,r),i.point(0,r),i.point(Ms,r),i.point(Ms,0),i.point(Ms,-r),i.point(0,-r),i.point(-Ms,-r),i.point(-Ms,0),i.point(-Ms,r);else if(os(t[0]-e[0])>Es){var o=t[0]<e[0]?Ms:-Ms;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Oe(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,l,u,h;return{lineStart:function(){u=l=!1,h=1},point:function(c,f){var d,p=[c,f],g=e(c,f),m=s?g?0:r(c,f):g?r(c+(0>c?Ms:-Ms),f):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(d=i(n,p),(ve(n,d)||ve(p,d))&&(p[0]+=Es,p[1]+=Es,g=e(p[0],p[1]))),g!==l)h=0,g?(t.lineStart(),d=i(p,n),t.point(d[0],d[1])):(d=i(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(a&&n&&s^g){var v;m&o||!(v=i(p,n,!0))||(h=0,s?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&ve(n,p)||t.point(p[0],p[1]),n=p,l=g,o=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return h|(u&&l)<<1}}}function i(t,e,n){var i=he(t),r=he(e),s=[1,0,0],a=fe(i,r),l=ce(a,a),u=a[0],h=l-u*u;if(!h)return!n&&t;var c=o*l/h,f=-o*u/h,d=fe(s,a),p=pe(s,c),g=pe(a,f);de(p,g);var m=d,v=ce(p,m),y=ce(m,m),b=v*v-y*(ce(p,p)-1);if(!(0>b)){var x=Math.sqrt(b),w=pe(m,(-v-x)/y);if(de(w,p),w=me(w),!n)return w;var _,M=t[0],C=e[0],P=t[1],E=e[1];M>C&&(_=M,M=C,C=_);var k=C-M,S=os(k-Ms)<Es,T=S||Es>k;if(!S&&P>E&&(_=P,P=E,E=_),T?S?P+E>0^w[1]<(os(w[0]-M)<Es?P:E):P<=w[1]&&w[1]<=E:k>Ms^(M<=w[0]&&w[0]<=C)){var A=pe(m,(-v+x)/y);return de(A,p),[w,me(A)]}}}function r(e,n){var i=s?t:Ms-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var o=Math.cos(t),s=o>0,a=os(o)>Es,l=hn(t,6*Ss);return ke(e,n,l,s?[0,-t]:[-Ms,t-Ms])}function Re(t,e,n,i){return function(r){var o,s=r.a,a=r.b,l=s.x,u=s.y,h=a.x,c=a.y,f=0,d=1,p=h-l,g=c-u;if(o=t-l,p||!(o>0)){if(o/=p,0>p){if(f>o)return;d>o&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=n-l,p||!(0>o)){if(o/=p,0>p){if(o>d)return;o>f&&(f=o)}else if(p>0){if(f>o)return;d>o&&(d=o)}if(o=e-u,g||!(o>0)){if(o/=g,0>g){if(f>o)return;d>o&&(d=o)}else if(g>0){if(o>d)return;o>f&&(f=o)}if(o=i-u,g||!(0>o)){if(o/=g,0>g){if(o>d)return;o>f&&(f=o)}else if(g>0){if(f>o)return;d>o&&(d=o)}return f>0&&(r.a={x:l+f*p,y:u+f*g}),1>d&&(r.b={x:l+d*p,y:u+d*g}),r}}}}}}function Be(t,e,n,i){function r(i,r){return os(i[0]-t)<Es?r>0?0:3:os(i[0]-n)<Es?r>0?2:1:os(i[1]-e)<Es?r>0?1:0:r>0?3:2}function o(t,e){return s(t.x,e.x)}function s(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function l(t){for(var e=0,n=m.length,i=t[1],r=0;n>r;++r)for(var o,s=1,a=m[r],l=a.length,u=a[0];l>s;++s)o=a[s],u[1]<=i?o[1]>i&&Q(u,o,t)>0&&++e:o[1]<=i&&Q(u,o,t)<0&&--e,u=o;return 0!==e}function u(o,a,l,u){var h=0,c=0;if(null==o||(h=r(o,l))!==(c=r(a,l))||s(o,a)<0^l>0){do u.point(0===h||3===h?t:n,h>1?i:e);while((h=(h+l+4)%4)!==c)}else u.point(a[0],a[1])}function h(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function c(t,e){h(t,e)&&a.point(t,e)}function f(){T.point=p,m&&m.push(v=[]),C=!0,M=!1,w=_=NaN}function d(){g&&(p(y,b),x&&M&&k.rejoin(),g.push(k.buffer())),T.point=c,M&&a.lineEnd()}function p(t,e){t=Math.max(-Ea,Math.min(Ea,t)),e=Math.max(-Ea,Math.min(Ea,e));var n=h(t,e);if(m&&v.push([t,e]),C)y=t,b=e,x=n,C=!1,n&&(a.lineStart(),a.point(t,e));else if(n&&M)a.point(t,e);else{var i={a:{x:w,y:_},b:{x:t,y:e}};S(i)?(M||(a.lineStart(),a.point(i.a.x,i.a.y)),a.point(i.b.x,i.b.y),n||a.lineEnd(),P=!1):n&&(a.lineStart(),a.point(t,e),P=!1)}w=t,_=e,M=n}var g,m,v,y,b,x,w,_,M,C,P,E=a,k=Te(),S=Re(t,e,n,i),T={point:c,lineStart:f,lineEnd:d,polygonStart:function(){a=k,g=[],m=[],P=!0},polygonEnd:function(){a=E,g=$o.merge(g);var e=l([t,i]),n=P&&e,r=g.length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),u(null,null,1,a),a.lineEnd()),r&&Ce(g,o,e,u,a),a.polygonEnd()),g=m=v=null}};return T}}function He(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function Ve(t){var e=0,n=Ms/3,i=en(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Ms/180,n=t[1]*Ms/180):[180*(e/Ms),180*(n/Ms)]},r}function Le(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),s-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),s=Math.sqrt(o)/r;return n.invert=function(t,e){var n=s-e;return[Math.atan2(t,n)/r,Z((o-(t*t+n*n)*r*r)/(2*r))]},n}function We(){function t(t,e){Sa+=r*t-i*e,i=t,r=e}var e,n,i,r;Ia.point=function(o,s){Ia.point=t,e=i=o,n=r=s},Ia.lineEnd=function(){t(e,n)}}function qe(t,e){Ta>t&&(Ta=t),t>Na&&(Na=t),Aa>e&&(Aa=e),e>za&&(za=e)}function Fe(){function t(t,e){s.push("M",t,",",e,o);
}function e(t,e){s.push("M",t,",",e),a.point=n}function n(t,e){s.push("L",t,",",e)}function i(){a.point=t}function r(){s.push("Z")}var o=je(4.5),s=[],a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=r},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(t){return o=je(t),a},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return a}function je(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function $e(t,e){ga+=t,ma+=e,++va}function Ue(){function t(t,i){var r=t-e,o=i-n,s=Math.sqrt(r*r+o*o);ya+=s*(e+t)/2,ba+=s*(n+i)/2,xa+=s,$e(e=t,n=i)}var e,n;Oa.point=function(i,r){Oa.point=t,$e(e=i,n=r)}}function Ye(){Oa.point=$e}function Xe(){function t(t,e){var n=t-i,o=e-r,s=Math.sqrt(n*n+o*o);ya+=s*(i+t)/2,ba+=s*(r+e)/2,xa+=s,s=r*t-i*e,wa+=s*(i+t),_a+=s*(r+e),Ma+=3*s,$e(i=t,r=e)}var e,n,i,r;Oa.point=function(o,s){Oa.point=t,$e(e=i=o,n=r=s)},Oa.lineEnd=function(){t(e,n)}}function Qe(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,s,0,Cs)}function n(e,n){t.moveTo(e,n),a.point=i}function i(e,n){t.lineTo(e,n)}function r(){a.point=e}function o(){t.closePath()}var s=4.5,a={point:e,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=r,a.point=e},pointRadius:function(t){return s=t,a},result:g};return a}function Ge(t){function e(t){return(a?i:n)(t)}function n(e){return Ke(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){b=NaN,C.point=o,e.lineStart()}function o(n,i){var o=he([n,i]),s=t(n,i);r(b,x,y,w,_,M,b=s[0],x=s[1],y=n,w=o[0],_=o[1],M=o[2],a,e),e.point(b,x)}function s(){C.point=n,e.lineEnd()}function l(){i(),C.point=u,C.lineEnd=h}function u(t,e){o(c=t,f=e),d=b,p=x,g=w,m=_,v=M,C.point=o}function h(){r(b,x,y,w,_,M,d,p,c,g,m,v,a,e),C.lineEnd=s,s()}var c,f,d,p,g,m,v,y,b,x,w,_,M,C={point:n,lineStart:i,lineEnd:s,polygonStart:function(){e.polygonStart(),C.lineStart=l},polygonEnd:function(){e.polygonEnd(),C.lineStart=i}};return C}function r(e,n,i,a,l,u,h,c,f,d,p,g,m,v){var y=h-e,b=c-n,x=y*y+b*b;if(x>4*o&&m--){var w=a+d,_=l+p,M=u+g,C=Math.sqrt(w*w+_*_+M*M),P=Math.asin(M/=C),E=os(os(M)-1)<Es||os(i-f)<Es?(i+f)/2:Math.atan2(_,w),k=t(E,P),S=k[0],T=k[1],A=S-e,N=T-n,z=b*A-y*N;(z*z/x>o||os((y*A+b*N)/x-.5)>.3||s>a*d+l*p+u*g)&&(r(e,n,i,a,l,u,S,T,E,w/=C,_/=C,M,m,v),v.point(S,T),r(S,T,E,w,_,M,h,c,f,d,p,g,m,v))}}var o=.5,s=Math.cos(30*Ss),a=16;return e.precision=function(t){return arguments.length?(a=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function Ze(t){var e=Ge(function(e,n){return t([e*Ts,n*Ts])});return function(t){return nn(e(t))}}function Je(t){this.stream=t}function Ke(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function tn(t){return en(function(){return t})()}function en(t){function e(t){return t=a(t[0]*Ss,t[1]*Ss),[t[0]*f+l,u-t[1]*f]}function n(t){return t=a.invert((t[0]-l)/f,(u-t[1])/f),t&&[t[0]*Ts,t[1]*Ts]}function i(){a=He(s=sn(v,y,b),o);var t=o(g,m);return l=d-t[0]*f,u=p+t[1]*f,r()}function r(){return h&&(h.valid=!1,h=null),e}var o,s,a,l,u,h,c=Ge(function(t,e){return t=o(t,e),[t[0]*f+l,u-t[1]*f]}),f=150,d=480,p=250,g=0,m=0,v=0,y=0,b=0,x=Pa,w=Mt,_=null,M=null;return e.stream=function(t){return h&&(h.valid=!1),h=nn(x(s,c(w(t)))),h.valid=!0,h},e.clipAngle=function(t){return arguments.length?(x=null==t?(_=t,Pa):Oe((_=+t)*Ss),r()):_},e.clipExtent=function(t){return arguments.length?(M=t,w=t?Be(t[0][0],t[0][1],t[1][0],t[1][1]):Mt,r()):M},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],i()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ss,m=t[1]%360*Ss,i()):[g*Ts,m*Ts]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ss,y=t[1]%360*Ss,b=t.length>2?t[2]%360*Ss:0,i()):[v*Ts,y*Ts,b*Ts]},$o.rebind(e,c,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function nn(t){return Ke(t,function(e,n){t.point(e*Ss,n*Ss)})}function rn(t,e){return[t,e]}function on(t,e){return[t>Ms?t-Cs:-Ms>t?t+Cs:t,e]}function sn(t,e,n){return t?e||n?He(ln(t),un(e,n)):ln(t):e||n?un(e,n):on}function an(t){return function(e,n){return e+=t,[e>Ms?e-Cs:-Ms>e?e+Cs:e,n]}}function ln(t){var e=an(t);return e.invert=an(-t),e}function un(t,e){function n(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),h=u*i+a*r;return[Math.atan2(l*o-h*s,a*i-u*r),Z(h*o+l*s)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),s=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),h=u*o-l*s;return[Math.atan2(l*o+u*s,a*i+h*r),Z(h*i-a*r)]},n}function hn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,s,a){var l=s*e;null!=r?(r=cn(n,r),o=cn(n,o),(s>0?o>r:r>o)&&(r+=s*Cs)):(r=t+s*Cs,o=t-.5*l);for(var u,h=r;s>0?h>o:o>h;h-=l)a.point((u=me([n,-i*Math.cos(h),-i*Math.sin(h)]))[0],u[1])}}function cn(t,e){var n=he(e);n[0]-=t,ge(n);var i=G(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Es)%(2*Math.PI)}function fn(t,e,n){var i=$o.range(t,e-Es,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function dn(t,e,n){var i=$o.range(t,e-Es,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function pn(t){return t.source}function gn(t){return t.target}function mn(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),s=Math.cos(i),a=Math.sin(i),l=r*Math.cos(t),u=r*Math.sin(t),h=s*Math.cos(n),c=s*Math.sin(n),f=2*Math.asin(Math.sqrt(et(i-e)+r*s*et(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,i=n*l+e*h,r=n*u+e*c,s=n*o+e*a;return[Math.atan2(r,i)*Ts,Math.atan2(s,Math.sqrt(i*i+r*r))*Ts]}:function(){return[t*Ts,e*Ts]};return p.distance=f,p}function vn(){function t(t,r){var o=Math.sin(r*=Ss),s=Math.cos(r),a=os((t*=Ss)-e),l=Math.cos(a);Ra+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=i*o-n*s*l)*a),n*o+i*s*l),e=t,n=o,i=s}var e,n,i;Ba.point=function(r,o){e=r*Ss,n=Math.sin(o*=Ss),i=Math.cos(o),Ba.point=t},Ba.lineEnd=function(){Ba.point=Ba.lineEnd=g}}function yn(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),s=Math.cos(r);return[Math.atan2(t*o,i*s),Math.asin(i&&n*o/i)]},n}function bn(t,e){function n(t,e){s>0?-Ps+Es>e&&(e=-Ps+Es):e>Ps-Es&&(e=Ps-Es);var n=s/Math.pow(r(e),o);return[n*Math.sin(o*t),s-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Ms/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),s=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=s-e,i=X(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(s/i,1/o))-Ps]},n):wn}function xn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return os(r)<Es?rn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-X(r)*Math.sqrt(t*t+n*n)]},n)}function wn(t,e){return[t,Math.log(Math.tan(Ms/4+e/2))]}function _n(t){var e,n=tn(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=Ms*i(),l=r();o([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}function Mn(t,e){return[Math.log(Math.tan(Ms/4+e/2)),-t]}function Cn(t){return t[0]}function Pn(t){return t[1]}function En(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&Q(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function kn(t,e){return t[0]-e[0]||t[1]-e[1]}function Sn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Tn(t,e,n,i){var r=t[0],o=n[0],s=e[0]-r,a=i[0]-o,l=t[1],u=n[1],h=e[1]-l,c=i[1]-u,f=(a*(l-u)-c*(r-o))/(c*s-a*h);return[r+f*s,l+f*h]}function An(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Nn(){Jn(this),this.edge=this.site=this.circle=null}function zn(t){var e=Qa.pop()||new Nn;return e.site=t,e}function In(t){Fn(t),Ua.remove(t),Qa.push(t),Jn(t)}function Dn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,s=t.N,a=[t];In(t);for(var l=o;l.circle&&os(n-l.circle.x)<Es&&os(i-l.circle.cy)<Es;)o=l.P,a.unshift(l),In(l),l=o;a.unshift(l),Fn(l);for(var u=s;u.circle&&os(n-u.circle.x)<Es&&os(i-u.circle.cy)<Es;)s=u.N,a.push(u),In(u),u=s;a.push(u),Fn(u);var h,c=a.length;for(h=1;c>h;++h)u=a[h],l=a[h-1],Qn(u.edge,l.site,u.site,r);l=a[0],u=a[c-1],u.edge=Yn(l.site,u.site,null,r),qn(l),qn(u)}function On(t){for(var e,n,i,r,o=t.x,s=t.y,a=Ua._;a;)if(i=Rn(a,s)-o,i>Es)a=a.L;else{if(r=o-Bn(a,s),!(r>Es)){i>-Es?(e=a.P,n=a):r>-Es?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var l=zn(t);if(Ua.insert(e,l),e||n){if(e===n)return Fn(e),n=zn(e.site),Ua.insert(l,n),l.edge=n.edge=Yn(e.site,l.site),qn(e),void qn(n);if(!n)return void(l.edge=Yn(e.site,l.site));Fn(e),Fn(n);var u=e.site,h=u.x,c=u.y,f=t.x-h,d=t.y-c,p=n.site,g=p.x-h,m=p.y-c,v=2*(f*m-d*g),y=f*f+d*d,b=g*g+m*m,x={x:(m*y-d*b)/v+h,y:(f*b-g*y)/v+c};Qn(n.edge,u,p,x),l.edge=Yn(u,t,null,x),n.edge=Yn(t,p,null,x),qn(e),qn(n)}}function Rn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;n=s.site;var a=n.x,l=n.y,u=l-e;if(!u)return a;var h=a-i,c=1/o-1/u,f=h/u;return c?(-f+Math.sqrt(f*f-2*c*(h*h/(-2*u)-l+u/2+r-o/2)))/c+i:(i+a)/2}function Bn(t,e){var n=t.N;if(n)return Rn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Hn(t){this.site=t,this.edges=[]}function Vn(t){for(var e,n,i,r,o,s,a,l,u,h,c=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=$a,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(a=o.edges,l=a.length,s=0;l>s;)h=a[s].end(),i=h.x,r=h.y,u=a[++s%l].start(),e=u.x,n=u.y,(os(i-e)>Es||os(r-n)>Es)&&(a.splice(s,0,new Gn(Xn(o.site,h,os(i-c)<Es&&p-r>Es?{x:c,y:os(e-c)<Es?n:p}:os(r-p)<Es&&f-i>Es?{x:os(n-p)<Es?e:f,y:p}:os(i-f)<Es&&r-d>Es?{x:f,y:os(e-f)<Es?n:d}:os(r-d)<Es&&i-c>Es?{x:os(n-d)<Es?e:c,y:d}:null),o.site,null)),++l)}function Ln(t,e){return e.angle-t.angle}function Wn(){Jn(this),this.x=this.y=this.arc=this.site=this.cy=null}function qn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r.x,a=r.y,l=i.x-s,u=i.y-a,h=o.x-s,c=o.y-a,f=2*(l*c-u*h);if(!(f>=-ks)){var d=l*l+u*u,p=h*h+c*c,g=(c*d-u*p)/f,m=(l*p-h*d)/f,c=m+a,v=Ga.pop()||new Wn;v.arc=t,v.site=r,v.x=g+s,v.y=c+Math.sqrt(g*g+m*m),v.cy=c,t.circle=v;for(var y=null,b=Xa._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Xa.insert(y,v),y||(Ya=v)}}}}function Fn(t){var e=t.circle;e&&(e.P||(Ya=e.N),Xa.remove(e),Ga.push(e),Jn(e),t.circle=null)}function jn(t){for(var e,n=ja,i=Re(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!$n(e,t)||!i(e)||os(e.a.x-e.b.x)<Es&&os(e.a.y-e.b.y)<Es)&&(e.a=e.b=null,n.splice(r,1))}function $n(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,s=e[0][0],a=e[1][0],l=e[0][1],u=e[1][1],h=t.l,c=t.r,f=h.x,d=h.y,p=c.x,g=c.y,m=(f+p)/2,v=(d+g)/2;if(g===d){if(s>m||m>=a)return;if(f>p){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(i=(f-p)/(g-d),r=v-i*m,-1>i||i>1)if(f>p){if(o){if(o.y>=u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(g>d){if(o){if(o.x>=a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}else{if(o){if(o.x<s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}return t.a=o,t.b=n,!0}function Un(t,e){this.l=t,this.r=e,this.a=this.b=null}function Yn(t,e,n,i){var r=new Un(t,e);return ja.push(r),n&&Qn(r,t,e,n),i&&Qn(r,e,t,i),$a[t.i].edges.push(new Gn(r,t,e)),$a[e.i].edges.push(new Gn(r,e,t)),r}function Xn(t,e,n){var i=new Un(t,null);return i.a=e,i.b=n,ja.push(i),i}function Qn(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function Gn(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Zn(){this._=null}function Jn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Kn(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ti(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ei(t){for(;t.L;)t=t.L;return t}function ni(t,e){var n,i,r,o=t.sort(ii).pop();for(ja=[],$a=new Array(t.length),Ua=new Zn,Xa=new Zn;;)if(r=Ya,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))(o.x!==n||o.y!==i)&&($a[o.i]=new Hn(o),On(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;Dn(r.arc)}e&&(jn(e),Vn(e));var s={cells:$a,edges:ja};return Ua=Xa=ja=$a=null,s}function ii(t,e){return e.y-t.y||e.x-t.x}function ri(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function oi(t){return t.x}function si(t){return t.y}function ai(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function li(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var s=.5*(n+r),a=.5*(i+o),l=e.nodes;l[0]&&li(t,l[0],n,i,s,a),l[1]&&li(t,l[1],s,i,r,a),l[2]&&li(t,l[2],n,a,s,o),l[3]&&li(t,l[3],s,a,r,o)}}function ui(t,e){t=$o.rgb(t),e=$o.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,s=e.g-i,a=e.b-r;return function(t){return"#"+mt(Math.round(n+o*t))+mt(Math.round(i+s*t))+mt(Math.round(r+a*t))}}function hi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=di(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function ci(t,e){return e-=t=+t,function(n){return t+e*n}}function fi(t,e){var n,i,r,o=Ja.lastIndex=Ka.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=Ja.exec(t))&&(i=Ka.exec(e));)(r=i.index)>o&&(r=e.substring(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:ci(n,i)})),o=Ka.lastIndex;return o<e.length&&(r=e.substring(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;e>i;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})}function di(t,e){for(var n,i=$o.interpolators.length;--i>=0&&!(n=$o.interpolators[i](t,e)););return n}function pi(t,e){var n,i=[],r=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;a>n;++n)i.push(di(t[n],e[n]));for(;o>n;++n)r[n]=t[n];for(;s>n;++n)r[n]=e[n];return function(t){for(n=0;a>n;++n)r[n]=i[n](t);return r}}function gi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function mi(t){return function(e){return 1-t(1-e)}}function vi(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function yi(t){return t*t}function bi(t){return t*t*t}function xi(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function wi(t){return function(e){return Math.pow(e,t)}}function _i(t){return 1-Math.cos(t*Ps)}function Mi(t){return Math.pow(2,10*(t-1))}function Ci(t){return 1-Math.sqrt(1-t*t)}function Pi(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Cs*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Cs/e)}}function Ei(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function ki(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Si(t,e){t=$o.hcl(t),e=$o.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,s=e.c-i,a=e.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return st(n+o*t,i+s*t,r+a*t)+""}}function Ti(t,e){t=$o.hsl(t),e=$o.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,s=e.s-i,a=e.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return rt(n+o*t,i+s*t,r+a*t)+""}}function Ai(t,e){t=$o.lab(t),e=$o.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,s=e.a-i,a=e.b-r;return function(t){return lt(n+o*t,i+s*t,r+a*t)+""}}function Ni(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function zi(t){var e=[t.a,t.b],n=[t.c,t.d],i=Di(e),r=Ii(e,n),o=Di(Oi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ts,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Ts:0}function Ii(t,e){return t[0]*e[0]+t[1]*e[1]}function Di(t){var e=Math.sqrt(Ii(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Oi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Ri(t,e){var n,i=[],r=[],o=$o.transform(t),s=$o.transform(e),a=o.translate,l=s.translate,u=o.rotate,h=s.rotate,c=o.skew,f=s.skew,d=o.scale,p=s.scale;return a[0]!=l[0]||a[1]!=l[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:ci(a[0],l[0])},{i:3,x:ci(a[1],l[1])})):l[0]||l[1]?i.push("translate("+l+")"):i.push(""),u!=h?(u-h>180?h+=360:h-u>180&&(u+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:ci(u,h)})):h&&i.push(i.pop()+"rotate("+h+")"),c!=f?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:ci(c,f)}):f&&i.push(i.pop()+"skewX("+f+")"),d[0]!=p[0]||d[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:ci(d[0],p[0])},{i:n-2,x:ci(d[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=r.length,function(t){for(var e,o=-1;++o<n;)i[(e=r[o]).i]=e.x(t);return i.join("")}}function Bi(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function Hi(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function Vi(t){for(var e=t.source,n=t.target,i=Wi(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Li(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Wi(t,e){if(t===e)return t;for(var n=Li(t),i=Li(e),r=n.pop(),o=i.pop(),s=null;r===o;)s=r,r=n.pop(),o=i.pop();return s}function qi(t){t.fixed|=2}function Fi(t){t.fixed&=-7}function ji(t){t.fixed|=4,t.px=t.x,t.py=t.y}function $i(t){t.fixed&=-5}function Ui(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,s=t.nodes,a=s.length,l=-1;++l<a;)o=s[l],null!=o&&(Ui(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,i+=u*t.point.x,r+=u*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function Yi(t,e){return $o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Ki,t}function Xi(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function Qi(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,s=-1;++s<r;)n.push(o[s]);for(;null!=(t=i.pop());)e(t)}function Gi(t){return t.children}function Zi(t){return t.value}function Ji(t,e){return e.value-t.value}function Ki(t){return $o.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function tr(t){return t.x}function er(t){return t.y}function nr(t,e,n){t.y0=e,t.y=n}function ir(t){return $o.range(t.length)}function rr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function or(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function sr(t){return t.reduce(ar,0)}function ar(t,e){return t+e[1]}function lr(t,e){return ur(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ur(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function hr(t){return[$o.min(t),$o.max(t)]}function cr(t,e){return t.value-e.value}function fr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function dr(t,e){t._pack_next=e,e._pack_prev=t}function pr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function gr(t){function e(t){h=Math.min(t.x-t.r,h),c=Math.max(t.x+t.r,c),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(u=n.length)){var n,i,r,o,s,a,l,u,h=1/0,c=-1/0,f=1/0,d=-1/0;if(n.forEach(mr),i=n[0],i.x=-i.r,i.y=0,e(i),u>1&&(r=n[1],r.x=r.r,r.y=0,e(r),u>2))for(o=n[2],br(i,r,o),e(o),fr(i,o),i._pack_prev=o,fr(o,r),r=i._pack_next,s=3;u>s;s++){br(i,r,o=n[s]);var p=0,g=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,g++)if(pr(a,o)){p=1;break}if(1==p)for(l=i._pack_prev;l!==a._pack_prev&&!pr(l,o);l=l._pack_prev,m++);p?(m>g||g==m&&r.r<i.r?dr(i,r=a):dr(i=l,r),s--):(fr(i,o),r=o,e(o))}var v=(h+c)/2,y=(f+d)/2,b=0;for(s=0;u>s;s++)o=n[s],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(vr)}}function mr(t){t._pack_next=t._pack_prev=t}function vr(t){delete t._pack_next,delete t._pack_prev}function yr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,s=r.length;++o<s;)yr(r[o],e,n,i)}function br(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var s=e.r+n.r,a=r*r+o*o;s*=s,i*=i;var l=.5+(i-s)/(2*a),u=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=t.x+l*r+u*o,n.y=t.y+l*o-u*r}else n.x=t.x+i,n.y=t.y}function xr(t,e){return t.parent==e.parent?1:2}function wr(t){var e=t.children;return e.length?e[0]:t.t}function _r(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Mr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Cr(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Pr(t,e,n){return t.a.parent===e.parent?t.a:n}function Er(t){return 1+$o.max(t,function(t){return t.y})}function kr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Sr(t){var e=t.children;return e&&e.length?Sr(e[0]):t}function Tr(t){var e,n=t.children;return n&&(e=n.length)?Tr(n[e-1]):t}function Ar(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Nr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function zr(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Ir(t){return t.rangeExtent?t.rangeExtent():zr(t.range())}function Dr(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Or(t,e){var n,i=0,r=t.length-1,o=t[i],s=t[r];return o>s&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}function Rr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:hl}function Br(t,e,n,i){var r=[],o=[],s=0,a=Math.min(t.length,e.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=a;)r.push(n(t[s-1],t[s])),o.push(i(e[s-1],e[s]));return function(e){var n=$o.bisect(t,e,1,a)-1;return o[n](r[n](e))}}function Hr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Br:Dr,l=i?Hi:Bi;return s=r(t,e,l,n),a=r(e,t,l,di),o}function o(t){return s(t)}var s,a;return o.invert=function(t){return a(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(Ni)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return qr(t,e)},o.tickFormat=function(e,n){return Fr(t,e,n)},o.nice=function(e){return Lr(t,e),r()},o.copy=function(){return Hr(t,e,n,i)},r()}function Vr(t,e){return $o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Lr(t,e){return Or(t,Rr(Wr(t,e)[2]))}function Wr(t,e){null==e&&(e=10);var n=zr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function qr(t,e){return $o.range.apply($o,Wr(t,e))}function Fr(t,e,n){var i=Wr(t,e);if(n){var r=Js.exec(n);if(r.shift(),"s"===r[8]){var o=$o.formatPrefix(Math.max(os(i[0]),os(i[1])));return r[7]||(r[7]="."+jr(o.scale(i[2]))),r[8]="f",n=$o.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+$r(r[8],i)),n=r.join("")}else n=",."+jr(i[2])+"f";return $o.format(n)}function jr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function $r(t,e){var n=jr(e[2]);return t in cl?Math.abs(n-jr(Math.max(os(e[0]),os(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Ur(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(r(e))}return s.invert=function(e){return o(t.invert(e))},s.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),s):i},s.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),s):e},s.nice=function(){var e=Or(i.map(r),n?Math:dl);return t.domain(e),i=e.map(o),s},s.ticks=function(){var t=zr(i),s=[],a=t[0],l=t[1],u=Math.floor(r(a)),h=Math.ceil(r(l)),c=e%1?2:e;if(isFinite(h-u)){if(n){for(;h>u;u++)for(var f=1;c>f;f++)s.push(o(u)*f);s.push(o(u))}else for(s.push(o(u));u++<h;)for(var f=c-1;f>0;f--)s.push(o(u)*f);for(u=0;s[u]<a;u++);for(h=s.length;s[h-1]>l;h--);s=s.slice(u,h)}return s},s.tickFormat=function(t,e){if(!arguments.length)return fl;arguments.length<2?e=fl:"function"!=typeof e&&(e=$o.format(e));var i,a=Math.max(.1,t/s.ticks().length),l=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/o(l(r(t)+i))<=a?e(t):""}},s.copy=function(){return Ur(t.copy(),e,n,i)},Vr(s,t)}function Yr(t,e,n){function i(e){return t(r(e))}var r=Xr(e),o=Xr(1/e);return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return qr(n,t)},i.tickFormat=function(t,e){return Fr(n,t,e)},i.nice=function(t){return i.domain(Lr(n,t))},i.exponent=function(s){return arguments.length?(r=Xr(e=s),o=Xr(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return Yr(t.copy(),e,n)},Vr(i,t)}function Xr(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function Qr(t,e){function n(n){return o[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%o.length]}function i(e,n){return $o.range(t.length).map(function(t){return e+n*t})}var r,o,a;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new s;for(var o,a=-1,l=i.length;++a<l;)r.has(o=i[a])||r.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var l=r[0],u=r[1],h=(u-l)/(Math.max(1,t.length-1)+s);return o=i(t.length<2?(l+u)/2:l+h*s/2,h),a=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=r[1]<r[0],h=r[u-0],c=r[1-u],f=(c-h)/(t.length-s+2*l);return o=i(h+f*l,f),u&&o.reverse(),a=f*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=r[1]<r[0],h=r[u-0],c=r[1-u],f=Math.floor((c-h)/(t.length-s+2*l)),d=c-h-(t.length-s)*f;return o=i(h+Math.round(d/2),f),u&&o.reverse(),a=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return zr(e.a[0])},n.copy=function(){return Qr(t,e)},n.domain(t)}function Gr(n,i){function r(){var t=0,e=i.length;for(s=[];++t<e;)s[t-1]=$o.quantile(n,t/e);return o}function o(t){return isNaN(t=+t)?void 0:i[$o.bisect(s,t)]}var s;return o.domain=function(i){return arguments.length?(n=i.filter(e).sort(t),r()):n},o.range=function(t){return arguments.length?(i=t,r()):i},o.quantiles=function(){return s},o.invertExtent=function(t){return t=i.indexOf(t),0>t?[NaN,NaN]:[t>0?s[t-1]:n[0],t<s.length?s[t]:n[n.length-1]]},o.copy=function(){return Gr(n,i)},r()}function Zr(t,e,n){function i(e){return n[Math.max(0,Math.min(s,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),s=n.length-1,i}var o,s;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/o+t,[e,e+1/o]},i.copy=function(){return Zr(t,e,n)},r()}function Jr(t,e){function n(n){return n>=n?e[$o.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return Jr(t,e)},n}function Kr(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return qr(t,e)},e.tickFormat=function(e,n){return Fr(t,e,n)},e.copy=function(){return Kr(t)},e}function to(t){return t.innerRadius}function eo(t){return t.outerRadius}function no(t){return t.startAngle}function io(t){return t.endAngle}function ro(t){function e(e){function s(){u.push("M",o(t(h),a))}for(var l,u=[],h=[],c=-1,f=e.length,d=_t(n),p=_t(i);++c<f;)r.call(this,l=e[c],c)?h.push([+d.call(this,l,c),+p.call(this,l,c)]):h.length&&(s(),h=[]);return h.length&&s(),u.length?u.join(""):null}var n=Cn,i=Pn,r=Me,o=oo,s=o.key,a=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=xl.get(t)||oo).key,e):s},e.tension=function(t){return arguments.length?(a=t,e):a},e}function oo(t){return t.join("L")}function so(t){return oo(t)+"Z"}function ao(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function lo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function uo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function ho(t,e){return t.length<4?oo(t):t[1]+po(t.slice(1,t.length-1),go(t,e))}function co(t,e){return t.length<3?oo(t):t[0]+po((t.push(t[0]),t),go([t[t.length-2]].concat(t,[t[1]]),e))}function fo(t,e){return t.length<3?oo(t):t[0]+po(t,go(t,e))}function po(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return oo(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],s=e[0],a=s,l=1;if(n&&(i+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){a=e[1],o=t[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],a=e[u],i+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var h=t[l];i+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+h[0]+","+h[1]}return i}function go(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],s=t[1],a=1,l=t.length;++a<l;)n=o,o=s,s=t[a],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function mo(t){if(t.length<3)return oo(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],s=[r,r,r,(i=t[1])[0]],a=[o,o,o,i[1]],l=[r,",",o,"L",xo(Ml,s),",",xo(Ml,a)];for(t.push(t[n-1]);++e<=n;)i=t[e],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),wo(l,s,a);return t.pop(),l.push("L",i),l.join("")}function vo(t){if(t.length<4)return oo(t);for(var e,n=[],i=-1,r=t.length,o=[0],s=[0];++i<3;)e=t[i],o.push(e[0]),s.push(e[1]);for(n.push(xo(Ml,o)+","+xo(Ml,s)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),wo(n,o,s);return n.join("")}function yo(t){for(var e,n,i=-1,r=t.length,o=r+4,s=[],a=[];++i<4;)n=t[i%r],s.push(n[0]),a.push(n[1]);for(e=[xo(Ml,s),",",xo(Ml,a)],--i;++i<o;)n=t[i%r],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),wo(e,s,a);return e.join("")}function bo(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],s=t[0][1],a=t[n][0]-o,l=t[n][1]-s,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(o+r*a),i[1]=e*i[1]+(1-e)*(s+r*l);return mo(t)}function xo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function wo(t,e,n){t.push("C",xo(wl,e),",",xo(wl,n),",",xo(_l,e),",",xo(_l,n),",",xo(Ml,e),",",xo(Ml,n))}function _o(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Mo(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],s=i[0]=_o(r,o);++e<n;)i[e]=(s+(s=_o(r=o,o=t[e+1])))/2;return i[e]=s,i}function Co(t){for(var e,n,i,r,o=[],s=Mo(t),a=-1,l=t.length-1;++a<l;)e=_o(t[a],t[a+1]),os(e)<Es?s[a]=s[a+1]=0:(n=s[a]/e,i=s[a+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),s[a]=r*n,s[a+1]=r*i));for(a=-1;++a<=l;)r=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),
o.push([r||0,s[a]*r||0]);return o}function Po(t){return t.length<3?oo(t):t[0]+po(t,Co(t))}function Eo(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]+yl,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function ko(t){function e(e){function l(){g.push("M",a(t(v),c),h,u(t(m.reverse()),c),"Z")}for(var f,d,p,g=[],m=[],v=[],y=-1,b=e.length,x=_t(n),w=_t(r),_=n===i?function(){return d}:_t(i),M=r===o?function(){return p}:_t(o);++y<b;)s.call(this,f=e[y],y)?(m.push([d=+x.call(this,f,y),p=+w.call(this,f,y)]),v.push([+_.call(this,f,y),+M.call(this,f,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=Cn,i=Cn,r=0,o=Pn,s=Me,a=oo,l=a.key,u=a,h="L",c=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=xl.get(t)||oo).key,u=a.reverse||a,h=a.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(c=t,e):c},e}function So(t){return t.radius}function To(t){return[t.x,t.y]}function Ao(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]+yl;return[n*Math.cos(i),n*Math.sin(i)]}}function No(){return 64}function zo(){return"circle"}function Io(t){var e=Math.sqrt(t/Ms);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Do(t,e){return hs(t,Tl),t.id=e,t}function Oo(t,e,n,i){var r=t.id;return R(t,"function"==typeof n?function(t,o,s){t.__transition__[r].tween.set(e,i(n.call(t,t.__data__,o,s)))}:(n=i(n),function(t){t.__transition__[r].tween.set(e,n)}))}function Ro(t){return null==t&&(t=""),function(){this.textContent=t}}function Bo(t,e,n,i){var r=t.__transition__||(t.__transition__={active:0,count:0}),o=r[n];if(!o){var a=i.time;o=r[n]={tween:new s,time:a,ease:i.ease,delay:i.delay,duration:i.duration},++r.count,$o.timer(function(i){function s(i){return r.active>n?u():(r.active=n,o.event&&o.event.start.call(t,h,e),o.tween.forEach(function(n,i){(i=i.call(t,h,e))&&g.push(i)}),void $o.timer(function(){return p.c=l(i||1)?Me:l,1},0,a))}function l(i){if(r.active!==n)return u();for(var s=i/d,a=c(s),l=g.length;l>0;)g[--l].call(t,a);return s>=1?(o.event&&o.event.end.call(t,h,e),u()):void 0}function u(){return--r.count?delete r[n]:delete t.__transition__,1}var h=t.__data__,c=o.ease,f=o.delay,d=o.duration,p=Qs,g=[];return p.t=f+a,i>=f?s(i-f):void(p.c=s)},0,a)}}function Ho(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function Vo(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function Lo(t){return t.toISOString()}function Wo(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,o=$o.bisect(Hl,r);return o==Hl.length?[e.year,Wr(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/Hl[o-1]<Hl[o]/r?o-1:o]:[Wl,Wr(t,n)[2]]}return i.invert=function(e){return qo(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(qo)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,qo(+n+1),e).length}var o=i.domain(),s=zr(o),a=null==t?r(s,10):"number"==typeof t&&r(s,t);return a&&(t=a[0],e=a[1]),i.domain(Or(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=qo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=qo(+e+1);return e}}:t))},i.ticks=function(t,e){var n=zr(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],qo(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Wo(t.copy(),e,n)},Vr(i,t)}function qo(t){return new Date(t)}function Fo(t){return JSON.parse(t.responseText)}function jo(t){var e=Xo.createRange();return e.selectNode(Xo.body),e.createContextualFragment(t.responseText)}var $o={version:"3.4.11"};Date.now||(Date.now=function(){return+new Date});var Uo=[].slice,Yo=function(t){return Uo.call(t)},Xo=document,Qo=Xo.documentElement,Go=window;try{Yo(Qo.childNodes)[0].nodeType}catch(Zo){Yo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{Xo.createElement("div").style.setProperty("opacity",0,"")}catch(Jo){var Ko=Go.Element.prototype,ts=Ko.setAttribute,es=Ko.setAttributeNS,ns=Go.CSSStyleDeclaration.prototype,is=ns.setProperty;Ko.setAttribute=function(t,e){ts.call(this,t,e+"")},Ko.setAttributeNS=function(t,e,n){es.call(this,t,e,n+"")},ns.setProperty=function(t,e,n){is.call(this,t,e+"",n)}}$o.ascending=t,$o.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},$o.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o&&!(null!=(n=t[r])&&n>=n);)n=void 0;for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o&&!(null!=(n=e.call(t,t[r],r))&&n>=n);)n=void 0;for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},$o.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o&&!(null!=(n=t[r])&&n>=n);)n=void 0;for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o&&!(null!=(n=e.call(t,t[r],r))&&n>=n);)n=void 0;for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},$o.extent=function(t,e){var n,i,r,o=-1,s=t.length;if(1===arguments.length){for(;++o<s&&!(null!=(n=r=t[o])&&n>=n);)n=r=void 0;for(;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<s&&!(null!=(n=r=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<s;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},$o.sum=function(t,e){var n,i=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)isNaN(n=+t[o])||(i+=n);else for(;++o<r;)isNaN(n=+e.call(t,t[o],o))||(i+=n);return i},$o.mean=function(t,n){var i,r=0,o=t.length,s=-1,a=o;if(1===arguments.length)for(;++s<o;)e(i=t[s])?r+=i:--a;else for(;++s<o;)e(i=n.call(t,t[s],s))?r+=i:--a;return a?r/a:void 0},$o.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},$o.median=function(n,i){return arguments.length>1&&(n=n.map(i)),n=n.filter(e),n.length?$o.quantile(n.sort(t),.5):void 0};var rs=n(t);$o.bisectLeft=rs.left,$o.bisect=$o.bisectRight=rs.right,$o.bisector=function(e){return n(1===e.length?function(n,i){return t(e(n),i)}:e)},$o.shuffle=function(t){for(var e,n,i=t.length;i;)n=0|Math.random()*i--,e=t[i],t[i]=t[n],t[n]=e;return t},$o.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},$o.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],o=new Array(0>i?0:i);i>n;)o[n]=[e=r,r=t[++n]];return o},$o.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=$o.min(arguments,i),n=new Array(e);++t<e;)for(var r,o=-1,s=n[t]=new Array(r);++o<r;)s[o]=arguments[o][t];return n},$o.transpose=function(t){return $o.zip.apply($o,t)},$o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},$o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},$o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},$o.merge=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--s]=i[e];return n};var os=Math.abs;$o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),1/0===(e-t)/n)throw new Error("infinite range");var i,o=[],s=r(os(n)),a=-1;if(t*=s,e*=s,n*=s,0>n)for(;(i=t+n*++a)>e;)o.push(i/s);else for(;(i=t+n*++a)<e;)o.push(i/s);return o},$o.map=function(t){var e=new s;if(t instanceof s)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},o(s,{has:a,get:function(t){return this[ss+t]},set:function(t,e){return this[ss+t]=e},remove:l,keys:u,values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},size:h,empty:c,forEach:function(t){for(var e in this)e.charCodeAt(0)===as&&t.call(this,e.substring(1),this[e])}});var ss="\0",as=ss.charCodeAt(0);$o.nest=function(){function t(e,a,l){if(l>=o.length)return i?i.call(r,a):n?a.sort(n):a;for(var u,h,c,f,d=-1,p=a.length,g=o[l++],m=new s;++d<p;)(f=m.get(u=g(h=a[d])))?f.push(h):m.set(u,[h]);return e?(h=e(),c=function(n,i){h.set(n,t(e,i,l))}):(h={},c=function(n,i){h[n]=t(e,i,l)}),m.forEach(c),h}function e(t,n){if(n>=o.length)return t;var i=[],r=a[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},o=[],a=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t($o.map,n,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return a[o.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},$o.set=function(t){var e=new f;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},o(f,{has:a,add:function(t){return this[ss+t]=!0,t},remove:function(t){return t=ss+t,t in this&&delete this[t]},values:u,size:h,empty:c,forEach:function(t){for(var e in this)e.charCodeAt(0)===as&&t.call(this,e.substring(1))}}),$o.behavior={},$o.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=d(t,e,e[n]);return t};var ls=["webkit","ms","moz","Moz","o","O"];$o.dispatch=function(){for(var t=new m,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=v(t);return t},m.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},$o.event=null,$o.requote=function(t){return t.replace(us,"\\$&")};var us=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,hs={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},cs=function(t,e){return e.querySelector(t)},fs=function(t,e){return e.querySelectorAll(t)},ds=Qo.matches||Qo[p(Qo,"matchesSelector")],ps=function(t,e){return ds.call(t,e)};"function"==typeof Sizzle&&(cs=function(t,e){return Sizzle(t,e)[0]||null},fs=Sizzle,ps=Sizzle.matchesSelector),$o.selection=function(){return ys};var gs=$o.selection.prototype=[];gs.select=function(t){var e,n,i,r,o=[];t=_(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(i=this[s]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,s)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return w(o)},gs.selectAll=function(t){var e,n,i=[];t=M(t);for(var r=-1,o=this.length;++r<o;)for(var s=this[r],a=-1,l=s.length;++a<l;)(n=s[a])&&(i.push(e=Yo(t.call(n,n.__data__,a,r))),e.parentNode=n);return w(i)};var ms={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};$o.ns={prefix:ms,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),ms.hasOwnProperty(n)?{space:ms[n],local:t}:t}},gs.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=$o.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},gs.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=k(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!E(t[r]).test(e))return!1;return!0}for(e in t)this.each(S(e,t[e]));return this}return this.each(S(t,e))},gs.style=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e="");for(n in t)this.each(A(n,t[n],e));return this}if(2>i)return Go.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(A(t,e,n))},gs.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},gs.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},gs.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},gs.append=function(t){return t=z(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},gs.insert=function(t,e){return t=z(t),e=_(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},gs.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},gs.data=function(t,e){function n(t,n){var i,r,o,a=t.length,c=n.length,f=Math.min(a,c),d=new Array(c),p=new Array(c),g=new Array(a);if(e){var m,v=new s,y=new s,b=[];for(i=-1;++i<a;)m=e.call(r=t[i],r.__data__,i),v.has(m)?g[i]=r:v.set(m,r),b.push(m);for(i=-1;++i<c;)m=e.call(n,o=n[i],i),(r=v.get(m))?(d[i]=r,r.__data__=o):y.has(m)||(p[i]=I(o)),y.set(m,o),v.remove(m);for(i=-1;++i<a;)v.has(b[i])&&(g[i]=t[i])}else{for(i=-1;++i<f;)r=t[i],o=n[i],r?(r.__data__=o,d[i]=r):p[i]=I(o);for(;c>i;++i)p[i]=I(n[i]);for(;a>i;++i)g[i]=t[i]}p.update=d,p.parentNode=d.parentNode=g.parentNode=t.parentNode,l.push(p),u.push(d),h.push(g)}var i,r,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++o<a;)(r=i[o])&&(t[o]=r.__data__);return t}var l=B([]),u=w([]),h=w([]);if("function"==typeof t)for(;++o<a;)n(i=this[o],t.call(i,i.parentNode.__data__,o));else for(;++o<a;)n(i=this[o],t);return u.enter=function(){return l},u.exit=function(){return h},u},gs.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},gs.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=D(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,o)&&e.push(i)}return w(r)},gs.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},gs.sort=function(t){t=O.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},gs.each=function(t){return R(this,function(e,n,i){t.call(e,e.__data__,n,i)})},gs.call=function(t){var e=Yo(arguments);return t.apply(e[0]=this,e),this},gs.empty=function(){return!this.node()},gs.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null},gs.size=function(){var t=0;return this.each(function(){++t}),t};var vs=[];$o.selection.enter=B,$o.selection.enter.prototype=vs,vs.append=gs.append,vs.empty=gs.empty,vs.node=gs.node,vs.call=gs.call,vs.size=gs.size,vs.select=function(t){for(var e,n,i,r,o,s=[],a=-1,l=this.length;++a<l;){i=(r=this[a]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,h=r.length;++u<h;)(o=r[u])?(e.push(i[u]=n=t.call(r.parentNode,o.__data__,u,a)),n.__data__=o.__data__):e.push(null)}return w(s)},vs.insert=function(t,e){return arguments.length<2&&(e=H(this)),gs.insert.call(this,t,e)},gs.transition=function(){for(var t,e,n=Pl||++Al,i=[],r=El||{time:Date.now(),ease:xi,delay:0,duration:250},o=-1,s=this.length;++o<s;){i.push(t=[]);for(var a=this[o],l=-1,u=a.length;++l<u;)(e=a[l])&&Bo(e,l,n,r),t.push(e)}return Do(i,n)},gs.interrupt=function(){return this.each(V)},$o.select=function(t){var e=["string"==typeof t?cs(t,Xo):t];return e.parentNode=Qo,w([e])},$o.selectAll=function(t){var e=Yo("string"==typeof t?fs(t,Xo):t);return e.parentNode=Qo,w([e])};var ys=$o.select(Qo);gs.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(L(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(L(t,e,n))};var bs=$o.map({mouseenter:"mouseover",mouseleave:"mouseout"});bs.forEach(function(t){"on"+t in Xo&&bs.remove(t)});var xs="onselectstart"in Xo?null:p(Qo.style,"userSelect"),ws=0;$o.mouse=function(t){return j(t,b())};var _s=/WebKit/.test(Go.navigator.userAgent)?-1:0;$o.touches=function(t,e){return arguments.length<2&&(e=b().touches),e?Yo(e).map(function(e){var n=j(t,e);return n.identifier=e.identifier,n}):[]},$o.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",o)}function e(t,e,r,o,s){return function(){function a(){var t,n,i=e(f,g);i&&(t=i[0]-b[0],n=i[1]-b[1],p|=t|n,b=i,d({type:"drag",x:i[0]+u[0],y:i[1]+u[1],dx:t,dy:n}))}function l(){e(f,g)&&(v.on(o+m,null).on(s+m,null),y(p&&$o.event.target===c),d({type:"dragend"}))}var u,h=this,c=$o.event.target,f=h.parentNode,d=n.of(h,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=$o.select(r()).on(o+m,a).on(s+m,l),y=F(),b=e(f,g);i?(u=i.apply(h,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],d({type:"dragstart"})}}var n=x(t,"drag","dragstart","dragend"),i=null,r=e(g,$o.mouse,Y,"mousemove","mouseup"),o=e($,$o.touch,U,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},$o.rebind(t,n,"on")};var Ms=Math.PI,Cs=2*Ms,Ps=Ms/2,Es=1e-6,ks=Es*Es,Ss=Ms/180,Ts=180/Ms,As=Math.SQRT2,Ns=2,zs=4;$o.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=K(g),s=o/(Ns*f)*(n*tt(As*e+g)-J(g));return[i+s*u,r+s*h,o*n/K(As*e+g)]}return[i+t*u,r+t*h,o*Math.exp(As*e)]}var i=t[0],r=t[1],o=t[2],s=e[0],a=e[1],l=e[2],u=s-i,h=a-r,c=u*u+h*h,f=Math.sqrt(c),d=(l*l-o*o+zs*c)/(2*o*Ns*f),p=(l*l-o*o-zs*c)/(2*l*Ns*f),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(l/o))/As;return n.duration=1e3*y,n},$o.behavior.zoom=function(){function t(t){t.on(k,u).on(Os+".zoom",c).on("dblclick.zoom",f).on(A,h)}function e(t){return[(t[0]-C.x)/C.k,(t[1]-C.y)/C.k]}function n(t){return[t[0]*C.k+C.x,t[1]*C.k+C.y]}function i(t){C.k=Math.max(E[0],Math.min(E[1],t))}function r(t,e){e=n(e),C.x+=t[0]-e[0],C.y+=t[1]-e[1]}function o(){w&&w.domain(b.range().map(function(t){return(t-C.x)/C.k}).map(b.invert)),M&&M.domain(_.range().map(function(t){return(t-C.y)/C.k}).map(_.invert))}function s(t){t({type:"zoomstart"})}function a(t){o(),t({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function l(t){t({type:"zoomend"})}function u(){function t(){h=1,r($o.mouse(i),f),a(u)}function n(){c.on(S,null).on(T,null),d(h&&$o.event.target===o),l(u)}var i=this,o=$o.event.target,u=N.of(i,arguments),h=0,c=$o.select(Go).on(S,t).on(T,n),f=e($o.mouse(i)),d=F();V.call(i),s(u)}function h(){function t(){var t=$o.touches(d);return f=C.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=e(t))}),t}function n(){var e=$o.event.target;$o.select(e).on(x,o).on(w,c),_.push(e);for(var n=$o.event.changedTouches,s=0,l=n.length;l>s;++s)g[n[s].identifier]=null;var u=t(),h=Date.now();if(1===u.length){if(500>h-v){var f=u[0],d=g[f.identifier];i(2*C.k),r(f,d),y(),a(p)}v=h}else if(u.length>1){var f=u[0],b=u[1],M=f[0]-b[0],P=f[1]-b[1];m=M*M+P*P}}function o(){for(var t,e,n,o,s=$o.touches(d),l=0,u=s.length;u>l;++l,o=null)if(n=s[l],o=g[n.identifier]){if(e)break;t=n,e=o}if(o){var h=(h=n[0]-t[0])*h+(h=n[1]-t[1])*h,c=m&&Math.sqrt(h/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],i(c*f)}v=null,r(t,e),a(p)}function c(){if($o.event.touches.length){for(var e=$o.event.changedTouches,n=0,i=e.length;i>n;++n)delete g[e[n].identifier];for(var r in g)return void t()}$o.selectAll(_).on(b,null),M.on(k,u).on(A,h),P(),l(p)}var f,d=this,p=N.of(d,arguments),g={},m=0,b=".zoom-"+$o.event.changedTouches[0].identifier,x="touchmove"+b,w="touchend"+b,_=[],M=$o.select(d).on(k,null).on(A,n),P=F();V.call(d),n(),s(p)}function c(){var t=N.of(this,arguments);m?clearTimeout(m):(d=e(p=g||$o.mouse(this)),V.call(this),s(t)),m=setTimeout(function(){m=null,l(t)},50),y(),i(Math.pow(2,.002*Is())*C.k),r(p,d),a(t)}function f(){var t=N.of(this,arguments),n=$o.mouse(this),o=e(n),u=Math.log(C.k)/Math.LN2;s(t),i(Math.pow(2,$o.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1)),r(n,o),a(t),l(t)}var d,p,g,m,v,b,w,_,M,C={x:0,y:0,k:1},P=[960,500],E=Ds,k="mousedown.zoom",S="mousemove.zoom",T="mouseup.zoom",A="touchstart.zoom",N=x(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=N.of(this,arguments),e=C;Pl?$o.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},s(t)}).tween("zoom:zoom",function(){var n=P[0],i=P[1],r=n/2,o=i/2,s=$o.interpolateZoom([(r-C.x)/C.k,(o-C.y)/C.k,n/C.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=s(e),l=n/i[2];this.__chart__=C={x:r-i[0]*l,y:o-i[1]*l,k:l},a(t)}}).each("end.zoom",function(){l(t)}):(this.__chart__=C,s(t),a(t),l(t))})},t.translate=function(e){return arguments.length?(C={x:+e[0],y:+e[1],k:C.k},o(),t):[C.x,C.y]},t.scale=function(e){return arguments.length?(C={x:C.x,y:C.y,k:+e},o(),t):C.k},t.scaleExtent=function(e){return arguments.length?(E=null==e?Ds:[+e[0],+e[1]],t):E},t.center=function(e){return arguments.length?(g=e&&[+e[0],+e[1]],t):g},t.size=function(e){return arguments.length?(P=e&&[+e[0],+e[1]],t):P},t.x=function(e){return arguments.length?(w=e,b=e.copy(),C={x:0,y:0,k:1},t):w},t.y=function(e){return arguments.length?(M=e,_=e.copy(),C={x:0,y:0,k:1},t):M},$o.rebind(t,N,"on")};var Is,Ds=[0,1/0],Os="onwheel"in Xo?(Is=function(){return-$o.event.deltaY*($o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Xo?(Is=function(){return $o.event.wheelDelta},"mousewheel"):(Is=function(){return-$o.event.detail},"MozMousePixelScroll");$o.color=nt,nt.prototype.toString=function(){return this.rgb()+""},$o.hsl=it;var Rs=it.prototype=new nt;Rs.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new it(this.h,this.s,this.l/t)},Rs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new it(this.h,this.s,t*this.l)},Rs.rgb=function(){return rt(this.h,this.s,this.l)},$o.hcl=ot;var Bs=ot.prototype=new nt;Bs.brighter=function(t){return new ot(this.h,this.c,Math.min(100,this.l+Hs*(arguments.length?t:1)))},Bs.darker=function(t){return new ot(this.h,this.c,Math.max(0,this.l-Hs*(arguments.length?t:1)))},Bs.rgb=function(){return st(this.h,this.c,this.l).rgb()},$o.lab=at;var Hs=18,Vs=.95047,Ls=1,Ws=1.08883,qs=at.prototype=new nt;qs.brighter=function(t){return new at(Math.min(100,this.l+Hs*(arguments.length?t:1)),this.a,this.b)},qs.darker=function(t){return new at(Math.max(0,this.l-Hs*(arguments.length?t:1)),this.a,this.b)},qs.rgb=function(){return lt(this.l,this.a,this.b)},$o.rgb=dt;var Fs=dt.prototype=new nt;Fs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new dt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new dt(r,r,r)},Fs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new dt(t*this.r,t*this.g,t*this.b)},Fs.hsl=function(){return yt(this.r,this.g,this.b)},Fs.toString=function(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)};var js=$o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});js.forEach(function(t,e){js.set(t,pt(e))}),$o.functor=_t,$o.xhr=Ct(Mt),$o.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var s=Pt(t,e,null==n?i:r(n),o);return s.row=function(t){return arguments.length?s.response(null==(n=t)?i:r(t)):n},s}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(s).join(t)}function s(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(h>=u)return s;if(r)return r=!1,o;var e=h;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}h=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++h):10===i&&(r=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;u>h;){var i=t.charCodeAt(h++),a=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(h)&&(++h,++a);else if(i!==l)continue;return t.substring(e,h-a)}return t.substring(e)}for(var i,r,o={},s={},a=[],u=t.length,h=0,c=0;(i=n())!==s;){for(var f=[];i!==o&&i!==s;)f.push(i),i=n();(!e||(f=e(f,c++)))&&a.push(f)}return a},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new f,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},$o.csv=$o.dsv(",","text/csv"),$o.tsv=$o.dsv("\t","text/tab-separated-values"),$o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=b().changedTouches),e)for(var i,r=0,o=e.length;o>r;++r)if((i=e[r]).identifier===n)return j(t,i)};var $s,Us,Ys,Xs,Qs,Gs=Go[p(Go,"requestAnimationFrame")]||function(t){setTimeout(t,17)};$o.timer=function(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,o={c:t,t:r,f:!1,n:null};Us?Us.n=o:$s=o,Us=o,Ys||(Xs=clearTimeout(Xs),Ys=1,Gs(kt))},$o.timer.flush=function(){St(),Tt()},$o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Zs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Nt);$o.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=$o.round(t,At(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Zs[8+n/3]};var Js=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ks=$o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=$o.round(t,At(t,e))).toFixed(Math.max(0,Math.min(20,At(t*(1+1e-15),e))))}}),ta=$o.time={},ea=Date;Dt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){na.setUTCDate.apply(this._,arguments)},setDay:function(){na.setUTCDay.apply(this._,arguments)},setFullYear:function(){na.setUTCFullYear.apply(this._,arguments)},setHours:function(){na.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){na.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){na.setUTCMinutes.apply(this._,arguments)},setMonth:function(){na.setUTCMonth.apply(this._,arguments)},setSeconds:function(){na.setUTCSeconds.apply(this._,arguments)},setTime:function(){na.setTime.apply(this._,arguments)}};var na=Date.prototype;ta.year=Ot(function(t){return t=ta.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ta.years=ta.year.range,ta.years.utc=ta.year.utc.range,ta.day=Ot(function(t){var e=new ea(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ta.days=ta.day.range,ta.days.utc=ta.day.utc.range,ta.dayOfYear=function(t){var e=ta.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ta[t]=Ot(function(t){return(t=ta.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ta.year(t).getDay();return Math.floor((ta.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ta[t+"s"]=n.range,ta[t+"s"].utc=n.utc.range,ta[t+"OfYear"]=function(t){var n=ta.year(t).getDay();return Math.floor((ta.dayOfYear(t)+(n+e)%7)/7)}}),ta.week=ta.sunday,ta.weeks=ta.sunday.range,ta.weeks.utc=ta.sunday.utc.range,ta.weekOfYear=ta.sundayOfYear;var ia={"-":"",_:" ",0:"0"},ra=/^\s*\d+/,oa=/^%/;$o.locale=function(t){return{numberFormat:zt(t),timeFormat:Bt(t)}};var sa=$o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});$o.format=sa.numberFormat,$o.geo={},re.prototype={s:0,t:0,add:function(t){oe(t,this.t,aa),oe(aa.s,this.s,this),this.s?this.t+=aa.t:this.s=aa.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var aa=new re;$o.geo.stream=function(t,e){t&&la.hasOwnProperty(t.type)?la[t.type](t,e):se(t,e);
};var la={Feature:function(t,e){se(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)se(n[i].geometry,e)}},ua={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){ae(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)ae(n[i],e,0)},Polygon:function(t,e){le(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)le(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)se(n[i],e)}};$o.geo.area=function(t){return ha=0,$o.geo.stream(t,fa),ha};var ha,ca=new re,fa={sphere:function(){ha+=4*Ms},point:g,lineStart:g,lineEnd:g,polygonStart:function(){ca.reset(),fa.lineStart=ue},polygonEnd:function(){var t=2*ca;ha+=0>t?4*Ms+t:t,fa.lineStart=fa.lineEnd=fa.point=g}};$o.geo.bounds=function(){function t(t,e){b.push(x=[h=t,f=t]),c>e&&(c=e),e>d&&(d=e)}function e(e,n){var i=he([e*Ss,n*Ss]);if(v){var r=fe(v,i),o=[r[1],-r[0],0],s=fe(o,r);ge(s),s=me(s);var l=e-p,u=l>0?1:-1,g=s[0]*Ts*u,m=os(l)>180;if(m^(g>u*p&&u*e>g)){var y=s[1]*Ts;y>d&&(d=y)}else if(g=(g+360)%360-180,m^(g>u*p&&u*e>g)){var y=-s[1]*Ts;c>y&&(c=y)}else c>n&&(c=n),n>d&&(d=n);m?p>e?a(h,e)>a(h,f)&&(f=e):a(e,f)>a(h,f)&&(h=e):f>=h?(h>e&&(h=e),e>f&&(f=e)):e>p?a(h,e)>a(h,f)&&(f=e):a(e,f)>a(h,f)&&(h=e)}else t(e,n);v=i,p=e}function n(){w.point=e}function i(){x[0]=h,x[1]=f,w.point=t,v=null}function r(t,n){if(v){var i=t-p;y+=os(i)>180?i+(i>0?360:-360):i}else g=t,m=n;fa.point(t,n),e(t,n)}function o(){fa.lineStart()}function s(){r(g,m),fa.lineEnd(),os(y)>Es&&(h=-(f=180)),x[0]=h,x[1]=f,v=null}function a(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var h,c,f,d,p,g,m,v,y,b,x,w={point:t,lineStart:n,lineEnd:i,polygonStart:function(){w.point=r,w.lineStart=o,w.lineEnd=s,y=0,fa.polygonStart()},polygonEnd:function(){fa.polygonEnd(),w.point=t,w.lineStart=n,w.lineEnd=i,0>ca?(h=-(f=180),c=-(d=90)):y>Es?d=90:-Es>y&&(c=-90),x[0]=h,x[1]=f}};return function(t){d=f=-(h=c=1/0),b=[],$o.geo.stream(t,w);var e=b.length;if(e){b.sort(l);for(var n,i=1,r=b[0],o=[r];e>i;++i)n=b[i],u(n[0],r)||u(n[1],r)?(a(r[0],n[1])>a(r[0],r[1])&&(r[1]=n[1]),a(n[0],r[1])>a(r[0],r[1])&&(r[0]=n[0])):o.push(r=n);for(var s,n,p=-1/0,e=o.length-1,i=0,r=o[e];e>=i;r=n,++i)n=o[i],(s=a(r[1],n[0]))>p&&(p=s,h=n[0],f=r[1])}return b=x=null,1/0===h||1/0===c?[[NaN,NaN],[NaN,NaN]]:[[h,c],[f,d]]}}(),$o.geo.centroid=function(t){da=pa=ga=ma=va=ya=ba=xa=wa=_a=Ma=0,$o.geo.stream(t,Ca);var e=wa,n=_a,i=Ma,r=e*e+n*n+i*i;return ks>r&&(e=ya,n=ba,i=xa,Es>pa&&(e=ga,n=ma,i=va),r=e*e+n*n+i*i,ks>r)?[NaN,NaN]:[Math.atan2(n,e)*Ts,Z(i/Math.sqrt(r))*Ts]};var da,pa,ga,ma,va,ya,ba,xa,wa,_a,Ma,Ca={sphere:g,point:ye,lineStart:xe,lineEnd:we,polygonStart:function(){Ca.lineStart=_e},polygonEnd:function(){Ca.lineStart=xe}},Pa=ke(Me,ze,De,[-Ms,-Ms/2]),Ea=1e9;$o.geo.clipExtent=function(){var t,e,n,i,r,o,s={stream:function(t){return r&&(r.valid=!1),r=o(t),r.valid=!0,r},extent:function(a){return arguments.length?(o=Be(t=+a[0][0],e=+a[0][1],n=+a[1][0],i=+a[1][1]),r&&(r.valid=!1,r=null),s):[[t,e],[n,i]]}};return s.extent([[0,0],[960,500]])},($o.geo.conicEqualArea=function(){return Ve(Le)}).raw=Le,$o.geo.albers=function(){return $o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},$o.geo.albersUsa=function(){function t(t){var o=t[0],s=t[1];return e=null,n(o,s),e||(i(o,s),e)||r(o,s),e}var e,n,i,r,o=$o.geo.albers(),s=$o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=$o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?s:r>=.166&&.234>r&&i>=-.214&&-.115>i?a:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=s.stream(t),i=a.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),s.precision(e),a.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),s.scale(.35*e),a.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),h=+e[0],c=+e[1];return n=o.translate(e).clipExtent([[h-.455*u,c-.238*u],[h+.455*u,c+.238*u]]).stream(l).point,i=s.translate([h-.307*u,c+.201*u]).clipExtent([[h-.425*u+Es,c+.12*u+Es],[h-.214*u-Es,c+.234*u-Es]]).stream(l).point,r=a.translate([h-.205*u,c+.212*u]).clipExtent([[h-.214*u+Es,c+.166*u+Es],[h-.115*u-Es,c+.234*u-Es]]).stream(l).point,t},t.scale(1070)};var ka,Sa,Ta,Aa,Na,za,Ia={point:g,lineStart:g,lineEnd:g,polygonStart:function(){Sa=0,Ia.lineStart=We},polygonEnd:function(){Ia.lineStart=Ia.lineEnd=Ia.point=g,ka+=os(Sa/2)}},Da={point:qe,lineStart:g,lineEnd:g,polygonStart:g,polygonEnd:g},Oa={point:$e,lineStart:Ue,lineEnd:Ye,polygonStart:function(){Oa.lineStart=Xe},polygonEnd:function(){Oa.point=$e,Oa.lineStart=Ue,Oa.lineEnd=Ye}};$o.geo.path=function(){function t(t){return t&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),s&&s.valid||(s=r(o)),$o.geo.stream(t,s)),o.result()}function e(){return s=null,t}var n,i,r,o,s,a=4.5;return t.area=function(t){return ka=0,$o.geo.stream(t,r(Ia)),ka},t.centroid=function(t){return ga=ma=va=ya=ba=xa=wa=_a=Ma=0,$o.geo.stream(t,r(Oa)),Ma?[wa/Ma,_a/Ma]:xa?[ya/xa,ba/xa]:va?[ga/va,ma/va]:[NaN,NaN]},t.bounds=function(t){return Na=za=-(Ta=Aa=1/0),$o.geo.stream(t,r(Da)),[[Ta,Aa],[Na,za]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||Ze(t):Mt,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new Fe:new Qe(t),"function"!=typeof a&&o.pointRadius(a),e()):i},t.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(o.pointRadius(+e),+e),t):a},t.projection($o.geo.albersUsa()).context(null)},$o.geo.transform=function(t){return{stream:function(e){var n=new Je(e);for(var i in t)n[i]=t[i];return n}}},Je.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},$o.geo.projection=tn,$o.geo.projectionMutator=en,($o.geo.equirectangular=function(){return tn(rn)}).raw=rn.invert=rn,$o.geo.rotation=function(t){function e(e){return e=t(e[0]*Ss,e[1]*Ss),e[0]*=Ts,e[1]*=Ts,e}return t=sn(t[0]%360*Ss,t[1]*Ss,t.length>2?t[2]*Ss:0),e.invert=function(e){return e=t.invert(e[0]*Ss,e[1]*Ss),e[0]*=Ts,e[1]*=Ts,e},e},on.invert=rn,$o.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=sn(-t[0]*Ss,-t[1]*Ss,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Ts,t[1]*=Ts}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=hn((e=+i)*Ss,r*Ss),t):e},t.precision=function(i){return arguments.length?(n=hn(e*Ss,(r=+i)*Ss),t):r},t.angle(90)},$o.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Ss,r=t[1]*Ss,o=e[1]*Ss,s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),u=Math.cos(r),h=Math.sin(o),c=Math.cos(o);return Math.atan2(Math.sqrt((n=c*s)*n+(n=u*h-l*c*a)*n),l*h+u*c*a)},$o.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return $o.range(Math.ceil(o/m)*m,r,m).map(f).concat($o.range(Math.ceil(u/v)*v,l,v).map(d)).concat($o.range(Math.ceil(i/p)*p,n,p).filter(function(t){return os(t%m)>Es}).map(h)).concat($o.range(Math.ceil(a/g)*g,s,g).filter(function(t){return os(t%v)>Es}).map(c))}var n,i,r,o,s,a,l,u,h,c,f,d,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(l).slice(1),f(r).reverse().slice(1),d(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],u=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[o,u],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(y)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,h=fn(a,s,90),c=dn(i,n,y),f=fn(u,l,90),d=dn(o,r,y),t):y},t.majorExtent([[-180,-90+Es],[180,90-Es]]).minorExtent([[-180,-80-Es],[180,80+Es]])},$o.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=pn,r=gn;return t.distance=function(){return $o.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},$o.geo.interpolate=function(t,e){return mn(t[0]*Ss,t[1]*Ss,e[0]*Ss,e[1]*Ss)},$o.geo.length=function(t){return Ra=0,$o.geo.stream(t,Ba),Ra};var Ra,Ba={sphere:g,point:g,lineStart:vn,lineEnd:g,polygonStart:g,polygonEnd:g},Ha=yn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});($o.geo.azimuthalEqualArea=function(){return tn(Ha)}).raw=Ha;var Va=yn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},Mt);($o.geo.azimuthalEquidistant=function(){return tn(Va)}).raw=Va,($o.geo.conicConformal=function(){return Ve(bn)}).raw=bn,($o.geo.conicEquidistant=function(){return Ve(xn)}).raw=xn;var La=yn(function(t){return 1/t},Math.atan);($o.geo.gnomonic=function(){return tn(La)}).raw=La,wn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ps]},($o.geo.mercator=function(){return _n(wn)}).raw=wn;var Wa=yn(function(){return 1},Math.asin);($o.geo.orthographic=function(){return tn(Wa)}).raw=Wa;var qa=yn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});($o.geo.stereographic=function(){return tn(qa)}).raw=qa,Mn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ps]},($o.geo.transverseMercator=function(){var t=_n(Mn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Mn,$o.geom={},$o.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=_t(n),o=_t(i),s=t.length,a=[],l=[];for(e=0;s>e;e++)a.push([+r.call(this,t[e],e),+o.call(this,t[e],e),e]);for(a.sort(kn),e=0;s>e;e++)l.push([a[e][0],-a[e][1]]);var u=En(a),h=En(l),c=h[0]===u[0],f=h[h.length-1]===u[u.length-1],d=[];for(e=u.length-1;e>=0;--e)d.push(t[a[u[e]][2]]);for(e=+c;e<h.length-f;++e)d.push(t[a[h[e]][2]]);return d}var n=Cn,i=Pn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},$o.geom.polygon=function(t){return hs(t,Fa),t};var Fa=$o.geom.polygon.prototype=[];Fa.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Fa.centroid=function(t){var e,n,i=-1,r=this.length,o=0,s=0,a=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=a,a=this[i],n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o*t,s*t]},Fa.clip=function(t){for(var e,n,i,r,o,s,a=An(t),l=-1,u=this.length-An(this),h=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-a)-1],n=-1;++n<i;)s=e[n],Sn(s,h,r)?(Sn(o,h,r)||t.push(Tn(o,s,h,r)),t.push(s)):Sn(o,h,r)&&t.push(Tn(o,s,h,r)),o=s;a&&t.push(t[0]),h=r}return t};var ja,$a,Ua,Ya,Xa,Qa=[],Ga=[];Hn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Ln),e.length},Gn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Zn.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ei(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Kn(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ti(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ti(this,n),t=n,n=t.U),n.C=!1,i.C=!0,Kn(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?ei(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,Kn(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ti(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Kn(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,ti(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Kn(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ti(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},$o.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=a[0][0],r=a[0][1],o=a[1][0],s=a[1][1];return ni(n(t),a).cells.forEach(function(n,a){var l=n.edges,u=n.site,h=e[a]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=i&&u.x<=o&&u.y>=r&&u.y<=s?[[i,s],[o,s],[o,r],[i,r]]:[];h.point=t[a]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Es)*Es,y:Math.round(s(t,e)/Es)*Es,i:e}})}var i=Cn,r=Pn,o=i,s=r,a=Za;return t?e(t):(e.links=function(t){return ni(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return ni(n(t)).cells.forEach(function(n,i){for(var r,o,s=n.site,a=n.edges.sort(Ln),l=-1,u=a.length,h=a[u-1].edge,c=h.l===s?h.r:h.l;++l<u;)r=h,o=c,h=a[l].edge,c=h.l===s?h.r:h.l,i<o.i&&i<c.i&&ri(s,o,c)<0&&e.push([t[i],t[o.i],t[c.i]])}),e},e.x=function(t){return arguments.length?(o=_t(i=t),e):i},e.y=function(t){return arguments.length?(s=_t(r=t),e):r},e.clipExtent=function(t){return arguments.length?(a=null==t?Za:t,e):a===Za?null:a},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):a===Za?null:a&&a[1]},e)};var Za=[[-1e6,-1e6],[1e6,1e6]];$o.geom.delaunay=function(t){return $o.geom.voronoi().triangles(t)},$o.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,s,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,h=t.y;if(null!=l)if(os(l-n)+os(h-i)<.01)u(t,e,n,i,r,o,s,a);else{var c=t.point;t.x=t.y=t.point=null,u(t,c,l,h,r,o,s,a),u(t,e,n,i,r,o,s,a)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,r,o,s,a)}function u(t,e,n,i,r,s,a,l){var u=.5*(r+a),h=.5*(s+l),c=n>=u,f=i>=h,d=(f<<1)+c;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=ai()),c?r=u:a=u,f?s=h:l=h,o(t,e,n,i,r,s,a,l)}var h,c,f,d,p,g,m,v,y,b=_t(a),x=_t(l);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),c=[],f=[],p=t.length,s)for(d=0;p>d;++d)h=t[d],h.x<g&&(g=h.x),h.y<m&&(m=h.y),h.x>v&&(v=h.x),h.y>y&&(y=h.y),c.push(h.x),f.push(h.y);else for(d=0;p>d;++d){var w=+b(h=t[d],d),_=+x(h,d);g>w&&(g=w),m>_&&(m=_),w>v&&(v=w),_>y&&(y=_),c.push(w),f.push(_)}var M=v-g,C=y-m;M>C?y=m+M:v=g+C;var P=ai();if(P.add=function(t){o(P,t,+b(t,++d),+x(t,d),g,m,v,y)},P.visit=function(t){li(t,P,g,m,v,y)},d=-1,null==e){for(;++d<p;)o(P,t[d],c[d],f[d],g,m,v,y);--d}else t.forEach(P.add);return c=f=t=h=null,P}var s,a=Cn,l=Pn;return(s=arguments.length)?(a=oi,l=si,3===s&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},$o.interpolateRgb=ui,$o.interpolateObject=hi,$o.interpolateNumber=ci,$o.interpolateString=fi;var Ja=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ka=new RegExp(Ja.source,"g");$o.interpolate=di,$o.interpolators=[function(t,e){var n=typeof e;return("string"===n?js.has(e)||/^(#|rgb\(|hsl\()/.test(e)?ui:fi:e instanceof nt?ui:Array.isArray(e)?pi:"object"===n&&isNaN(e)?hi:ci)(t,e)}],$o.interpolateArray=pi;var tl=function(){return Mt},el=$o.map({linear:tl,poly:wi,quad:function(){return yi},cubic:function(){return bi},sin:function(){return _i},exp:function(){return Mi},circle:function(){return Ci},elastic:Pi,back:Ei,bounce:function(){return ki}}),nl=$o.map({"in":Mt,out:mi,"in-out":vi,"out-in":function(t){return vi(mi(t))}});$o.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,i=e>=0?t.substring(e+1):"in";return n=el.get(n)||tl,i=nl.get(i)||Mt,gi(i(n.apply(null,Uo.call(arguments,1))))},$o.interpolateHcl=Si,$o.interpolateHsl=Ti,$o.interpolateLab=Ai,$o.interpolateRound=Ni,$o.transform=function(t){var e=Xo.createElementNS($o.ns.prefix.svg,"g");return($o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new zi(n?n.matrix:il)})(t)},zi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var il={a:1,b:0,c:0,d:1,e:0,f:0};$o.interpolateTransform=Ri,$o.layout={},$o.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Vi(t[n]));return e}},$o.layout.chord=function(){function t(){var t,u,c,f,d,p={},g=[],m=$o.range(o),v=[];for(n=[],i=[],t=0,f=-1;++f<o;){for(u=0,d=-1;++d<o;)u+=r[f][d];g.push(u),v.push($o.range(o)),t+=u}for(s&&m.sort(function(t,e){return s(g[t],g[e])}),a&&v.forEach(function(t,e){t.sort(function(t,n){return a(r[e][t],r[e][n])})}),t=(Cs-h*o)/t,u=0,f=-1;++f<o;){for(c=u,d=-1;++d<o;){var y=m[f],b=v[y][d],x=r[y][b],w=u,_=u+=x*t;p[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:_,value:x}}i[y]={index:y,startAngle:c,endAngle:u,value:(u-c)/t},u+=h}for(f=-1;++f<o;)for(d=f-1;++d<o;){var M=p[f+"-"+d],C=p[d+"-"+f];(M.value||C.value)&&n.push(M.value<C.value?{source:C,target:M}:{source:M,target:C})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,s,a,l,u={},h=0;return u.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,u):r},u.padding=function(t){return arguments.length?(h=t,n=i=null,u):h},u.sortGroups=function(t){return arguments.length?(s=t,n=i=null,u):s},u.sortSubgroups=function(t){return arguments.length?(a=t,n=null,u):a},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return i||t(),i},u},$o.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=r-n,l=o*o+s*s;if(l>a*a/m){if(p>l){var u=e.charge/l;t.px-=o*u,t.py-=s*u}return!0}if(e.point&&l&&p>l){var u=e.pointCharge/l;t.px-=o*u,t.py-=s*u}}return!e.charge}}function e(t){t.px=$o.event.x,t.py=$o.event.y,a.resume()}var n,i,r,o,s,a={},l=$o.dispatch("start","tick","end"),u=[1,1],h=.9,c=rl,f=ol,d=-30,p=sl,g=.1,m=.64,v=[],y=[];return a.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var e,n,a,c,f,p,m,b,x,w=v.length,_=y.length;for(n=0;_>n;++n)a=y[n],c=a.source,f=a.target,b=f.x-c.x,x=f.y-c.y,(p=b*b+x*x)&&(p=i*o[n]*((p=Math.sqrt(p))-r[n])/p,b*=p,x*=p,f.x-=b*(m=c.weight/(f.weight+c.weight)),f.y-=x*m,c.x+=b*(m=1-m),c.y+=x*m);if((m=i*g)&&(b=u[0]/2,x=u[1]/2,n=-1,m))for(;++n<w;)a=v[n],a.x+=(b-a.x)*m,a.y+=(x-a.y)*m;if(d)for(Ui(e=$o.geom.quadtree(v),i,s),n=-1;++n<w;)(a=v[n]).fixed||e.visit(t(a));for(n=-1;++n<w;)a=v[n],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*h,a.y-=(a.py-(a.py=a.y))*h);l.tick({type:"tick",alpha:i})},a.nodes=function(t){return arguments.length?(v=t,a):v},a.links=function(t){return arguments.length?(y=t,a):y},a.size=function(t){return arguments.length?(u=t,a):u},a.linkDistance=function(t){return arguments.length?(c="function"==typeof t?t:+t,a):c},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.friction=function(t){return arguments.length?(h=+t,a):h},a.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,a):d},a.chargeDistance=function(t){return arguments.length?(p=t*t,a):Math.sqrt(p)},a.gravity=function(t){return arguments.length?(g=+t,a):g},a.theta=function(t){return arguments.length?(m=t*t,a):Math.sqrt(m)},a.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(l.start({type:"start",alpha:i=t}),$o.timer(a.tick)),a):i},a.start=function(){function t(t,i){if(!n){for(n=new Array(l),a=0;l>a;++a)n[a]=[];for(a=0;u>a;++a){var r=y[a];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var o,s=n[e],a=-1,u=s.length;++a<u;)if(!isNaN(o=s[a][t]))return o;return Math.random()*i}var e,n,i,l=v.length,h=y.length,p=u[0],g=u[1];for(e=0;l>e;++e)(i=v[e]).index=e,i.weight=0;for(e=0;h>e;++e)i=y[e],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(e=0;l>e;++e)i=v[e],isNaN(i.x)&&(i.x=t("x",p)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof c)for(e=0;h>e;++e)r[e]=+c.call(this,y[e],e);else for(e=0;h>e;++e)r[e]=c;if(o=[],"function"==typeof f)for(e=0;h>e;++e)o[e]=+f.call(this,y[e],e);else for(e=0;h>e;++e)o[e]=f;if(s=[],"function"==typeof d)for(e=0;l>e;++e)s[e]=+d.call(this,v[e],e);else for(e=0;l>e;++e)s[e]=d;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return n||(n=$o.behavior.drag().origin(Mt).on("dragstart.force",qi).on("drag.force",e).on("dragend.force",Fi)),arguments.length?void this.on("mouseover.force",ji).on("mouseout.force",$i).call(n):n},$o.rebind(a,l,"on")};var rl=20,ol=1,sl=1/0;$o.layout.hierarchy=function(){function t(r){var o,s=[r],a=[];for(r.depth=0;null!=(o=s.pop());)if(a.push(o),(u=n.call(t,o,o.depth))&&(l=u.length)){for(var l,u,h;--l>=0;)s.push(h=u[l]),h.parent=o,h.depth=o.depth+1;i&&(o.value=0),o.children=u}else i&&(o.value=+i.call(t,o,o.depth)||0),delete o.children;return Qi(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),a}var e=Ji,n=Gi,i=Zi;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(Xi(e,function(t){t.children&&(t.value=0)}),Qi(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},$o.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(s=o.length)){var s,a,l,u=-1;for(i=e.value?i/e.value:0;++u<s;)t(a=o[u],n,l=a.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var s=i.call(this,n,o);return t(s[0],0,r[0],r[1]/e(s[0])),s}var i=$o.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},Yi(n,i)},$o.layout.pie=function(){function t(o){var s=o.map(function(n,i){return+e.call(t,n,i)}),a=+("function"==typeof i?i.apply(this,arguments):i),l=(("function"==typeof r?r.apply(this,arguments):r)-a)/$o.sum(s),u=$o.range(o.length);null!=n&&u.sort(n===al?function(t,e){return s[e]-s[t]}:function(t,e){return n(o[t],o[e])});var h=[];return u.forEach(function(t){var e;h[t]={data:o[t],value:e=s[t],startAngle:a,endAngle:a+=e*l}}),h}var e=Number,n=al,i=0,r=Cs;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t};var al={};$o.layout.stack=function(){function t(a,l){var u=a.map(function(n,i){return e.call(t,n,i)}),h=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),s.call(t,e,n)]})}),c=n.call(t,h,l);u=$o.permute(u,c),h=$o.permute(h,c);var f,d,p,g=i.call(t,h,l),m=u.length,v=u[0].length;for(d=0;v>d;++d)for(r.call(t,u[0][d],p=g[d],h[0][d][1]),f=1;m>f;++f)r.call(t,u[f][d],p+=h[f-1][d][1],h[f][d][1]);return a}var e=Mt,n=ir,i=rr,r=nr,o=tr,s=er;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ll.get(e)||ir,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:ul.get(e)||rr,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(r=e,t):r},t};var ll=$o.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(or),o=t.map(sr),s=$o.range(i).sort(function(t,e){return r[t]-r[e]}),a=0,l=0,u=[],h=[];for(e=0;i>e;++e)n=s[e],l>a?(a+=o[n],u.push(n)):(l+=o[n],h.push(n));return h.reverse().concat(u)},reverse:function(t){return $o.range(t.length).reverse()},"default":ir}),ul=$o.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,s=[],a=0,l=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>a&&(a=i),s.push(i)}for(n=0;o>n;++n)l[n]=(a-s[n])/2;return l},wiggle:function(t){var e,n,i,r,o,s,a,l,u,h=t.length,c=t[0],f=c.length,d=[];for(d[0]=l=u=0,n=1;f>n;++n){for(e=0,r=0;h>e;++e)r+=t[e][n][1];for(e=0,o=0,a=c[n][0]-c[n-1][0];h>e;++e){for(i=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);e>i;++i)s+=(t[i][n][1]-t[i][n-1][1])/a;o+=s*t[e][n][1]}d[n]=l-=r?o/r*a:0,u>l&&(u=l)}for(n=0;f>n;++n)d[n]-=u;return d},expand:function(t){var e,n,i,r=t.length,o=t[0].length,s=1/r,a=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=s}for(n=0;o>n;++n)a[n]=0;return a},zero:rr});$o.layout.histogram=function(){function t(t,o){for(var s,a,l=[],u=t.map(n,this),h=i.call(this,u,o),c=r.call(this,h,u,o),o=-1,f=u.length,d=c.length-1,p=e?1:1/f;++o<d;)s=l[o]=[],s.dx=c[o+1]-(s.x=c[o]),s.y=0;if(d>0)for(o=-1;++o<f;)a=u[o],a>=h[0]&&a<=h[1]&&(s=l[$o.bisect(c,a,1,d)-1],s.y+=p,s.push(t[o]));return l}var e=!0,n=Number,i=hr,r=lr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=_t(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return ur(t,e)}:_t(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},$o.layout.pack=function(){function t(t,o){var s=n.call(this,t,o),a=s[0],l=r[0],u=r[1],h=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(a.x=a.y=0,Qi(a,function(t){t.r=+h(t.value)}),Qi(a,gr),i){var c=i*(e?1:Math.max(2*a.r/l,2*a.r/u))/2;Qi(a,function(t){t.r+=c}),Qi(a,gr),Qi(a,function(t){t.r-=c})}return yr(a,l/2,u/2,e?1:1/Math.max(2*a.r/l,2*a.r/u)),s}var e,n=$o.layout.hierarchy().sort(cr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},Yi(t,n)},$o.layout.tree=function(){function t(t,r){var h=s.call(this,t,r),c=h[0],f=e(c);if(Qi(f,n),f.parent.m=-f.z,Xi(f,i),u)Xi(c,o);else{var d=c,p=c,g=c;Xi(c,function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=a(d,p)/2-d.x,v=l[0]/(p.x+a(p,d)/2+m),y=l[1]/(g.depth||1);Xi(c,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return h}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,s=0,a=o.length;a>s;++s)i.push((o[s]=r={_:o[s],parent:e,children:(r=o[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Cr(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+a(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+a(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,o=t,s=e,l=r.parent.children[0],u=r.m,h=o.m,c=s.m,f=l.m;s=_r(s),r=wr(r),s&&r;)l=wr(l),o=_r(o),o.a=t,i=s.z+c-r.z-u+a(s._,r._),i>0&&(Mr(Pr(s,t,n),t,i),u+=i,h+=i),c+=s.m,u+=r.m,f+=l.m,h+=o.m;s&&!_r(o)&&(o.t=s,o.m+=c-h),r&&!wr(l)&&(l.t=r,l.m+=u-f,n=t)}return n}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var s=$o.layout.hierarchy().sort(null).value(null),a=xr,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(a=e,t):a},t.size=function(e){return arguments.length?(u=null==(l=e)?o:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:o,t):u?l:null},Yi(t,s)},$o.layout.cluster=function(){function t(t,o){var s,a=e.call(this,t,o),l=a[0],u=0;Qi(l,function(t){var e=t.children;e&&e.length?(t.x=kr(e),t.y=Er(e)):(t.x=s?u+=n(t,s):0,t.y=0,s=t)});var h=Sr(l),c=Tr(l),f=h.x-n(h,c)/2,d=c.x+n(c,h)/2;return Qi(l,r?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-f)/(d-f)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),a}var e=$o.layout.hierarchy().sort(null).value(null),n=xr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},Yi(t,e)},$o.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var o=n.children;if(o&&o.length){var s,a,l,u=c(n),h=[],f=o.slice(),p=1/0,g="slice"===d?u.dx:"dice"===d?u.dy:"slice-dice"===d?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(f,u.dx*u.dy/n.value),h.area=0;(l=f.length)>0;)h.push(s=f[l-1]),h.area+=s.area,"squarify"!==d||(a=i(h,g))<=p?(f.pop(),p=a):(h.area-=h.pop().area,r(h,g,u,!1),g=Math.min(u.dx,u.dy),h.length=h.area=0,p=1/0);h.length&&(r(h,g,u,!0),h.length=h.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,s=c(e),a=i.slice(),l=[];for(t(a,s.dx*s.dy/e.value),l.area=0;o=a.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?s.dx:s.dy,s,!a.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*o*p)):1/0}function r(t,e,n,i){var r,o=-1,s=t.length,a=n.x,u=n.y,h=e?l(t.area/e):0;if(e==n.dx){for((i||h>n.dy)&&(h=n.dy);++o<s;)r=t[o],r.x=a,r.y=u,r.dy=h,a+=r.dx=Math.min(n.x+n.dx-a,h?l(r.area/h):0);r.z=!0,r.dx+=n.x+n.dx-a,n.y+=h,n.dy-=h}else{for((i||h>n.dx)&&(h=n.dx);++o<s;)r=t[o],r.x=a,r.y=u,r.dx=h,u+=r.dy=Math.min(n.y+n.dy-u,h?l(r.area/h):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=h,n.dx-=h}}function o(i){var r=s||a(i),o=r[0];return o.x=0,o.y=0,o.dx=u[0],o.dy=u[1],s&&a.revalue(o),t([o],o.dx*o.dy/o.value),(s?n:e)(o),f&&(s=r),r}var s,a=$o.layout.hierarchy(),l=Math.round,u=[1,1],h=null,c=Ar,f=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Ar(e):Nr(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Nr(e,t)}if(!arguments.length)return h;var i;return c=null==(h=t)?Ar:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],
n):n,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(f=t,s=null,o):f},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d},Yi(o,a)},$o.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=$o.random.normal.apply($o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=$o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},$o.scale={};var hl={floor:Mt,ceil:Mt};$o.scale.linear=function(){return Hr([0,1],[0,1],di,!1)};var cl={s:1,g:1,p:1,r:1,e:1};$o.scale.log=function(){return Ur($o.scale.linear().domain([0,1]),10,!0,[1,10])};var fl=$o.format(".0e"),dl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};$o.scale.pow=function(){return Yr($o.scale.linear(),1,[0,1])},$o.scale.sqrt=function(){return $o.scale.pow().exponent(.5)},$o.scale.ordinal=function(){return Qr([],{t:"range",a:[[]]})},$o.scale.category10=function(){return $o.scale.ordinal().range(pl)},$o.scale.category20=function(){return $o.scale.ordinal().range(gl)},$o.scale.category20b=function(){return $o.scale.ordinal().range(ml)},$o.scale.category20c=function(){return $o.scale.ordinal().range(vl)};var pl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(gt),gl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gt),ml=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gt),vl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gt);$o.scale.quantile=function(){return Gr([],[])},$o.scale.quantize=function(){return Zr(0,1,[0,1])},$o.scale.threshold=function(){return Jr([.5],[0,1])},$o.scale.identity=function(){return Kr([0,1])},$o.svg={},$o.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),s=i.apply(this,arguments)+yl,a=r.apply(this,arguments)+yl,l=(s>a&&(l=s,s=a,a=l),a-s),u=Ms>l?"0":"1",h=Math.cos(s),c=Math.sin(s),f=Math.cos(a),d=Math.sin(a);return l>=bl?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*h+","+o*c+"A"+o+","+o+" 0 "+u+",1 "+o*f+","+o*d+"L"+t*f+","+t*d+"A"+t+","+t+" 0 "+u+",0 "+t*h+","+t*c+"Z":"M"+o*h+","+o*c+"A"+o+","+o+" 0 "+u+",1 "+o*f+","+o*d+"L0,0Z"}var e=to,n=eo,i=no,r=io;return t.innerRadius=function(n){return arguments.length?(e=_t(n),t):e},t.outerRadius=function(e){return arguments.length?(n=_t(e),t):n},t.startAngle=function(e){return arguments.length?(i=_t(e),t):i},t.endAngle=function(e){return arguments.length?(r=_t(e),t):r},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(i.apply(this,arguments)+r.apply(this,arguments))/2+yl;return[Math.cos(o)*t,Math.sin(o)*t]},t};var yl=-Ps,bl=Cs-Es;$o.svg.line=function(){return ro(Mt)};var xl=$o.map({linear:oo,"linear-closed":so,step:ao,"step-before":lo,"step-after":uo,basis:mo,"basis-open":vo,"basis-closed":yo,bundle:bo,cardinal:fo,"cardinal-open":ho,"cardinal-closed":co,monotone:Po});xl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var wl=[0,2/3,1/3,0],_l=[0,1/3,2/3,0],Ml=[0,1/6,2/3,1/6];$o.svg.line.radial=function(){var t=ro(Eo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},lo.reverse=uo,uo.reverse=lo,$o.svg.area=function(){return ko(Mt)},$o.svg.area.radial=function(){var t=ko(Eo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},$o.svg.chord=function(){function t(t,a){var l=e(this,o,t,a),u=e(this,s,t,a);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+r(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=a.call(t,r,i),s=l.call(t,r,i)+yl,h=u.call(t,r,i)+yl;return{r:o,a0:s,a1:h,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(h),o*Math.sin(h)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ms)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=pn,s=gn,a=So,l=no,u=io;return t.radius=function(e){return arguments.length?(a=_t(e),t):a},t.source=function(e){return arguments.length?(o=_t(e),t):o},t.target=function(e){return arguments.length?(s=_t(e),t):s},t.startAngle=function(e){return arguments.length?(l=_t(e),t):l},t.endAngle=function(e){return arguments.length?(u=_t(e),t):u},t},$o.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),s=n.call(this,t,r),a=(o.y+s.y)/2,l=[o,{x:o.x,y:a},{x:s.x,y:a},s];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=pn,n=gn,i=To;return t.source=function(n){return arguments.length?(e=_t(n),t):e},t.target=function(e){return arguments.length?(n=_t(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},$o.svg.diagonal.radial=function(){var t=$o.svg.diagonal(),e=To,n=t.projection;return t.projection=function(t){return arguments.length?n(Ao(e=t)):e},t},$o.svg.symbol=function(){function t(t,i){return(Cl.get(e.call(this,t,i))||Io)(n.call(this,t,i))}var e=zo,n=No;return t.type=function(n){return arguments.length?(e=_t(n),t):e},t.size=function(e){return arguments.length?(n=_t(e),t):n},t};var Cl=$o.map({circle:Io,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Sl)),n=e*Sl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/kl),n=e*kl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/kl),n=e*kl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});$o.svg.symbolTypes=Cl.keys();var Pl,El,kl=Math.sqrt(3),Sl=Math.tan(30*Ss),Tl=[],Al=0;Tl.call=gs.call,Tl.empty=gs.empty,Tl.node=gs.node,Tl.size=gs.size,$o.transition=function(t){return arguments.length?Pl?t.transition():t:ys.transition()},$o.transition.prototype=Tl,Tl.select=function(t){var e,n,i,r=this.id,o=[];t=_(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]);for(var l=this[s],u=-1,h=l.length;++u<h;)(i=l[u])&&(n=t.call(i,i.__data__,u,s))?("__data__"in i&&(n.__data__=i.__data__),Bo(n,u,r,i.__transition__[r]),e.push(n)):e.push(null)}return Do(o,r)},Tl.selectAll=function(t){var e,n,i,r,o,s=this.id,a=[];t=M(t);for(var l=-1,u=this.length;++l<u;)for(var h=this[l],c=-1,f=h.length;++c<f;)if(i=h[c]){o=i.__transition__[s],n=t.call(i,i.__data__,c,l),a.push(e=[]);for(var d=-1,p=n.length;++d<p;)(r=n[d])&&Bo(r,d,s,o),e.push(r)}return Do(a,s)},Tl.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=D(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]);for(var n=this[o],a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,o)&&e.push(i)}return Do(r,this.id)},Tl.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):R(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(i){i.__transition__[n].tween.set(t,e)})},Tl.attr=function(t,e){function n(){this.removeAttribute(a)}function i(){this.removeAttributeNS(a.space,a.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(a);return n!==t&&(e=s(n,t),function(t){this.setAttribute(a,e(t))})})}function o(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(a.space,a.local);return n!==t&&(e=s(n,t),function(t){this.setAttributeNS(a.space,a.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var s="transform"==t?Ri:di,a=$o.ns.qualify(t);return Oo(this,"attr."+t,e,a.local?o:r)},Tl.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=$o.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Tl.style=function(t,e,n){function i(){this.style.removeProperty(t)}function r(e){return null==e?i:(e+="",function(){var i,r=Go.getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=di(r,e),function(e){this.style.setProperty(t,i(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return Oo(this,"style."+t,e,r)},Tl.styleTween=function(t,e,n){function i(i,r){var o=e.call(this,i,r,Go.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,i)},Tl.text=function(t){return Oo(this,"text",t,Ro)},Tl.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Tl.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=$o.ease.apply($o,arguments)),R(this,function(n){n.__transition__[e].ease=t}))},Tl.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:R(this,"function"==typeof t?function(n,i,r){n.__transition__[e].delay=+t.call(n,n.__data__,i,r)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Tl.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:R(this,"function"==typeof t?function(n,i,r){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,i,r))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Tl.each=function(t,e){var n=this.id;if(arguments.length<2){var i=El,r=Pl;Pl=n,R(this,function(e,i,r){El=e.__transition__[n],t.call(e,e.__data__,i,r)}),El=i,Pl=r}else R(this,function(i){var r=i.__transition__[n];(r.event||(r.event=$o.dispatch("start","end"))).on(t,e)});return this},Tl.transition=function(){for(var t,e,n,i,r=this.id,o=++Al,s=[],a=0,l=this.length;l>a;a++){s.push(t=[]);for(var e=this[a],u=0,h=e.length;h>u;u++)(n=e[u])&&(i=Object.create(n.__transition__[r]),i.delay+=i.duration,Bo(n,u,o,i)),t.push(n)}return Do(s,o)},$o.svg.axis=function(){function t(t){t.each(function(){var t,u=$o.select(this),h=this.__chart__||n,c=this.__chart__=n.copy(),f=null==l?c.ticks?c.ticks.apply(c,a):c.domain():l,d=null==e?c.tickFormat?c.tickFormat.apply(c,a):Mt:e,p=u.selectAll(".tick").data(f,c),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Es),m=$o.transition(p.exit()).style("opacity",Es).remove(),v=$o.transition(p.order()).style("opacity",1),y=Ir(c),b=u.selectAll(".domain").data([0]),x=(b.enter().append("path").attr("class","domain"),$o.transition(b));g.append("line"),g.append("text");var w=g.select("line"),_=v.select("line"),M=p.select("text").text(d),C=g.select("text"),P=v.select("text");switch(i){case"bottom":t=Ho,w.attr("y2",r),C.attr("y",Math.max(r,0)+s),_.attr("x2",0).attr("y2",r),P.attr("x",0).attr("y",Math.max(r,0)+s),M.attr("dy",".71em").style("text-anchor","middle"),x.attr("d","M"+y[0]+","+o+"V0H"+y[1]+"V"+o);break;case"top":t=Ho,w.attr("y2",-r),C.attr("y",-(Math.max(r,0)+s)),_.attr("x2",0).attr("y2",-r),P.attr("x",0).attr("y",-(Math.max(r,0)+s)),M.attr("dy","0em").style("text-anchor","middle"),x.attr("d","M"+y[0]+","+-o+"V0H"+y[1]+"V"+-o);break;case"left":t=Vo,w.attr("x2",-r),C.attr("x",-(Math.max(r,0)+s)),_.attr("x2",-r).attr("y2",0),P.attr("x",-(Math.max(r,0)+s)).attr("y",0),M.attr("dy",".32em").style("text-anchor","end"),x.attr("d","M"+-o+","+y[0]+"H0V"+y[1]+"H"+-o);break;case"right":t=Vo,w.attr("x2",r),C.attr("x",Math.max(r,0)+s),_.attr("x2",r).attr("y2",0),P.attr("x",Math.max(r,0)+s).attr("y",0),M.attr("dy",".32em").style("text-anchor","start"),x.attr("d","M"+o+","+y[0]+"H0V"+y[1]+"H"+o)}if(c.rangeBand){var E=c,k=E.rangeBand()/2;h=c=function(t){return E(t)+k}}else h.rangeBand?h=c:m.call(t,c);g.call(t,h),v.call(t,c)})}var e,n=$o.scale.linear(),i=Nl,r=6,o=6,s=3,a=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in zl?e+"":Nl,t):i},t.ticks=function(){return arguments.length?(a=arguments,t):a},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(){return arguments.length&&t},t};var Nl="bottom",zl={top:1,right:1,bottom:1,left:1};$o.svg.brush=function(){function t(o){o.each(function(){var o=$o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),s=o.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=o.selectAll(".resize").data(p,Mt);a.exit().remove(),a.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Il[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",t.empty()?"none":null);var h,c=$o.transition(o),f=$o.transition(s);l&&(h=Ir(l),f.attr("x",h[0]).attr("width",h[1]-h[0]),n(c)),u&&(h=Ir(u),f.attr("y",h[0]).attr("height",h[1]-h[0]),i(c)),e(c)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+c[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function i(t){t.select(".extent").attr("y",c[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0])}function r(){function r(){32==$o.event.keyCode&&(S||(b=null,A[0]-=h[1],A[1]-=c[1],S=2),y())}function p(){32==$o.event.keyCode&&2==S&&(A[0]+=h[1],A[1]+=c[1],S=0,y())}function g(){var t=$o.mouse(w),r=!1;x&&(t[0]+=x[0],t[1]+=x[1]),S||($o.event.altKey?(b||(b=[(h[0]+h[1])/2,(c[0]+c[1])/2]),A[0]=h[+(t[0]<b[0])],A[1]=c[+(t[1]<b[1])]):b=null),E&&m(t,l,0)&&(n(C),r=!0),k&&m(t,u,1)&&(i(C),r=!0),r&&(e(C),M({type:"brush",mode:S?"move":"resize"}))}function m(t,e,n){var i,r,a=Ir(e),l=a[0],u=a[1],p=A[n],g=n?c:h,m=g[1]-g[0];return S&&(l-=p,u-=m+p),i=(n?d:f)?Math.max(l,Math.min(u,t[n])):t[n],S?r=(i+=p)+m:(b&&(p=Math.max(l,Math.min(u,2*b[n]-i))),i>p?(r=i,i=p):r=p),g[0]!=i||g[1]!=r?(n?s=null:o=null,g[0]=i,g[1]=r,!0):void 0}function v(){g(),C.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),$o.select("body").style("cursor",null),N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),M({type:"brushend"})}var b,x,w=this,_=$o.select($o.event.target),M=a.of(w,arguments),C=$o.select(w),P=_.datum(),E=!/^(n|s)$/.test(P)&&l,k=!/^(e|w)$/.test(P)&&u,S=_.classed("extent"),T=F(),A=$o.mouse(w),N=$o.select(Go).on("keydown.brush",r).on("keyup.brush",p);if($o.event.changedTouches?N.on("touchmove.brush",g).on("touchend.brush",v):N.on("mousemove.brush",g).on("mouseup.brush",v),C.interrupt().selectAll("*").interrupt(),S)A[0]=h[0]-A[0],A[1]=c[0]-A[1];else if(P){var z=+/w$/.test(P),I=+/^n/.test(P);x=[h[1-z]-A[0],c[1-I]-A[1]],A[0]=h[z],A[1]=c[I]}else $o.event.altKey&&(b=A.slice());C.style("pointer-events","none").selectAll(".resize").style("display",null),$o.select("body").style("cursor",_.style("cursor")),M({type:"brushstart"}),g()}var o,s,a=x(t,"brushstart","brush","brushend"),l=null,u=null,h=[0,0],c=[0,0],f=!0,d=!0,p=Dl[0];return t.event=function(t){t.each(function(){var t=a.of(this,arguments),e={x:h,y:c,i:o,j:s},n=this.__chart__||e;this.__chart__=e,Pl?$o.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,h=n.x,c=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=pi(h,e.x),i=pi(c,e.y);return o=s=null,function(r){h=e.x=n(r),c=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,p=Dl[!l<<1|!u],t):l},t.y=function(e){return arguments.length?(u=e,p=Dl[!l<<1|!u],t):u},t.clamp=function(e){return arguments.length?(l&&u?(f=!!e[0],d=!!e[1]):l?f=!!e:u&&(d=!!e),t):l&&u?[f,d]:l?f:u?d:null},t.extent=function(e){var n,i,r,a,f;return arguments.length?(l&&(n=e[0],i=e[1],u&&(n=n[0],i=i[0]),o=[n,i],l.invert&&(n=l(n),i=l(i)),n>i&&(f=n,n=i,i=f),(n!=h[0]||i!=h[1])&&(h=[n,i])),u&&(r=e[0],a=e[1],l&&(r=r[1],a=a[1]),s=[r,a],u.invert&&(r=u(r),a=u(a)),r>a&&(f=r,r=a,a=f),(r!=c[0]||a!=c[1])&&(c=[r,a])),t):(l&&(o?(n=o[0],i=o[1]):(n=h[0],i=h[1],l.invert&&(n=l.invert(n),i=l.invert(i)),n>i&&(f=n,n=i,i=f))),u&&(s?(r=s[0],a=s[1]):(r=c[0],a=c[1],u.invert&&(r=u.invert(r),a=u.invert(a)),r>a&&(f=r,r=a,a=f))),l&&u?[[n,r],[i,a]]:l?[n,i]:u&&[r,a])},t.clear=function(){return t.empty()||(h=[0,0],c=[0,0],o=s=null),t},t.empty=function(){return!!l&&h[0]==h[1]||!!u&&c[0]==c[1]},$o.rebind(t,a,"on")};var Il={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Dl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ol=ta.format=sa.timeFormat,Rl=Ol.utc,Bl=Rl("%Y-%m-%dT%H:%M:%S.%LZ");Ol.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Lo:Bl,Lo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Lo.toString=Bl.toString,ta.second=Ot(function(t){return new ea(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ta.seconds=ta.second.range,ta.seconds.utc=ta.second.utc.range,ta.minute=Ot(function(t){return new ea(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ta.minutes=ta.minute.range,ta.minutes.utc=ta.minute.utc.range,ta.hour=Ot(function(t){var e=t.getTimezoneOffset()/60;return new ea(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ta.hours=ta.hour.range,ta.hours.utc=ta.hour.utc.range,ta.month=Ot(function(t){return t=ta.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ta.months=ta.month.range,ta.months.utc=ta.month.utc.range;var Hl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Vl=[[ta.second,1],[ta.second,5],[ta.second,15],[ta.second,30],[ta.minute,1],[ta.minute,5],[ta.minute,15],[ta.minute,30],[ta.hour,1],[ta.hour,3],[ta.hour,6],[ta.hour,12],[ta.day,1],[ta.day,2],[ta.week,1],[ta.month,1],[ta.month,3],[ta.year,1]],Ll=Ol.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Me]]),Wl={range:function(t,e,n){return $o.range(Math.ceil(t/n)*n,+e,n).map(qo)},floor:Mt,ceil:Mt};Vl.year=ta.year,ta.scale=function(){return Wo($o.scale.linear(),Vl,Ll)};var ql=Vl.map(function(t){return[t[0].utc,t[1]]}),Fl=Rl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Me]]);ql.year=ta.year.utc,ta.scale.utc=function(){return Wo($o.scale.linear(),ql,Fl)},$o.text=Ct(function(t){return t.responseText}),$o.json=function(t,e){return Pt(t,"application/json",Fo,e)},$o.html=function(t,e){return Pt(t,"text/html",jo,e)},$o.xml=Ct(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define($o):"object"==typeof module&&module.exports&&(module.exports=$o),this.d3=$o}(),function(){function t(t){return t.map(e).join(",")}function e(t){return/[",\n]/.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}d3.csv=function(t,e){d3.text(t,"text/csv",function(t){e(t&&d3.csv.parse(t))})},d3.csv.parse=function(t){var e;return d3.csv.parseRows(t,function(t,n){if(n){for(var i={},r=-1,o=e.length;++r<o;)i[e[r]]=t[r];return i}return e=t,null})},d3.csv.parseRows=function(t,e){function n(){if(l.lastIndex>=t.length)return s;if(r)return r=!1,o;var e=l.lastIndex;if(34===t.charCodeAt(e)){for(var n=e;n++<t.length;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;n++}l.lastIndex=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&l.lastIndex++):10===i&&(r=!0),t.substring(e+1,n).replace(/""/g,'"')}var a=l.exec(t);return a?(r=44!==a[0].charCodeAt(0),t.substring(e,a.index)):(l.lastIndex=t.length,t.substring(e))}var i,r,o={},s={},a=[],l=/\r\n|[,\r\n]/g,u=0;for(l.lastIndex=0;(i=n())!==s;){for(var h=[];i!==o&&i!==s;)h.push(i),i=n();e&&!(h=e(h,u++))||a.push(h)}return a},d3.csv.format=function(e){return e.map(t).join("\n")}}(),function(){function t(t,e,n,i){for(var r,o,s=0,a=e.length,l=n.length;s<a;){if(i>=l)return-1;if(r=e.charCodeAt(s++),37==r){if(o=B[e.charAt(s++)],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function e(t,e,n){return e.substring(n,n+=3).toLowerCase()in H?n:-1}function n(t,e,n){V.lastIndex=0;var i=V.exec(e.substring(n,n+10));return i?n+=i[0].length:-1}function i(t,e,n){var i=W[e.substring(n,n+=3).toLowerCase()];return null==i?-1:(t.setMonth(i),n)}function r(t,e,n){q.lastIndex=0;var i=q.exec(e.substring(n,n+12));return i?(t.setMonth(F[i[0].toLowerCase()]),n+=i[0].length):-1}function o(e,n,i){return t(e,R.c.toString(),n,i)}function s(e,n,i){return t(e,R.x.toString(),n,i)}function a(e,n,i){return t(e,R.X.toString(),n,i)}function l(t,e,n){$.lastIndex=0;var i=$.exec(e.substring(n,n+4));return i?(t.setFullYear(i[0]),n+=i[0].length):-1}function u(t,e,n){$.lastIndex=0;var i=$.exec(e.substring(n,n+2));return i?(t.setFullYear(h()+ +i[0]),n+=i[0].length):-1}function h(){return 1e3*~~((new Date).getFullYear()/1e3)}function c(t,e,n){$.lastIndex=0;var i=$.exec(e.substring(n,n+2));return i?(t.setMonth(i[0]-1),n+=i[0].length):-1}function f(t,e,n){$.lastIndex=0;var i=$.exec(e.substring(n,n+2));return i?(t.setDate(+i[0]),n+=i[0].length):-1}function d(t,e,n){$.lastIndex=0;var i=$.exec(e.substring(n,n+2));return i?(t.setHours(+i[0]),n+=i[0].length):-1}function p(t,e,n){return t.hour12=!0,d(t,e,n)}function g(t,e,n){$.lastIndex=0;var i=$.exec(e.substring(n,n+2));return i?(t.setMinutes(+i[0]),n+=i[0].length):-1}function m(t,e,n){$.lastIndex=0;var i=$.exec(e.substring(n,n+2));return i?(t.setSeconds(+i[0]),n+=i[0].length):-1}function v(t,e,n){var i=U[e.substring(n,n+=2).toLowerCase()];return null==i?-1:(t.hour12pm=i,n)}function y(t){return new N(t.getFullYear(),0,1)}function b(t){return I(1+~~((t-y(t))/864e5))}function x(t){var e=y(t);return z(~~(((t-e)/864e5+e.getDay())/7))}function w(t){var e=y(t);return z(~~(((t-e)/864e5+(e.getDay()+6)%7)/7))}function _(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=~~(Math.abs(e)/60),r=Math.abs(e)%60;return n+z(i)+z(r)}function M(){this._=new Date(Date.UTC.apply(this,arguments))}function C(t,e,n){return function(i,r,o){var s=t(i),a=[];if(s<i&&e(s),o>1)for(;s<r;){var l=new Date((+s));n(l)%o||a.push(l),e(s)}else for(;s<r;)a.push(new Date((+s))),e(s);return a}}function P(t){t.setTime(t.getTime()+6e4)}function E(t){t.setTime(t.getTime()+36e5)}function k(t,e,n){function i(e){return t(e)}return i.invert=function(e){return T(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(T)},i.ticks=function(t,n){var r=S(i.domain());if("function"!=typeof t){var o=r[1]-r[0],s=o/t,a=d3.bisect(Y,s,1,Y.length-1);Math.log(s/Y[a-1])<Math.log(Y[a]/s)&&--a,t=e[a],n=t[1],t=t[0]}return t(r[0],r[1],n)},i.tickFormat=function(){return n},i.copy=function(){return k(t.copy(),e,n)},i.range=d3.rebind(i,t.range),i.rangeRound=d3.rebind(i,t.rangeRound),i.interpolate=d3.rebind(i,t.interpolate),i.clamp=d3.rebind(i,t.clamp),i}function S(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function T(t){return new Date(t)}function A(t){return function(e){for(var n=t.length-1,i=t[n];!i[1](e);)i=t[--n];return i[0](e)}}d3.time={};var N=Date;d3.time.format=function(e){function n(t){for(var n,r,o=[],s=-1,a=0;++s<i;)37==e.charCodeAt(s)&&(o.push(e.substring(a,s),(r=R[n=e.charAt(++s)])?r(t):n),a=s+1);return o.push(e.substring(a,s)),o.join("")}var i=e.length;return n.parse=function(n){var i=new N(1900,0,1),r=t(i,e,n,0);if(r!=n.length)return null;if(i.hour12){var o=i.getHours()%12;i.setHours(i.hour12pm?o+12:o)}return delete i.hour12,delete i.hour12pm,i},n.toString=function(){return e},n};var z=d3.format("02d"),I=d3.format("03d"),D=d3.format("04d"),O=d3.format("2d"),R={a:function(t){return L[t.getDay()].substring(0,3)},A:function(t){return L[t.getDay()]},b:function(t){return j[t.getMonth()].substring(0,3)},B:function(t){return j[t.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(t){return z(t.getDate())},e:function(t){return O(t.getDate())},H:function(t){return z(t.getHours())},I:function(t){return z(t.getHours()%12||12)},j:b,m:function(t){return z(t.getMonth()+1)},M:function(t){return z(t.getMinutes())},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t){return z(t.getSeconds())},U:x,w:function(t){return t.getDay()},W:w,x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(t){return z(t.getFullYear()%100)},Y:function(t){return D(t.getFullYear()%1e4)},Z:_,"%":function(t){return"%"}},B={a:e,A:n,b:i,B:r,c:o,d:f,e:f,H:d,I:p,m:c,M:g,p:v,S:m,x:s,X:a,y:u,Y:l},H={sun:3,mon:3,tue:3,wed:3,thu:3,fri:3,sat:3},V=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/gi,L=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],W={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},q=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/gi,F={january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},j=["January","February","March","April","May","June","July","August","September","October","November","December"],$=/\s*\d+/,U={am:0,pm:1};d3.time.format.utc=function(t){function e(t){var e=new M;return e._=t,n(e)}var n=d3.time.format(t);return e.parse=function(t){try{N=M;var e=n.parse(t);return e&&e._}finally{N=Date}},e.toString=n.toString,e},M.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.getTime()},setDate:function(t){this._.setUTCDate(t)},setDay:function(t){this._.setUTCDay(t)},setFullYear:function(t){this._.setUTCFullYear(t)},setHours:function(t){this._.setUTCHours(t)},setMilliseconds:function(t){this._.setUTCMilliseconds(t)},setMinutes:function(t){this._.setUTCMinutes(t)},setMonth:function(t){this._.setUTCMonth(t)},setSeconds:function(t){this._.setUTCSeconds(t)}},d3.time.format.iso=d3.time.format.utc("%Y-%m-%dT%H:%M:%SZ"),d3.time.second=function(t){return new Date(1e3*~~(t/1e3))},d3.time.second.utc=d3.time.second,d3.time.seconds=C(d3.time.second,function(t){t.setTime(t.getTime()+1e3)},function(t){return t.getSeconds()}),d3.time.seconds.utc=d3.time.seconds,d3.time.minute=function(t){return new Date(6e4*~~(t/6e4))},d3.time.minute.utc=d3.time.minute,d3.time.minutes=C(d3.time.minute,P,function(t){return t.getMinutes()}),d3.time.minutes.utc=C(d3.time.minute,P,function(t){return t.getUTCMinutes()}),d3.time.hour=function(t){var e=t.getTimezoneOffset()/60;return new Date(36e5*(~~(t/36e5-e)+e))},d3.time.hour.utc=function(t){return new Date(36e5*~~(t/36e5))},d3.time.hours=C(d3.time.hour,E,function(t){return t.getHours()}),d3.time.hours.utc=C(d3.time.hour.utc,E,function(t){return t.getUTCHours()}),d3.time.day=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},d3.time.day.utc=function(t){return new Date(864e5*~~(t/864e5))},d3.time.days=C(d3.time.day,function(t){t.setDate(t.getDate()+1)},function(t){return t.getDate()-1}),d3.time.days.utc=C(d3.time.day.utc,function(t){t.setUTCDate(t.getUTCDate()+1)},function(t){return t.getUTCDate()-1}),d3.time.week=function(t){return(t=d3.time.day(t)).setDate(t.getDate()-t.getDay()),t},d3.time.week.utc=function(t){return(t=d3.time.day.utc(t)).setUTCDate(t.getUTCDate()-t.getUTCDay()),t},d3.time.weeks=C(d3.time.week,function(t){t.setDate(t.getDate()+7)},function(t){return~~((t-new Date(t.getFullYear(),0,1))/6048e5)}),d3.time.weeks.utc=C(d3.time.week.utc,function(t){t.setUTCDate(t.getUTCDate()+7)},function(t){return~~((t-Date.UTC(t.getUTCFullYear(),0,1))/6048e5)}),d3.time.month=function(t){return new Date(t.getFullYear(),t.getMonth(),1)},d3.time.month.utc=function(t){return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),1))},d3.time.months=C(d3.time.month,function(t){t.setMonth(t.getMonth()+1)},function(t){return t.getMonth()}),d3.time.months.utc=C(d3.time.month.utc,function(t){t.setUTCMonth(t.getUTCMonth()+1)},function(t){return t.getUTCMonth()}),d3.time.year=function(t){return new Date(t.getFullYear(),0,1)},d3.time.year.utc=function(t){return new Date(Date.UTC(t.getUTCFullYear(),0,1))},d3.time.years=C(d3.time.year,function(t){t.setFullYear(t.getFullYear()+1)},function(t){return t.getFullYear()}),d3.time.years.utc=C(d3.time.year.utc,function(t){t.setUTCFullYear(t.getUTCFullYear()+1)},function(t){return t.getUTCFullYear()});var Y=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,1728e6,7776e6,31536e6],X=[[d3.time.seconds,1],[d3.time.seconds,5],[d3.time.seconds,15],[d3.time.seconds,30],[d3.time.minutes,1],[d3.time.minutes,5],[d3.time.minutes,15],[d3.time.minutes,30],[d3.time.hours,1],[d3.time.hours,3],[d3.time.hours,6],[d3.time.hours,12],[d3.time.days,1],[d3.time.days,2],[d3.time.weeks,1],[d3.time.months,1],[d3.time.months,3],[d3.time.years,1]],Q=[[d3.time.format("%Y"),function(t){return!0}],[d3.time.format("%B"),function(t){return t.getMonth()}],[d3.time.format("%b %d"),function(t){return 1!=t.getDate()}],[d3.time.format("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[d3.time.format("%I %p"),function(t){return t.getHours()}],[d3.time.format("%I:%M"),function(t){return t.getMinutes()}],[d3.time.format(":%S"),function(t){return t.getSeconds()||t.getMilliseconds()}]],G=A(Q);d3.time.scale=function(){return k(d3.scale.linear(),X,G)};var Z=[[d3.time.seconds.utc,1],[d3.time.seconds.utc,5],[d3.time.seconds.utc,15],[d3.time.seconds.utc,30],[d3.time.minutes.utc,1],[d3.time.minutes.utc,5],[d3.time.minutes.utc,15],[d3.time.minutes.utc,30],[d3.time.hours.utc,1],[d3.time.hours.utc,3],[d3.time.hours.utc,6],[d3.time.hours.utc,12],[d3.time.days.utc,1],[d3.time.days.utc,2],[d3.time.weeks.utc,1],[d3.time.months.utc,1],[d3.time.months.utc,3],[d3.time.years.utc,1]],J=[[d3.time.format.utc("%Y"),function(t){
return!0}],[d3.time.format.utc("%B"),function(t){return t.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(t){return 1!=t.getUTCDate()}],[d3.time.format.utc("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[d3.time.format.utc("%I %p"),function(t){return t.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(t){return t.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(t){return t.getUTCSeconds()||t.getUTCMilliseconds()}]],K=A(J);d3.time.scale.utc=function(){return k(d3.scale.linear(),Z,K)}}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=t("img[usemap='#"+o+"']")[0],!!s&&n(s))):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&e(n,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};var i=0,r=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(s){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,l={},u=e.split(".")[0];return e=e.split(".")[1],r=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[u]=t[u]||{},o=t[u][e],s=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(l[e]=i)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:u,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),s=0,a=o.length;a>s;s++)for(n in o[s])i=o[s][n],o[s].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return s?this.each(function(){var n,r=t.data(this,i);return"instance"===o?(l=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a),n!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?r.delegate(h,u,a):n.bind(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget;var o=!1;t(document).mouseup(function(){o=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),o=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,n){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var r,o,s=Math.max,a=Math.abs,l=Math.round,u=/left|center|right/,h=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,d=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return p.apply(this,arguments);r=t.extend({},r);var d,g,m,v,y,b,x=t(r.of),w=t.position.getWithinInfo(r.within),_=t.position.getScrollInfo(w),M=(r.collision||"flip").split(" "),C={};return b=i(x),x[0].preventDefault&&(r.at="left top"),g=b.width,m=b.height,v=b.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,n=(r[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=h.test(n[1])?n[1]:"center",t=c.exec(n[0]),e=c.exec(n[1]),C[this]=[t?t[0]:0,e?e[0]:0],r[this]=[f.exec(n[0])[0],f.exec(n[1])[0]]}),1===M.length&&(M[1]=M[0]),"right"===r.at[0]?y.left+=g:"center"===r.at[0]&&(y.left+=g/2),"bottom"===r.at[1]?y.top+=m:"center"===r.at[1]&&(y.top+=m/2),d=e(C.at,g,m),y.left+=d[0],y.top+=d[1],this.each(function(){var i,u,h=t(this),c=h.outerWidth(),f=h.outerHeight(),p=n(this,"marginLeft"),b=n(this,"marginTop"),P=c+p+n(this,"marginRight")+_.width,E=f+b+n(this,"marginBottom")+_.height,k=t.extend({},y),S=e(C.my,h.outerWidth(),h.outerHeight());"right"===r.my[0]?k.left-=c:"center"===r.my[0]&&(k.left-=c/2),"bottom"===r.my[1]?k.top-=f:"center"===r.my[1]&&(k.top-=f/2),k.left+=S[0],k.top+=S[1],o||(k.left=l(k.left),k.top=l(k.top)),i={marginLeft:p,marginTop:b},t.each(["left","top"],function(e,n){t.ui.position[M[e]]&&t.ui.position[M[e]][n](k,{targetWidth:g,targetHeight:m,elemWidth:c,elemHeight:f,collisionPosition:i,collisionWidth:P,collisionHeight:E,offset:[d[0]+S[0],d[1]+S[1]],my:r.my,at:r.at,within:w,elem:h})}),r.using&&(u=function(t){var e=v.left-k.left,n=e+g-c,i=v.top-k.top,o=i+m-f,l={target:{element:x,left:v.left,top:v.top,width:g,height:m},element:{element:h,left:k.left,top:k.top,width:c,height:f},horizontal:0>n?"left":e>0?"right":"center",vertical:0>o?"top":i>0?"bottom":"middle"};c>g&&g>a(e+n)&&(l.horizontal="center"),f>m&&m>a(i+o)&&(l.vertical="middle"),l.important=s(a(e),a(n))>s(a(i),a(o))?"horizontal":"vertical",r.using.call(this,t,l)}),h.offset(t.extend(k,{using:u}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,u=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&0>=u?(n=t.left+l+e.collisionWidth-o-r,t.left+=l-n):t.left=u>0&&0>=l?r:l>u?r+o-e.collisionWidth:r:l>0?t.left+=l:u>0?t.left-=u:t.left=s(t.left-a,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,u=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&0>=u?(n=t.top+l+e.collisionHeight-o-r,t.top+=l-n):t.top=u>0&&0>=l?r:l>u?r+o-e.collisionHeight:r:l>0?t.top+=l:u>0?t.top-=u:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,h=u-l,c=u+e.collisionWidth-s-l,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>h?(n=t.left+f+d+p+e.collisionWidth-s-o,(0>n||a(h)>n)&&(t.left+=f+d+p)):c>0&&(i=t.left-e.collisionPosition.marginLeft+f+d+p-l,(i>0||c>a(i))&&(t.left+=f+d+p))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,h=u-l,c=u+e.collisionHeight-s-l,f="top"===e.my[1],d=f?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>h?(i=t.top+d+p+g+e.collisionHeight-s-o,(0>i||a(h)>i)&&(t.top+=d+p+g)):c>0&&(n=t.top-e.collisionPosition.marginTop+d+p+g-l,(n>0||c>a(n))&&(t.top+=d+p+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,r,s,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in i)e.style[s]=i[s];e.appendChild(l),n=a||document.documentElement,n.insertBefore(e,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=t(l).offset().left,o=r>10&&11>r,e.innerHTML="",n.removeChild(e)}()}(),t.ui.position,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this._blurActiveElement(e),!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=this.document[0];if(this.handleElement.is(e.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(i){}},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,
t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,u,h,c,f,d,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)l=i.snapElements[f].left-i.margins.left,u=l+i.snapElements[f].width,h=i.snapElements[f].top-i.margins.top,c=h+i.snapElements[f].height,l-g>v||m>u+g||h-g>b||y>c+g||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(r=g>=Math.abs(h-b),o=g>=Math.abs(c-y),s=g>=Math.abs(l-v),a=g>=Math.abs(u-m),r&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),d=r||o||s||a,"outer"!==p.snapMode&&(r=g>=Math.abs(h-y),o=g>=Math.abs(c-b),s=g>=Math.abs(l-m),a=g>=Math.abs(u-v),r&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(r||o||s||a||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=r||o||s||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,u=n.offset.left,h=n.offset.top,c=u+n.proportions().width,f=h+n.proportions().height;switch(i){case"fit":return o>=u&&c>=a&&s>=h&&f>=l;case"intersect":return o+e.helperProportions.width/2>u&&c>a-e.helperProportions.width/2&&s+e.helperProportions.height/2>h&&f>l-e.helperProportions.height/2;case"pointer":return t(r.pageY,h,n.proportions().height)&&t(r.pageX,u,n.proportions().width);case"touch":return(s>=h&&f>=s||l>=h&&f>=l||h>s&&l>f)&&(o>=u&&c>=o||a>=u&&c>=a||u>o&&a>c);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;a.length>r;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=t.ui.intersect(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n,i,r,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;e.length>n;n++)i=t.trim(e[n]),o="ui-resizable-"+i,r=t("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:a.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)i=t(this.handles[n])[0],(i===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),s.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,u=this.options,h=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:h.sizeDiff.height,o=i?0:h.sizeDiff.width,s={width:h.helper.width()-o,height:h.helper.height()-r},a=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,l=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null,u.animate||this.element.css(t.extend(s,{top:l,left:a})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(n),h=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&u&&(t.left=a-e.minWidth),i&&u&&(t.left=a-e.maxWidth),s&&h&&(t.top=l-e.minHeight),r&&h&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(r[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,h=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,h&&u?{top:h,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),u=l.options,h=l.element,c=u.containment,f=c instanceof t?c.get(0):/parent/.test(c)?h.parent().get(0):c;f&&(l.containerElement=t(f),/document/.test(c)||c===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(f),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(f,"left")?f.scrollWidth:o,a=l._hasScroll(f)?f.scrollHeight:r,l.parentData={element:f,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,u=s.position,h=s._aspectRatio||e.shiftKey,c={top:0,left:0},f=s.containerElement,d=!0;f[0]!==document&&/static/.test(f.css("position"))&&(c=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-c.left),h&&(s.size.height=s.size.width/s.aspectRatio,d=!1),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),h&&(s.size.width=s.size.height*s.aspectRatio,d=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-c.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-c.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,h&&(s.size.height=s.size.width/s.aspectRatio,d=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,h&&(s.size.width=s.size.height*s.aspectRatio,d=!1)),d||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,u=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,h=l[1]||1,c=Math.round((r.width-o.width)/u)*u,f=Math.round((r.height-o.height)/h)*h,d=o.width+c,p=o.height+f,g=i.maxWidth&&d>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,v=i.minWidth&&i.minWidth>d,y=i.minHeight&&i.minHeight>p;i.grid=l,v&&(d+=u),y&&(p+=h),g&&(d-=u),m&&(p-=h),/^(se|s|e)$/.test(a)?(n.size.width=d,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=d,n.size.height=p,n.position.top=s.top-f):/^(sw)$/.test(a)?(n.size.width=d,n.size.height=p,n.position.left=s.left-c):((0>=p-h||0>=d-u)&&(e=n._getPaddingPlusBorderDimensions(this)),p-h>0?(n.size.height=p,n.position.top=s.top-f):(p=h-e.height,n.size.height=p,n.position.top=s.top+o.height-p),d-u>0?(n.size.width=d,n.position.left=s.left-c):(d=u-e.width,n.size.width=d,n.position.left=s.left+o.width-d))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(n.options.filter,n.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){
var i,r=t.data(this,"selectable-item");return r?(i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),u=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?u=!(n.left>a||o>n.right||n.top>l||s>n.bottom):"fit"===r.tolerance&&(u=n.left>o&&a>n.right&&n.top>s&&l>n.bottom),u?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,h=this.offset.click.left,c="x"===this.options.axis||i+u>a&&l>i+u,f="y"===this.options.axis||e+h>o&&s>e+h,d=c&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:e+this.helperProportions.width/2>o&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],u=this._connectWith();if(u&&e)for(i=u.length-1;i>=0;i--)for(o=t(u[i],this.document[0]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,h=this.items,c=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=t(f[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(c.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=c.length-1;n>=0;n--)for(s=c[n][1],a=c[n][0],i=0,u=a.length;u>i;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),h.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,u,h,c,f=null,d=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],d=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,h=f.floating||this._isFloating(this.currentItem),s=h?"left":"top",a=h?"width":"height",c=h?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],u=!1,e[c]-l>this.items[i][a]/2&&(u=!0),r>Math.abs(e[c]-l)&&(r=Math.abs(e[c]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",s=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;n>e;e++)s.push(o);this.handles=r.add(t(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,n="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,l,u,h=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-h.values(e));(r>n||r===n&&(e===h._lastChangedValue||h.values(e)===c.min))&&(r=n,o=t(this),s=e)}),a=this._start(e,s),a!==!1&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),l=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&n>i||1===e&&i>n)&&(n=i),n!==this.values(e)&&(r=this.values(),r[e]=n,o=this._trigger("slide",t,{handle:this.handles[e],value:n,values:r}),i=this.values(e?0:1),o!==!1&&this.values(e,n))):n!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:n}),o!==!1&&this.value(n))},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}
},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;i.length>o;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!n),this._super(e,n),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;r>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;n.length>i;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.floor(+(t-e).toFixed(this._precision())/n)*n;t=i+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=100*((l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())),h["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](h,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?100*((i-r)/(o-r)):0,h["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](h,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var n,i,r,o,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),n=this._start(e,s),n===!1))return}switch(o=this.options.step,i=r=this.options.values&&this.options.values.length?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o)}this._slide(e,s,r)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),t(e.target).removeClass("ui-state-active"))}}});var s="ui-effects-",a=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=c[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function i(n){var i=u(),r=i._rgba=[];return n=n.toLowerCase(),p(l,function(t,o){var s,a=o.re.exec(n),l=a&&o.parse(a),u=o.space||"rgba";return l?(s=i[u](l),i[h[u].cache]=s[h[u].cache],r=i._rgba=s._rgba,!1):e}),r.length?("0,0,0,0"===r.join()&&t.extend(r,o.transparent),i):o[n]}function r(t,e,n){return n=(n+1)%1,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=u.support={},d=t("<p>")[0],p=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(h,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(r,s,a,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var c=this,f=t.type(r),d=this._rgba=[];return s!==e&&(r=[r,s,a,l],f="array"),"string"===f?this.parse(i(r)||o._default):"array"===f?(p(h.rgba.props,function(t,e){d[e.idx]=n(r[e.idx],e)}),this):"object"===f?(r instanceof u?p(h,function(t,e){r[e.cache]&&(c[e.cache]=r[e.cache].slice())}):p(h,function(e,i){var o=i.cache;p(i.props,function(t,e){if(!c[o]&&i.to){if("alpha"===t||null==r[t])return;c[o]=i.to(c._rgba)}c[o][e.idx]=n(r[t],e,!0)}),c[o]&&0>t.inArray(null,c[o].slice(0,3))&&(c[o][3]=1,i.from&&(c._rgba=i.from(c[o])))}),this):e},is:function(t){var n=u(t),i=!0,r=this;return p(h,function(t,o){var s,a=n[o.cache];return a&&(s=r[o.cache]||o.to&&o.to(r._rgba)||[],p(o.props,function(t,n){return null!=a[n.idx]?i=a[n.idx]===s[n.idx]:e})),i}),i},_space:function(){var t=[],e=this;return p(h,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=u(t),r=i._space(),o=h[r],s=0===this.alpha()?u("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return i=i[o.cache],p(o.props,function(t,r){var o=r.idx,s=a[o],u=i[o],h=c[r.type]||{};null!==u&&(null===s?l[o]=u:(h.mod&&(u-s>h.mod/2?s+=h.mod:s-u>h.mod/2&&(s-=h.mod)),l[o]=n((u-s)*e+s,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=u(e)._rgba;return u(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,h.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),u=a-l,h=a+l,c=.5*h;return e=l===a?0:i===a?60*(r-o)/u+360:r===a?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:.5>=c?u/h:u/(2-h),[Math.round(e)%360,n,c,null==s?1:s]},h.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],s=.5>=i?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},p(h,function(i,r){var o=r.props,s=r.cache,l=r.to,h=r.from;u.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===e)return this[s].slice();var r,a=t.type(i),c="array"===a||"object"===a?i:arguments,f=this[s].slice();return p(o,function(t,e){var i=c["object"===a?t:e.idx];null==i&&(i=f[e.idx]),f[e.idx]=n(i,e)}),h?(r=u(h(f)),r[s]=f,r):u(f)},p(o,function(e,n){u.fn[e]||(u.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,u=this[l](),h=u[n.idx];return"undefined"===s?h:("function"===s&&(r=r.call(this,h),s=t.type(r)),null==r&&n.empty?this:("string"===s&&(o=a.exec(r),o&&(r=h+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),u.hook=function(e){var n=e.split(" ");p(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=u(o||r),!f.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=u(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},u.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(a),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(e,n){var i,o,s={};for(i in n)o=n[i],e[i]!==o&&(r[i]||(t.fx.step[i]||!isNaN(parseFloat(o)))&&(s[i]=o));return s}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(a.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",u=l.children?s.find("*").addBack():s;u=u.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(i,function(t,e){r[e]&&s[e+"Class"](r[e])})},o(),u=u.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),u=u.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,u.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var n=0;e.length>n;n++)null!==e[n]&&t.data(s+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;e.length>i;i++)null!==e[i]&&(n=t.data(s+e[i]),void 0===n&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(s){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){t.isFunction(o)&&o.call(r[0]),t.isFunction(e)&&e()}var r=t(this),o=i.complete,a=i.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),n()):s.call(r[0],i,n)}var i=e.apply(this,arguments),r=i.mode,o=i.queue,s=t.effects.effect[i.effect];return t.fx.off||!s?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(n):this.queue(o||"fx",n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}(),t.effects,t.effects.effect.blind=function(e,n){var i,r,o,s=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,u=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(s,e.mode||"hide"),c=e.direction||"up",f=a.test(c),d=f?"height":"width",p=f?"top":"left",g=l.test(c),m={},v="show"===h;s.parent().is(".ui-effects-wrapper")?t.effects.save(s.parent(),u):t.effects.save(s,u),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),r=i[d](),o=parseFloat(i.css(p))||0,m[d]=v?r:0,g||(s.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),m[p]=v?o:r+o),v&&(i.css(d,0),g||i.css(p,o+r)),i.animate(m,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===h&&s.hide(),t.effects.restore(s,u),t.effects.removeWrapper(s),n()}})},t.effects.effect.bounce=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),u="hide"===l,h="show"===l,c=e.direction||"up",f=e.distance,d=e.times||5,p=2*d+(h||u?1:0),g=e.duration/p,m=e.easing,v="up"===c||"down"===c?"top":"left",y="up"===c||"left"===c,b=s.queue(),x=b.length;for((h||u)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),f||(f=s["top"===v?"outerHeight":"outerWidth"]()/3),h&&(o={opacity:1},o[v]=0,s.css("opacity",0).css(v,y?2*-f:2*f).animate(o,g,m)),u&&(f/=Math.pow(2,d-1)),o={},o[v]=0,i=0;d>i;i++)r={},r[v]=(y?"-=":"+=")+f,s.animate(r,g,m).animate(o,g,m),f=u?2*f:f/2;u&&(r={opacity:0},r[v]=(y?"-=":"+=")+f,s.animate(r,g,m)),s.queue(function(){u&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}),x>1&&b.splice.apply(b,[1,0].concat(b.splice(x,p+1))),s.dequeue()},t.effects.effect.clip=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"hide"),u="show"===l,h=e.direction||"vertical",c="vertical"===h,f=c?"height":"width",d=c?"top":"left",p={};t.effects.save(s,a),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),r="IMG"===s[0].tagName?i:s,o=r[f](),u&&(r.css(f,0),r.css(d,o/2)),p[f]=u?o:0,p[d]=u?0:o/2,r.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){u||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}})},t.effects.effect.drop=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(r,e.mode||"hide"),a="show"===s,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l?"pos":"neg",c={opacity:a?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),i=e.distance||r["top"===u?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(u,"pos"===h?-i:i),c[u]=(a?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+i,r.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})},t.effects.effect.explode=function(e,n){function i(){b.push(this),b.length===c*f&&r()}function r(){d.css({visibility:"visible"}),t(b).remove(),g||d.hide(),n()}var o,s,a,l,u,h,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,f=c,d=t(this),p=t.effects.setMode(d,e.mode||"hide"),g="show"===p,m=d.show().css("visibility","hidden").offset(),v=Math.ceil(d.outerWidth()/f),y=Math.ceil(d.outerHeight()/c),b=[];for(o=0;c>o;o++)for(l=m.top+o*y,h=o-(c-1)/2,s=0;f>s;s++)a=m.left+s*v,u=s-(f-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(g?u*v:0),top:l+(g?h*y:0),opacity:g?0:1}).animate({left:a+(g?0:u*v),top:l+(g?0:h*y),opacity:g?1:0},e.duration||500,e.easing,i)},t.effects.effect.fade=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:n})},t.effects.effect.fold=function(e,n){var i,r,o=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),l="show"===a,u="hide"===a,h=e.size||15,c=/([0-9]+)%/.exec(h),f=!!e.horizFirst,d=l!==f,p=d?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,s),o.show(),i=t.effects.createWrapper(o).css({overflow:"hidden"}),r=d?[i.width(),i.height()]:[i.height(),i.width()],c&&(h=parseInt(c[1],10)/100*r[u?0:1]),l&&i.css(f?{height:0,width:h}:{height:h,width:0}),m[p[0]]=l?r[0]:h,v[p[1]]=l?r[1]:0,i.animate(m,g,e.easing).animate(v,g,e.easing,function(){u&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),n()})},t.effects.effect.highlight=function(e,n){var i=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(i,e.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===o&&(s.opacity=0),t.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),t.effects.restore(i,r),n()}})},t.effects.effect.size=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],u=["width","height","overflow"],h=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],f=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=t.effects.setMode(s,e.mode||"effect"),p=e.restore||"effect"!==d,g=e.scale||"both",m=e.origin||["middle","center"],v=s.css("position"),y=p?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&s.show(),i={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===d?(s.from=e.to||b,s.to=e.from||i):(s.from=e.from||("show"===d?b:i),s.to=e.to||("hide"===d?b:i)),o={from:{y:s.from.height/i.height,x:s.from.width/i.width},to:{y:s.to.height/i.height,x:s.to.width/i.width}},("box"===g||"both"===g)&&(o.from.y!==o.to.y&&(y=y.concat(c),s.from=t.effects.setTransition(s,c,o.from.y,s.from),s.to=t.effects.setTransition(s,c,o.to.y,s.to)),o.from.x!==o.to.x&&(y=y.concat(f),s.from=t.effects.setTransition(s,f,o.from.x,s.from),s.to=t.effects.setTransition(s,f,o.to.x,s.to))),("content"===g||"both"===g)&&o.from.y!==o.to.y&&(y=y.concat(h).concat(u),s.from=t.effects.setTransition(s,h,o.from.y,s.from),s.to=t.effects.setTransition(s,h,o.to.y,s.to)),t.effects.save(s,y),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),m&&(r=t.effects.getBaseline(m,i),s.from.top=(i.outerHeight-s.outerHeight())*r.y,s.from.left=(i.outerWidth-s.outerWidth())*r.x,s.to.top=(i.outerHeight-s.to.outerHeight)*r.y,s.to.left=(i.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),("content"===g||"both"===g)&&(c=c.concat(["marginTop","marginBottom"]).concat(h),f=f.concat(["marginLeft","marginRight"]),u=a.concat(c).concat(f),s.find("*[width]").each(function(){var n=t(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};p&&t.effects.save(n,u),n.from={height:i.height*o.from.y,width:i.width*o.from.x,outerHeight:i.outerHeight*o.from.y,outerWidth:i.outerWidth*o.from.x},n.to={height:i.height*o.to.y,width:i.width*o.to.x,outerHeight:i.height*o.to.y,outerWidth:i.width*o.to.x},o.from.y!==o.to.y&&(n.from=t.effects.setTransition(n,c,o.from.y,n.from),n.to=t.effects.setTransition(n,c,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=t.effects.setTransition(n,f,o.from.x,n.from),n.to=t.effects.setTransition(n,f,o.to.x,n.to)),n.css(n.from),n.animate(n.to,e.duration,e.easing,function(){p&&t.effects.restore(n,u)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===d&&s.hide(),t.effects.restore(s,y),p||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,n){var i=parseInt(n,10),r=t?s.to.left:s.to.top;return"auto"===n?r+"px":i+r+"px"})})),t.effects.removeWrapper(s),n()}})},t.effects.effect.scale=function(e,n){var i=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(i,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),a=e.direction||"both",l=e.origin,u={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},h={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:u),r.to={height:u.height*h.y,width:u.width*h.x,outerHeight:u.outerHeight*h.y,outerWidth:u.outerWidth*h.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},t.effects.effect.puff=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"hide"),o="hide"===r,s=parseInt(e.percent,10)||150,a=s/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:o?s:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),i.effect(e)},t.effects.effect.pulsate=function(e,n){var i,r=t(this),o=t.effects.setMode(r,e.mode||"show"),s="show"===o,a="hide"===o,l=s||"hide"===o,u=2*(e.times||5)+(l?1:0),h=e.duration/u,c=0,f=r.queue(),d=f.length;for((s||!r.is(":visible"))&&(r.css("opacity",0).show(),c=1),i=1;u>i;i++)r.animate({opacity:c},h,e.easing),c=1-c;r.animate({opacity:c},h,e.easing),r.queue(function(){a&&r.hide(),n()}),d>1&&f.splice.apply(f,[1,0].concat(f.splice(d,u+1))),r.dequeue()},t.effects.effect.shake=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(r,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,u=e.times||3,h=2*u+1,c=Math.round(e.duration/h),f="up"===a||"down"===a?"top":"left",d="up"===a||"left"===a,p={},g={},m={},v=r.queue(),y=v.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),p[f]=(d?"-=":"+=")+l,g[f]=(d?"+=":"-=")+2*l,m[f]=(d?"-=":"+=")+2*l,r.animate(p,c,e.easing),i=1;u>i;i++)r.animate(g,c,e.easing).animate(m,c,e.easing);r.animate(g,c,e.easing).animate(p,c/2,e.easing).queue(function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,h+1))),r.dequeue()},t.effects.effect.slide=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(r,e.mode||"show"),a="show"===s,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,c={};t.effects.save(r,o),r.show(),i=e.distance||r["top"===u?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(u,h?isNaN(i)?"-"+i:-i:i),c[u]=(a?h?"+=":"-=":h?"-=":"+=")+i,r.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})},t.effects.effect.transfer=function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,u=r.offset(),h={top:u.top-a,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},c=i.offset(),f=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:c.top-a,left:c.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(h,e.duration,e.easing,function(){f.remove(),n()})}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){return a.raw?t:encodeURIComponent(t)}function n(t){return a.raw?t:decodeURIComponent(t)}function i(t){return e(a.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),a.json?JSON.parse(t):t}catch(e){}}function o(e,n){var i=a.raw?e:r(e);return t.isFunction(n)?n(i):i}var s=/\+/g,a=t.cookie=function(r,s,l){if(void 0!==s&&!t.isFunction(s)){if(l=t.extend({},a.defaults,l),"number"==typeof l.expires){var u=l.expires,h=l.expires=new Date;h.setTime(+h+864e5*u)}return document.cookie=[e(r),"=",i(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var c=r?void 0:{},f=document.cookie?document.cookie.split("; "):[],d=0,p=f.length;d<p;d++){var g=f[d].split("="),m=n(g.shift()),v=g.join("=");if(r&&r===m){c=o(v,s);break}r||void 0===(v=o(v))||(c[m]=v)}return c};a.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),d3.helper={},d3.helper.tooltip=function(t){return $("#map").on("mouseenter",function(){$(".tooltip").length!=-1&&$(this).stop().append("<div class='tooltip'></div").append("<div class='tooltip-triangle'></div>")}),$("#map").on("mouseleave",function(){$(".tooltip").remove(),$(".tooltip-triangle").remove()}),function(e){var n,i=d3.select("#map").node(),r=75,o=75;e.on("mouseover",function(e,s){var a=d3.mouse(i);n=d3.select(".tooltip"),tooltipTriangle=d3.select(".tooltip-triangle"),n.style("left",a[0]-o+"px").style("top",a[1]-r+"px").style("position","absolute").style("display","block").style("z-index",1001),tooltipTriangle.style("display","block").style("top",a[1]-o+57+"px").style("left",a[0]-o+50+"px").style("position","absolute").style("z-index",1e3);t(e,s)||""}).on("mousemove",function(e,s){var a=d3.mouse(i);n.style("left",a[0]-o+"px").style("top",a[1]-r+"px"),tooltipTriangle.style("top",a[1]-o+57+"px").style("left",a[0]-o+50+"px");
var l=t(e,s)||"";n.html(l)})}},"function"!=typeof Blob||"undefined"==typeof URL)if("function"==typeof Blob&&"undefined"!=typeof webkitURL)var URL=webkitURL;else var Blob=function(t){"use strict";var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,s=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,h=t.URL||t.webkitURL||t,c=h.createObjectURL,f=h.revokeObjectURL,d=h,p=t.btoa,g=t.atob,m=!1,v=function(t){m=!t},y=t.ArrayBuffer,b=t.Uint8Array;for(i.fake=o.fake=!0;u--;)a.prototype[l[u]]=u+1;try{b&&v.apply(0,new b(1))}catch(x){}return h.createObjectURL||(d=t.URL={}),d.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):c?c.call(h,t):void 0},d.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&f&&f.call(h,t)},r.append=function(t){var n=this.data;if(b&&(t instanceof y||t instanceof b))if(m)n.push(String.fromCharCode.apply(String,new b(t)));else for(var r="",o=new b(t),l=0,u=o.length;l<u;l++)r+=String.fromCharCode(o[l]);else if("Blob"===e(t)||"File"===e(t)){if(!s)throw new a("NOT_READABLE_ERR");var h=new s;n.push(h.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&g?n.push(g(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},n}(t);return function(t,n){var i=n?n.type||"":"",r=new e;if(t)for(var o=0,s=t.length;o<s;o++)r.append(t[o]);return r.getBlob(i)}}(self);var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(t){"use strict";var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=t.URL||t.webkitURL||t,r=e.createElementNS?e.createElementNS("http://www.w3.org/1999/xhtml","a"):{},o="download"in r,s=function(n){var i=e.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)},a=t.webkitRequestFileSystem,l=t.requestFileSystem||a||t.mozRequestFileSystem,u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},h="application/octet-stream",c=0,f=[],d=function(){for(var t=f.length;t--;){var e=f[t];"string"==typeof e?i.revokeObjectURL(e):e.remove()}f.length=0},p=function(t,e,n){e=[].concat(e);for(var i=e.length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(o){u(o)}}},g=function(e,i){var u,d,g,m=this,v=e.type,y=!1,b=function(){var t=n().createObjectURL(e);return f.push(t),t},x=function(){p(m,"writestart progress write writeend".split(" "))},w=function(){!y&&u||(u=b(e)),d&&(d.location.href=u),m.readyState=m.DONE,x()},_=function(t){return function(){if(m.readyState!==m.DONE)return t.apply(this,arguments)}},M={create:!0,exclusive:!1};return m.readyState=m.INIT,i||(i="download"),o?(u=b(e),r.href=u,r.download=i,s(r),m.readyState=m.DONE,void x()):(t.chrome&&v&&v!==h&&(g=e.slice||e.webkitSlice,e=g.call(e,0,e.size,h),y=!0),a&&"download"!==i&&(i+=".download"),d=v===h||a?t:t.open(),l?(c+=e.size,void l(t.TEMPORARY,c,_(function(t){t.root.getDirectory("saved",M,_(function(t){var n=function(){t.getFile(i,M,_(function(t){t.createWriter(_(function(n){n.onwriteend=function(e){d.location.href=t.toURL(),f.push(t),m.readyState=m.DONE,p(m,"writeend",e)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=m["on"+t]}),n.write(e),m.abort=function(){n.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),w)}),w)};t.getFile(i,{create:!1},_(function(t){t.remove(),n()}),_(function(t){t.code===t.NOT_FOUND_ERR?n():w()}))}),w)}),w)):void w())},m=g.prototype,v=function(t,e){return new g(t,e)};return m.abort=function(){var t=this;t.readyState=t.DONE,p(t,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,t.addEventListener&&t.addEventListener("unload",d,!1),v}(self);!function(t){"use strict";var e,n=t.Uint8Array,i=t.HTMLCanvasElement,r=/\s*;\s*base64\s*(?:;|$)/i,o=function(t){for(var i,r,o,s=t.length,a=new n(s/4*3|0),l=0,u=0,h=[0,0],c=0,f=0;s--;)r=t.charCodeAt(l++),i=e[r-43],255!==i&&i!==o&&(h[1]=h[0],h[0]=r,f=f<<6|i,c++,4===c&&(a[u++]=f>>>16,61!==h[1]&&(a[u++]=f>>>8),61!==h[0]&&(a[u++]=f),c=0));return a.buffer};n&&(e=new n([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),i&&!i.prototype.toBlob&&(i.prototype.toBlob=function(t,e){if(e||(e="image/png"),this.mozGetAsFile)return void t(this.mozGetAsFile("canvas",e));var i,s=Array.prototype.slice.call(arguments,1),a=this.toDataURL.apply(this,s),l=a.indexOf(","),u=a.substring(l+1),h=r.test(a.substring(0,l));Blob.fake?(i=new Blob,h?i.encoding="base64":i.encoding="URI",i.data=u,i.size=u.length):n&&(i=h?new Blob([o(u)],{type:e}):new Blob([decodeURIComponent(u)],{type:e})),t(i)})}(self);var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];!function(){function t(){var t={};return t.FRAMERATE=30,t.MAX_VIRTUAL_PIXELS=3e4,t.init=function(e){var n=0;t.UniqueId=function(){return n++,"canvg"+n},t.Definitions={},t.Styles={},t.Animations=[],t.Images=[],t.ctx=e,t.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},t.init(),t.ImagesLoaded=function(){for(var e=0;e<t.Images.length;e++)if(!t.Images[e].loaded)return!1;return!0},t.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},t.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},t.ajax=function(t){var e;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e?(e.open("GET",t,!1),e.send(null),e.responseText):null},t.parseXml=function(t){if(window.DOMParser){var e=new DOMParser;return e.parseFromString(t,"text/xml")}t=t.replace(/<!DOCTYPE svg[^>]*>/,"");var n=new ActiveXObject("Microsoft.XMLDOM");return n.async="false",n.loadXML(t),n},t.Property=function(t,e){this.name=t,this.value=e},t.Property.prototype.getValue=function(){return this.value},t.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},t.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},t.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},t.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():t},t.Property.prototype.addOpacity=function(e){var n=this.value;if(null!=e&&""!=e&&"string"==typeof this.value){var i=new RGBColor(this.value);i.ok&&(n="rgba("+i.r+", "+i.g+", "+i.b+", "+e+")")}return new t.Property(this.name,n)},t.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),t.Definitions[e]},t.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},t.Property.prototype.getFillStyleDefinition=function(e,n){var i=this.getDefinition();if(null!=i&&i.createGradient)return i.createGradient(t.ctx,e,n);if(null!=i&&i.createPattern){if(i.getHrefAttribute().hasValue()){var r=i.attribute("patternTransform");i=i.getHrefAttribute().getDefinition(),r.hasValue()&&(i.attribute("patternTransform",!0).value=r.value)}return i.createPattern(t.ctx,e)}return null},t.Property.prototype.getDPI=function(t){return 96},t.Property.prototype.getEM=function(e){var n=12,i=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);return i.hasValue()&&(n=i.toPixels(e)),n},t.Property.prototype.getUnits=function(){var t=this.value+"";return t.replace(/[0-9\.\-]/g,"")},t.Property.prototype.toPixels=function(e,n){if(!this.hasValue())return 0;var i=this.value+"";if(i.match(/em$/))return this.numValue()*this.getEM(e);if(i.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(i.match(/px$/))return this.numValue();if(i.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(i.match(/pc$/))return 15*this.numValue();if(i.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(i.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(i.match(/in$/))return this.numValue()*this.getDPI(e);if(i.match(/%$/))return this.numValue()*t.ViewPort.ComputeSize(e);var r=this.numValue();return n&&r<1?r*t.ViewPort.ComputeSize(e):r},t.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/s$/)?1e3*this.numValue():t.match(/ms$/)?this.numValue():this.numValue()},t.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},t.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,n,i,r,o,s){var a=null!=s?this.Parse(s):this.CreateFont("","","","","",t.ctx.font);return{fontFamily:o||a.fontFamily,fontSize:r||a.fontSize,fontStyle:e||a.fontStyle,fontWeight:i||a.fontWeight,fontVariant:n||a.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(n){for(var i={},r=t.trim(t.compressSpaces(n||"")).split(" "),o={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},s="",a=0;a<r.length;a++)o.fontStyle||e.Styles.indexOf(r[a])==-1?o.fontVariant||e.Variants.indexOf(r[a])==-1?o.fontWeight||e.Weights.indexOf(r[a])==-1?o.fontSize?"inherit"!=r[a]&&(s+=r[a]):("inherit"!=r[a]&&(i.fontSize=r[a].split("/")[0]),o.fontStyle=o.fontVariant=o.fontWeight=o.fontSize=!0):("inherit"!=r[a]&&(i.fontWeight=r[a]),o.fontStyle=o.fontVariant=o.fontWeight=!0):("inherit"!=r[a]&&(i.fontVariant=r[a]),o.fontStyle=o.fontVariant=!0):("inherit"!=r[a]&&(i.fontStyle=r[a]),o.fontStyle=!0);return""!=s&&(i.fontFamily=s),i}},t.ToNumberArray=function(e){for(var n=t.trim(t.compressSpaces((e||"").replace(/,/g," "))).split(" "),i=0;i<n.length;i++)n[i]=parseFloat(n[i]);return n},t.Point=function(t,e){this.x=t,this.y=e},t.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},t.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],n=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=n},t.CreatePoint=function(e){var n=t.ToNumberArray(e);return new t.Point(n[0],n[1])},t.CreatePath=function(e){for(var n=t.ToNumberArray(e),i=[],r=0;r<n.length;r+=2)i.push(new t.Point(n[r],n[r+1]));return i},t.BoundingBox=function(t,e,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,n,i,r,o){var s=t+2/3*(n-t),a=e+2/3*(i-e),l=s+1/3*(r-t),u=a+1/3*(o-e);this.addBezierCurve(t,e,s,l,a,u,r,o)},this.addBezierCurve=function(t,e,n,r,o,s,a,l){var u=[t,e],h=[n,r],c=[o,s],f=[a,l];for(this.addPoint(u[0],u[1]),this.addPoint(f[0],f[1]),i=0;i<=1;i++){var d=function(t){return Math.pow(1-t,3)*u[i]+3*Math.pow(1-t,2)*t*h[i]+3*(1-t)*Math.pow(t,2)*c[i]+Math.pow(t,3)*f[i]},p=6*u[i]-12*h[i]+6*c[i],g=-3*u[i]+9*h[i]-9*c[i]+3*f[i],m=3*h[i]-3*u[i];if(0!=g){var v=Math.pow(p,2)-4*m*g;if(!(v<0)){var y=(-p+Math.sqrt(v))/(2*g);0<y&&y<1&&(0==i&&this.addX(d(y)),1==i&&this.addY(d(y)));var b=(-p-Math.sqrt(v))/(2*g);0<b&&b<1&&(0==i&&this.addX(d(b)),1==i&&this.addY(d(b)))}}else{if(0==p)continue;var x=-m/p;0<x&&x<1&&(0==i&&this.addX(d(x)),1==i&&this.addY(d(x)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,r)},t.Transform=function(e){var n=this;this.Type={},this.Type.translate=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var n=t.ToNumberArray(e);this.angle=new t.Property("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=t.ToNumberArray(e),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=n.Type.matrix,this.base(e),this.angle=new t.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var i=t.trim(t.compressSpaces(e)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),r=0;r<i.length;r++){var o=t.trim(i[r].split("(")[0]),s=i[r].split("(")[1].replace(")",""),a=new this.Type[o](s);a.type=o,this.transforms.push(a)}},t.AspectRatio=function(e,n,i,r,o,s,a,l,u,h){n=t.compressSpaces(n),n=n.replace(/^defer\s/,"");var c=n.split(" ")[0]||"xMidYMid",f=n.split(" ")[1]||"meet",d=i/r,p=o/s,g=Math.min(d,p),m=Math.max(d,p);"meet"==f&&(r*=g,s*=g),"slice"==f&&(r*=m,s*=m),u=new t.Property("refX",u),h=new t.Property("refY",h),u.hasValue()&&h.hasValue()?e.translate(-g*u.toPixels("x"),-g*h.toPixels("y")):(c.match(/^xMid/)&&("meet"==f&&g==p||"slice"==f&&m==p)&&e.translate(i/2-r/2,0),c.match(/YMid$/)&&("meet"==f&&g==d||"slice"==f&&m==d)&&e.translate(0,o/2-s/2),c.match(/^xMax/)&&("meet"==f&&g==p||"slice"==f&&m==p)&&e.translate(i-r,0),c.match(/YMax$/)&&("meet"==f&&g==d||"slice"==f&&m==d)&&e.translate(0,o-s)),"none"==c?e.scale(d,p):"meet"==f?e.scale(g,g):"slice"==f&&e.scale(m,m),e.translate(null==a?0:-a,null==l?0:-l)},t.Element={},t.EmptyProperty=new t.Property("EMPTY",""),t.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(e,n){var i=this.attributes[e];return null!=i?i:(1==n&&(i=new t.Property(e,""),this.attributes[e]=i),i||t.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if(e.match(/:href$/))return this.attributes[e];return t.EmptyProperty},this.style=function(e,n){var i=this.styles[e];if(null!=i)return i;var r=this.attribute(e);if(null!=r&&r.hasValue())return this.styles[e]=r,r;var o=this.parent;if(null!=o){var s=o.style(e);if(null!=s&&s.hasValue())return s}return 1==n&&(i=new t.Property(e,""),this.styles[e]=i),i||t.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(t.save(),this.attribute("mask").hasValue()){var e=this.attribute("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(t){},this.clearContext=function(t){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(e,n){var i=e;n&&(i=t.CreateElement(e)),i.parent=this,this.children.push(i)},null!=e&&1==e.nodeType){for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1==i.nodeType&&this.addChild(i,!0),this.captureTextNodes&&3==i.nodeType){var r=i.nodeValue||i.text||"";""!=t.trim(t.compressSpaces(r))&&this.addChild(new t.Element.tspan(i),!1)}}for(var n=0;n<e.attributes.length;n++){var o=e.attributes[n];this.attributes[o.nodeName]=new t.Property(o.nodeName,o.nodeValue)}var s=t.Styles[e.nodeName];if(null!=s)for(var a in s)this.styles[a]=s[a];if(this.attribute("class").hasValue())for(var l=t.compressSpaces(this.attribute("class").value).split(" "),u=0;u<l.length;u++){if(s=t.Styles["."+l[u]],null!=s)for(var a in s)this.styles[a]=s[a];if(s=t.Styles[e.nodeName+"."+l[u]],null!=s)for(var a in s)this.styles[a]=s[a]}if(this.attribute("id").hasValue()){var s=t.Styles["#"+this.attribute("id").value];if(null!=s)for(var a in s)this.styles[a]=s[a]}if(this.attribute("style").hasValue())for(var s=this.attribute("style").value.split(";"),n=0;n<s.length;n++)if(""!=t.trim(s[n])){var h=s[n].split(":"),a=t.trim(h[0]),c=t.trim(h[1]);this.styles[a]=new t.Property(a,c)}this.attribute("id").hasValue()&&null==t.Definitions[this.attribute("id").value]&&(t.Definitions[this.attribute("id").value]=this)}},t.Element.RenderedElementBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=n&&(e.fillStyle=n)}else if(this.style("fill").hasValue()){var i=this.style("fill");"currentColor"==i.value&&(i.value=this.style("color").value),e.fillStyle="none"==i.value?"rgba(0,0,0,0)":i.value}if(this.style("fill-opacity").hasValue()){var i=new t.Property("fill",e.fillStyle);i=i.addOpacity(this.style("fill-opacity").value),e.fillStyle=i.value}if(this.style("stroke").isUrlDefinition()){var n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=n&&(e.strokeStyle=n)}else if(this.style("stroke").hasValue()){var r=this.style("stroke");"currentColor"==r.value&&(r.value=this.style("color").value),e.strokeStyle="none"==r.value?"rgba(0,0,0,0)":r.value}if(this.style("stroke-opacity").hasValue()){var r=new t.Property("stroke",e.strokeStyle);r=r.addOpacity(this.style("stroke-opacity").value),e.strokeStyle=r.value}if(this.style("stroke-width").hasValue()){var o=this.style("stroke-width").toPixels();e.lineWidth=0==o?.001:o}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()){var s=t.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof e.setLineDash?e.setLineDash(s):"undefined"!=typeof e.webkitLineDash?e.webkitLineDash=s:"undefined"!=typeof e.mozDash&&(e.mozDash=s);var a=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof e.lineDashOffset?e.lineDashOffset=a:"undefined"!=typeof e.webkitLineDashOffset?e.webkitLineDashOffset=a:"undefined"!=typeof e.mozDashOffset&&(e.mozDashOffset=a)}if("undefined"!=typeof e.font&&(e.font=t.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var l=new t.Transform(this.attribute("transform").value);l.apply(e)}if(this.style("clip-path").hasValue()){var u=this.style("clip-path").getDefinition();null!=u&&u.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},t.Element.RenderedElementBase.prototype=new t.Element.ElementBase,t.Element.PathElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new t.BoundingBox},this.renderChildren=function(e){this.path(e),t.Mouse.checkPath(this,e),""!=e.fillStyle&&(this.attribute("fill-rule").hasValue()?e.fill(this.attribute("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var n=this.getMarkers();if(null!=n){if(this.style("marker-start").isUrlDefinition()){var i=this.style("marker-start").getDefinition();i.render(e,n[0][0],n[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var i=this.style("marker-mid").getDefinition(),r=1;r<n.length-1;r++)i.render(e,n[r][0],n[r][1]);if(this.style("marker-end").isUrlDefinition()){var i=this.style("marker-end").getDefinition();i.render(e,n[n.length-1][0],n[n.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},t.Element.PathElementBase.prototype=new t.Element.RenderedElementBase,t.Element.svg=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),t.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=t.ViewPort.width(),i=t.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");var r=0,o=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(r=-this.attribute("refX").toPixels("x"),o=-this.attribute("refY").toPixels("y")),e.beginPath(),e.moveTo(r,o),e.lineTo(n,o),e.lineTo(n,i),e.lineTo(r,i),e.closePath(),e.clip()}if(t.ViewPort.SetCurrent(n,i),this.attribute("viewBox").hasValue()){var s=t.ToNumberArray(this.attribute("viewBox").value),a=s[0],l=s[1];n=s[2],i=s[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,t.ViewPort.width(),n,t.ViewPort.height(),i,a,l,this.attribute("refX").value,this.attribute("refY").value),t.ViewPort.RemoveCurrent(),t.ViewPort.SetCurrent(s[2],s[3])}}},t.Element.svg.prototype=new t.Element.RenderedElementBase,t.Element.rect=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y"),s=this.attribute("rx").toPixels("x"),a=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(a=s),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(s=a),s=Math.min(s,r/2),a=Math.min(a,o/2),null!=e&&(e.beginPath(),e.moveTo(n+s,i),e.lineTo(n+r-s,i),e.quadraticCurveTo(n+r,i,n+r,i+a),e.lineTo(n+r,i+o-a),e.quadraticCurveTo(n+r,i+o,n+r-s,i+o),e.lineTo(n+s,i+o),e.quadraticCurveTo(n,i+o,n,i+o-a),e.lineTo(n,i+a),e.quadraticCurveTo(n,i,n+s,i),e.closePath()),new t.BoundingBox(n,i,n+r,i+o)}},t.Element.rect.prototype=new t.Element.PathElementBase,t.Element.circle=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),r=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(n,i,r,0,2*Math.PI,!0),e.closePath()),new t.BoundingBox(n-r,i-r,n+r,i+r)}},t.Element.circle.prototype=new t.Element.PathElementBase,t.Element.ellipse=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=4*((Math.sqrt(2)-1)/3),i=this.attribute("rx").toPixels("x"),r=this.attribute("ry").toPixels("y"),o=this.attribute("cx").toPixels("x"),s=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(o,s-r),e.bezierCurveTo(o+n*i,s-r,o+i,s-n*r,o+i,s),e.bezierCurveTo(o+i,s+n*r,o+n*i,s+r,o,s+r),e.bezierCurveTo(o-n*i,s+r,o-i,s+n*r,o-i,s),e.bezierCurveTo(o-i,s-n*r,o-n*i,s-r,o,s-r),e.closePath()),new t.BoundingBox(o-i,s-r,o+i,s+r)}},t.Element.ellipse.prototype=new t.Element.PathElementBase,t.Element.line=function(e){this.base=t.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new t.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new t.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var n=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(n[0].x,n[0].y),e.lineTo(n[1].x,n[1].y)),new t.BoundingBox(n[0].x,n[0].y,n[1].x,n[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},t.Element.line.prototype=new t.Element.PathElementBase,t.Element.polyline=function(e){this.base=t.Element.PathElementBase,this.base(e),this.points=t.CreatePath(this.attribute("points").value),this.path=function(e){var n=new t.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var i=1;i<this.points.length;i++)n.addPoint(this.points[i].x,this.points[i].y),null!=e&&e.lineTo(this.points[i].x,this.points[i].y);return n},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},t.Element.polyline.prototype=new t.Element.PathElementBase,t.Element.polygon=function(e){this.base=t.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},t.Element.polygon.prototype=new t.Element.polyline,t.Element.path=function(e){this.base=t.Element.PathElementBase,this.base(e);var n=this.attribute("d").value;n=n.replace(/,/gm," "),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([0-9])([+\-])/gm,"$1 $2"),n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=t.compressSpaces(n),n=t.trim(n),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new t.Point(0,0),this.control=new t.Point(0,0),this.current=new t.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new t.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var e=new t.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return e},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),
this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(n),this.path=function(e){var n=this.PathParser;n.reset();var i=new t.BoundingBox;for(null!=e&&e.beginPath();!n.isEnd();)switch(n.nextCommand(),n.command){case"M":case"m":var r=n.getAsCurrentPoint();for(n.addMarker(r),i.addPoint(r.x,r.y),null!=e&&e.moveTo(r.x,r.y),n.start=n.current;!n.isCommandOrEnd();){var r=n.getAsCurrentPoint();n.addMarker(r,n.start),i.addPoint(r.x,r.y),null!=e&&e.lineTo(r.x,r.y)}break;case"L":case"l":for(;!n.isCommandOrEnd();){var o=n.current,r=n.getAsCurrentPoint();n.addMarker(r,o),i.addPoint(r.x,r.y),null!=e&&e.lineTo(r.x,r.y)}break;case"H":case"h":for(;!n.isCommandOrEnd();){var s=new t.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y);n.addMarker(s,n.current),n.current=s,i.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"V":case"v":for(;!n.isCommandOrEnd();){var s=new t.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar());n.addMarker(s,n.current),n.current=s,i.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"C":case"c":for(;!n.isCommandOrEnd();){var a=n.current,l=n.getPoint(),u=n.getAsControlPoint(),h=n.getAsCurrentPoint();n.addMarker(h,u,l),i.addBezierCurve(a.x,a.y,l.x,l.y,u.x,u.y,h.x,h.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,h.x,h.y)}break;case"S":case"s":for(;!n.isCommandOrEnd();){var a=n.current,l=n.getReflectedControlPoint(),u=n.getAsControlPoint(),h=n.getAsCurrentPoint();n.addMarker(h,u,l),i.addBezierCurve(a.x,a.y,l.x,l.y,u.x,u.y,h.x,h.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,h.x,h.y)}break;case"Q":case"q":for(;!n.isCommandOrEnd();){var a=n.current,u=n.getAsControlPoint(),h=n.getAsCurrentPoint();n.addMarker(h,u,u),i.addQuadraticCurve(a.x,a.y,u.x,u.y,h.x,h.y),null!=e&&e.quadraticCurveTo(u.x,u.y,h.x,h.y)}break;case"T":case"t":for(;!n.isCommandOrEnd();){var a=n.current,u=n.getReflectedControlPoint();n.control=u;var h=n.getAsCurrentPoint();n.addMarker(h,u,u),i.addQuadraticCurve(a.x,a.y,u.x,u.y,h.x,h.y),null!=e&&e.quadraticCurveTo(u.x,u.y,h.x,h.y)}break;case"A":case"a":for(;!n.isCommandOrEnd();){var a=n.current,c=n.getScalar(),f=n.getScalar(),d=n.getScalar()*(Math.PI/180),p=n.getScalar(),g=n.getScalar(),h=n.getAsCurrentPoint(),m=new t.Point(Math.cos(d)*(a.x-h.x)/2+Math.sin(d)*(a.y-h.y)/2,-Math.sin(d)*(a.x-h.x)/2+Math.cos(d)*(a.y-h.y)/2),v=Math.pow(m.x,2)/Math.pow(c,2)+Math.pow(m.y,2)/Math.pow(f,2);v>1&&(c*=Math.sqrt(v),f*=Math.sqrt(v));var y=(p==g?-1:1)*Math.sqrt((Math.pow(c,2)*Math.pow(f,2)-Math.pow(c,2)*Math.pow(m.y,2)-Math.pow(f,2)*Math.pow(m.x,2))/(Math.pow(c,2)*Math.pow(m.y,2)+Math.pow(f,2)*Math.pow(m.x,2)));isNaN(y)&&(y=0);var b=new t.Point(y*c*m.y/f,y*-f*m.x/c),x=new t.Point((a.x+h.x)/2+Math.cos(d)*b.x-Math.sin(d)*b.y,(a.y+h.y)/2+Math.sin(d)*b.x+Math.cos(d)*b.y),w=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(w(t)*w(e))},M=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},C=M([1,0],[(m.x-b.x)/c,(m.y-b.y)/f]),P=[(m.x-b.x)/c,(m.y-b.y)/f],E=[(-m.x-b.x)/c,(-m.y-b.y)/f],k=M(P,E);_(P,E)<=-1&&(k=Math.PI),_(P,E)>=1&&(k=0);var S=1-g?1:-1,T=C+S*(k/2),A=new t.Point(x.x+c*Math.cos(T),x.y+f*Math.sin(T));if(n.addMarkerAngle(A,T-S*Math.PI/2),n.addMarkerAngle(h,T-S*Math.PI),i.addPoint(h.x,h.y),null!=e){var _=c>f?c:f,N=c>f?1:c/f,z=c>f?f/c:1;e.translate(x.x,x.y),e.rotate(d),e.scale(N,z),e.arc(0,0,_,C,C+k,1-g),e.scale(1/N,1/z),e.rotate(-d),e.translate(-x.x,-x.y)}}break;case"Z":case"z":null!=e&&e.closePath(),n.current=n.start}return i},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),n=[],i=0;i<t.length;i++)n.push([t[i],e[i]]);return n}},t.Element.path.prototype=new t.Element.PathElementBase,t.Element.pattern=function(e){this.base=t.Element.ElementBase,this.base(e),this.createPattern=function(e,n){var i=this.attribute("width").toPixels("x",!0),r=this.attribute("height").toPixels("y",!0),o=new t.Element.svg;o.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),o.attributes.width=new t.Property("width",i+"px"),o.attributes.height=new t.Property("height",r+"px"),o.attributes.transform=new t.Property("transform",this.attribute("patternTransform").value),o.children=this.children;var s=document.createElement("canvas");s.width=i,s.height=r;var a=s.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&a.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var l=-1;l<=1;l++)for(var u=-1;u<=1;u++)a.save(),a.translate(l*s.width,u*s.height),o.render(a),a.restore();var h=e.createPattern(s,"repeat");return h}},t.Element.pattern.prototype=new t.Element.ElementBase,t.Element.marker=function(e){this.base=t.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,n,i){e.translate(n.x,n.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(i),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var r=new t.Element.svg;r.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),r.attributes.refX=new t.Property("refX",this.attribute("refX").value),r.attributes.refY=new t.Property("refY",this.attribute("refY").value),r.attributes.width=new t.Property("width",this.attribute("markerWidth").value),r.attributes.height=new t.Property("height",this.attribute("markerHeight").value),r.attributes.fill=new t.Property("fill",this.attribute("fill").valueOrDefault("black")),r.attributes.stroke=new t.Property("stroke",this.attribute("stroke").valueOrDefault("none")),r.children=this.children,r.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-i),e.translate(-n.x,-n.y)}},t.Element.marker.prototype=new t.Element.ElementBase,t.Element.defs=function(e){this.base=t.Element.ElementBase,this.base(e),this.render=function(t){}},t.Element.defs.prototype=new t.Element.ElementBase,t.Element.GradientBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var n=0;n<this.children.length;n++){var i=this.children[n];"stop"==i.type&&this.stops.push(i)}this.getGradient=function(){},this.createGradient=function(e,n,i){var r=this;this.getHrefAttribute().hasValue()&&(r=this.getHrefAttribute().getDefinition());var o=function(e){if(i.hasValue()){var n=new t.Property("color",e);return n.addOpacity(i.value).value}return e},s=this.getGradient(e,n);if(null==s)return o(r.stops[r.stops.length-1].color);for(var a=0;a<r.stops.length;a++)s.addColorStop(r.stops[a].offset,o(r.stops[a].color));if(this.attribute("gradientTransform").hasValue()){var l=t.ViewPort.viewPorts[0],u=new t.Element.rect;u.attributes.x=new t.Property("x",-t.MAX_VIRTUAL_PIXELS/3),u.attributes.y=new t.Property("y",-t.MAX_VIRTUAL_PIXELS/3),u.attributes.width=new t.Property("width",t.MAX_VIRTUAL_PIXELS),u.attributes.height=new t.Property("height",t.MAX_VIRTUAL_PIXELS);var h=new t.Element.g;h.attributes.transform=new t.Property("transform",this.attribute("gradientTransform").value),h.children=[u];var c=new t.Element.svg;c.attributes.x=new t.Property("x",0),c.attributes.y=new t.Property("y",0),c.attributes.width=new t.Property("width",l.width),c.attributes.height=new t.Property("height",l.height),c.children=[h];var f=document.createElement("canvas");f.width=l.width,f.height=l.height;var d=f.getContext("2d");return d.fillStyle=s,c.render(d),d.createPattern(f,"no-repeat")}return s}},t.Element.GradientBase.prototype=new t.Element.ElementBase,t.Element.linearGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),o="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),s="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==o&&r==s?null:t.createLinearGradient(i,r,o,s)}},t.Element.linearGradient.prototype=new t.Element.GradientBase,t.Element.radialGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),o=i,s=r;this.attribute("fx").hasValue()&&(o="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(s="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var a="objectBoundingBox"==this.gradientUnits?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return t.createRadialGradient(o,s,0,i,r,a)}},t.Element.radialGradient.prototype=new t.Element.GradientBase,t.Element.stop=function(e){this.base=t.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var n=this.style("stop-color");this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity").value)),this.color=n.value},t.Element.stop.prototype=new t.Element.ElementBase,t.Element.AnimateBase=function(e){this.base=t.Element.ElementBase,this.base(e),t.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed&&(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var n=this.calcValue();if(this.attribute("type").hasValue()){var i=this.attribute("type").value;n=i+"("+n+")"}this.getProperty().value=n,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var n=e.progress*(this.values.value.length-1),i=Math.floor(n),r=Math.ceil(n);e.from=new t.Property("from",parseFloat(this.values.value[i])),e.to=new t.Property("to",parseFloat(this.values.value[r])),e.progress=(n-i)/(r-i)}else e.from=this.from,e.to=this.to;return e}},t.Element.AnimateBase.prototype=new t.Element.ElementBase,t.Element.animate=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return e+this.initialUnits}},t.Element.animate.prototype=new t.Element.AnimateBase,t.Element.animateColor=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=new RGBColor(t.from.value),n=new RGBColor(t.to.value);if(e.ok&&n.ok){var i=e.r+(n.r-e.r)*t.progress,r=e.g+(n.g-e.g)*t.progress,o=e.b+(n.b-e.b)*t.progress;return"rgb("+parseInt(i,10)+","+parseInt(r,10)+","+parseInt(o,10)+")"}return this.attribute("from").value}},t.Element.animateColor.prototype=new t.Element.AnimateBase,t.Element.animateTransform=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),n=t.ToNumberArray(e.from.value),i=t.ToNumberArray(e.to.value),r="",o=0;o<n.length;o++)r+=n[o]+(i[o]-n[o])*e.progress+" ";return r}},t.Element.animateTransform.prototype=new t.Element.animate,t.Element.font=function(e){this.base=t.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var n=0;n<this.children.length;n++){var i=this.children[n];"font-face"==i.type?(this.fontFace=i,i.style("font-family").hasValue()&&(t.Definitions[i.style("font-family").value]=this)):"missing-glyph"==i.type?this.missingGlyph=i:"glyph"==i.type&&(""!=i.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[i.unicode]&&(this.glyphs[i.unicode]=[]),this.glyphs[i.unicode][i.arabicForm]=i):this.glyphs[i.unicode]=i)}},t.Element.font.prototype=new t.Element.ElementBase,t.Element.fontface=function(e){this.base=t.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},t.Element.fontface.prototype=new t.Element.ElementBase,t.Element.missingglyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=0},t.Element.missingglyph.prototype=new t.Element.path,t.Element.glyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},t.Element.glyph.prototype=new t.Element.path,t.Element.text=function(e){this.captureTextNodes=!0,this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.style("dominant-baseline").hasValue()&&(t.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(t.textBaseline=this.style("alignment-baseline").value)},this.getBoundingBox=function(){return new t.BoundingBox(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"),0,0)},this.renderChildren=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.x+=this.getAnchorDelta(t,this,0);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,e)},this.getAnchorDelta=function(t,e,n){var i=this.style("text-anchor").valueOrDefault("start");if("start"!=i){for(var r=0,o=n;o<e.children.length;o++){var s=e.children[o];if(o>n&&s.attribute("x").hasValue())break;r+=s.measureTextRecursive(t)}return-1*("end"==i?r:r/2)}return 0},this.renderChild=function(t,e,n){var i=e.children[n];i.attribute("x").hasValue()?i.x=i.attribute("x").toPixels("x")+this.getAnchorDelta(t,e,n):(this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),i.attribute("dx").hasValue()&&(this.x+=i.attribute("dx").toPixels("x")),i.x=this.x),this.x=i.x+i.measureText(t),i.attribute("y").hasValue()?i.y=i.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),i.attribute("dy").hasValue()&&(this.y+=i.attribute("dy").toPixels("y")),i.y=this.y),this.y=i.y,i.render(t);for(var n=0;n<i.children.length;n++)this.renderChild(t,i,n)}},t.Element.text.prototype=new t.Element.RenderedElementBase,t.Element.TextElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getGlyph=function(t,e,n){var i=e[n],r=null;if(t.isArabic){var o="isolated";(0==n||" "==e[n-1])&&n<e.length-2&&" "!=e[n+1]&&(o="terminal"),n>0&&" "!=e[n-1]&&n<e.length-2&&" "!=e[n+1]&&(o="medial"),n>0&&" "!=e[n-1]&&(n==e.length-1||" "==e[n+1])&&(o="initial"),"undefined"!=typeof t.glyphs[i]&&(r=t.glyphs[i][o],null==r&&"glyph"==t.glyphs[i].type&&(r=t.glyphs[i]))}else r=t.glyphs[i];return null==r&&(r=t.missingGlyph),r},this.renderChildren=function(e){var n=this.parent.style("font-family").getDefinition();if(null==n)""!=e.fillStyle&&e.fillText(t.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(t.compressSpaces(this.getText()),this.x,this.y);else{var i=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),r=this.parent.style("font-style").valueOrDefault(t.Font.Parse(t.ctx.font).fontStyle),o=this.getText();n.isRTL&&(o=o.split("").reverse().join(""));for(var s=t.ToNumberArray(this.parent.attribute("dx").value),a=0;a<o.length;a++){var l=this.getGlyph(n,o,a),u=i/n.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(u,-u);var h=e.lineWidth;e.lineWidth=e.lineWidth*n.fontFace.unitsPerEm/i,"italic"==r&&e.transform(1,0,.4,1,0,0),l.render(e),"italic"==r&&e.transform(1,0,-.4,1,0,0),e.lineWidth=h,e.scale(1/u,-1/u),e.translate(-this.x,-this.y),this.x+=i*(l.horizAdvX||n.horizAdvX)/n.fontFace.unitsPerEm,"undefined"==typeof s[a]||isNaN(s[a])||(this.x+=s[a])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),n=0;n<this.children.length;n++)e+=this.children[n].measureTextRecursive(t);return e},this.measureText=function(e){var n=this.parent.style("font-family").getDefinition();if(null!=n){var i=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),r=0,o=this.getText();n.isRTL&&(o=o.split("").reverse().join(""));for(var s=t.ToNumberArray(this.parent.attribute("dx").value),a=0;a<o.length;a++){var l=this.getGlyph(n,o,a);r+=(l.horizAdvX||n.horizAdvX)*i/n.fontFace.unitsPerEm,"undefined"==typeof s[a]||isNaN(s[a])||(r+=s[a])}return r}var u=t.compressSpaces(this.getText());if(!e.measureText)return 10*u.length;e.save(),this.setContext(e);var h=e.measureText(u).width;return e.restore(),h}},t.Element.TextElementBase.prototype=new t.Element.RenderedElementBase,t.Element.tspan=function(e){this.captureTextNodes=!0,this.base=t.Element.TextElementBase,this.base(e),this.text=e.nodeValue||e.text||"",this.getText=function(){return this.text}},t.Element.tspan.prototype=new t.Element.TextElementBase,t.Element.tref=function(e){this.base=t.Element.TextElementBase,this.base(e),this.getText=function(){var t=this.getHrefAttribute().getDefinition();if(null!=t)return t.children[0].getText()}},t.Element.tref.prototype=new t.Element.TextElementBase,t.Element.a=function(e){this.base=t.Element.TextElementBase,this.base(e),this.hasText=!0;for(var n=0;n<e.childNodes.length;n++)3!=e.childNodes[n].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var n=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);t.Mouse.checkBoundingBox(this,new t.BoundingBox(this.x,this.y-n.toPixels("y"),this.x+this.measureText(e),this.y))}else{var i=new t.Element.g;i.children=this.children,i.parent=this,i.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){t.ctx.canvas.style.cursor="pointer"}},t.Element.a.prototype=new t.Element.TextElementBase,t.Element.image=function(e){this.base=t.Element.RenderedElementBase,this.base(e);var n=this.getHrefAttribute().value,i=n.match(/\.svg$/);if(t.Images.push(this),this.loaded=!1,i)this.img=t.ajax(n),this.loaded=!0;else{this.img=document.createElement("img");var r=this;this.img.onload=function(){r.loaded=!0},this.img.onerror=function(){"undefined"!=typeof console&&(console.log('ERROR: image "'+n+'" not found'),r.loaded=!0)},this.img.src=n}this.renderChildren=function(e){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");0!=o&&0!=s&&(e.save(),i?e.drawSvg(this.img,n,r,o,s):(e.translate(n,r),t.AspectRatio(e,this.attribute("preserveAspectRatio").value,o,this.img.width,s,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");return new t.BoundingBox(e,n,e+i,n+r)}},t.Element.image.prototype=new t.Element.RenderedElementBase,t.Element.g=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new t.BoundingBox,n=0;n<this.children.length;n++)e.addBoundingBox(this.children[n].getBoundingBox());return e}},t.Element.g.prototype=new t.Element.RenderedElementBase,t.Element.symbol=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){if(this.baseSetContext(e),this.attribute("viewBox").hasValue()){var n=t.ToNumberArray(this.attribute("viewBox").value),i=n[0],r=n[1];width=n[2],height=n[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,i,r),t.ViewPort.SetCurrent(n[2],n[3])}}},t.Element.symbol.prototype=new t.Element.RenderedElementBase,t.Element.style=function(e){this.base=t.Element.ElementBase,this.base(e);for(var n="",i=0;i<e.childNodes.length;i++)n+=e.childNodes[i].nodeValue;n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),n=t.compressSpaces(n);for(var r=n.split("}"),i=0;i<r.length;i++)if(""!=t.trim(r[i]))for(var o=r[i].split("{"),s=o[0].split(","),a=o[1].split(";"),l=0;l<s.length;l++){var u=t.trim(s[l]);if(""!=u){for(var h={},c=0;c<a.length;c++){var f=a[c].indexOf(":"),d=a[c].substr(0,f),p=a[c].substr(f+1,a[c].length-f);null!=d&&null!=p&&(h[t.trim(d)]=new t.Property(t.trim(d),t.trim(p)))}if(t.Styles[u]=h,"@font-face"==u)for(var g=h["font-family"].value.replace(/"/g,""),m=h.src.value.split(","),v=0;v<m.length;v++)if(m[v].indexOf('format("svg")')>0)for(var y=m[v].indexOf("url"),b=m[v].indexOf(")",y),x=m[v].substr(y+5,b-y-6),w=t.parseXml(t.ajax(x)),_=w.getElementsByTagName("font"),M=0;M<_.length;M++){var C=t.CreateElement(_[M]);t.Definitions[g]=C}}}},t.Element.style.prototype=new t.Element.ElementBase,t.Element.use=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var t=this.getHrefAttribute().getDefinition();return this.attribute("width").hasValue()&&(t.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(t.attribute("height",!0).value=this.attribute("height").value),t},this.path=function(t){var e=this.getDefinition();null!=e&&e.path(t)},this.getBoundingBox=function(){var t=this.getDefinition();if(null!=t)return t.getBoundingBox()},this.renderChildren=function(t){var e=this.getDefinition();if(null!=e){var n=e.parent;e.parent=null,e.render(t),e.parent=n}}},t.Element.use.prototype=new t.Element.RenderedElementBase,t.Element.mask=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e,n){var i=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");if(0==o&&0==s){for(var a=new t.BoundingBox,l=0;l<this.children.length;l++)a.addBoundingBox(this.children[l].getBoundingBox());var i=Math.floor(a.x1),r=Math.floor(a.y1),o=Math.floor(a.width()),s=Math.floor(a.height())}var u=n.attribute("mask").value;n.attribute("mask").value="";var h=document.createElement("canvas");h.width=i+o,h.height=r+s;var c=h.getContext("2d");this.renderChildren(c);var f=document.createElement("canvas");f.width=i+o,f.height=r+s;var d=f.getContext("2d");n.render(d),d.globalCompositeOperation="destination-in",d.fillStyle=c.createPattern(h,"no-repeat"),d.fillRect(0,0,i+o,r+s),e.fillStyle=d.createPattern(f,"no-repeat"),e.fillRect(0,0,i+o,r+s),n.attribute("mask").value=u},this.render=function(t){}},t.Element.mask.prototype=new t.Element.ElementBase,t.Element.clipPath=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e){for(var n=0;n<this.children.length;n++){var i=this.children[n];if("undefined"!=typeof i.path){var r=null;i.attribute("transform").hasValue()&&(r=new t.Transform(i.attribute("transform").value),r.apply(e)),i.path(e),e.clip(),r&&r.unapply(e)}}},this.render=function(t){}},t.Element.clipPath.prototype=new t.Element.ElementBase,t.Element.filter=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e){var n=e.getBoundingBox(),i=Math.floor(n.x1),r=Math.floor(n.y1),o=Math.floor(n.width()),s=Math.floor(n.height()),a=e.style("filter").value;e.style("filter").value="";for(var l=0,u=0,h=0;h<this.children.length;h++){var c=this.children[h].extraFilterDistance||0;l=Math.max(l,c),u=Math.max(u,c)}var f=document.createElement("canvas");f.width=o+2*l,f.height=s+2*u;var d=f.getContext("2d");d.translate(-i+l,-r+u),e.render(d);for(var h=0;h<this.children.length;h++)this.children[h].apply(d,0,0,o+2*l,s+2*u);t.drawImage(f,0,0,o+2*l,s+2*u,i-l,r-u,o+2*l,s+2*u),e.style("filter",!0).value=a},this.render=function(t){}},t.Element.filter.prototype=new t.Element.ElementBase,t.Element.feMorphology=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e,n,i,r){}},t.Element.feMorphology.prototype=new t.Element.ElementBase,t.Element.feColorMatrix=function(e){function n(t,e,n,i,r,o){return t[n*i*4+4*e+o]}function i(t,e,n,i,r,o,s){t[n*i*4+4*e+o]=s}this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e,r,o,s){for(var a=t.getImageData(0,0,o,s),r=0;r<s;r++)for(var e=0;e<o;e++){var l=n(a.data,e,r,o,s,0),u=n(a.data,e,r,o,s,1),h=n(a.data,e,r,o,s,2),c=(l+u+h)/3;i(a.data,e,r,o,s,0,c),i(a.data,e,r,o,s,1,c),i(a.data,e,r,o,s,2,c)}t.clearRect(0,0,o,s),t.putImageData(a,0,0)}},t.Element.feColorMatrix.prototype=new t.Element.ElementBase,t.Element.feGaussianBlur=function(e){this.base=t.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,n,i,r,o){return"undefined"==typeof stackBlurCanvasRGBA?void("undefined"!=typeof console&&console.log("ERROR: StackBlur.js must be included for blur to work")):(e.canvas.id=t.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),stackBlurCanvasRGBA(e.canvas.id,n,i,r,o,this.blurRadius),void document.body.removeChild(e.canvas))}},t.Element.feGaussianBlur.prototype=new t.Element.ElementBase,t.Element.title=function(t){},t.Element.title.prototype=new t.Element.ElementBase,t.Element.desc=function(t){},t.Element.desc.prototype=new t.Element.ElementBase,t.Element.MISSING=function(t){"undefined"!=typeof console&&console.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},t.Element.MISSING.prototype=new t.Element.ElementBase,t.CreateElement=function(e){var n=e.nodeName.replace(/^[^:]+:/,"");n=n.replace(/\-/g,"");var i=null;return i="undefined"!=typeof t.Element[n]?new t.Element[n](e):new t.Element.MISSING(e),i.type=e.nodeName,i},t.load=function(e,n){t.loadXml(e,t.ajax(n))},t.loadXml=function(e,n){t.loadXmlDoc(e,t.parseXml(n))},t.loadXmlDoc=function(e,n){t.init(e);var i=function(t){for(var n=e.canvas;n;)t.x-=n.offsetLeft,t.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(t.x+=window.scrollX),window.scrollY&&(t.y+=window.scrollY),t};1!=t.opts.ignoreMouse&&(e.canvas.onclick=function(e){var n=i(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onclick(n.x,n.y)},e.canvas.onmousemove=function(e){var n=i(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onmousemove(n.x,n.y)});var r=t.CreateElement(n.documentElement);r.root=!0;var o=!0,s=function(){t.ViewPort.Clear(),e.canvas.parentNode&&t.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=t.opts.ignoreDimensions&&(r.style("width").hasValue()&&(e.canvas.width=r.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),r.style("height").hasValue()&&(e.canvas.height=r.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var i=e.canvas.clientWidth||e.canvas.width,s=e.canvas.clientHeight||e.canvas.height;if(1==t.opts.ignoreDimensions&&r.style("width").hasValue()&&r.style("height").hasValue()&&(i=r.style("width").toPixels("x"),s=r.style("height").toPixels("y")),t.ViewPort.SetCurrent(i,s),null!=t.opts.offsetX&&(r.attribute("x",!0).value=t.opts.offsetX),null!=t.opts.offsetY&&(r.attribute("y",!0).value=t.opts.offsetY),null!=t.opts.scaleWidth&&null!=t.opts.scaleHeight){var a=1,l=1,u=t.ToNumberArray(r.attribute("viewBox").value);r.attribute("width").hasValue()?a=r.attribute("width").toPixels("x")/t.opts.scaleWidth:isNaN(u[2])||(a=u[2]/t.opts.scaleWidth),r.attribute("height").hasValue()?l=r.attribute("height").toPixels("y")/t.opts.scaleHeight:isNaN(u[3])||(l=u[3]/t.opts.scaleHeight),r.attribute("width",!0).value=t.opts.scaleWidth,r.attribute("height",!0).value=t.opts.scaleHeight,r.attribute("viewBox",!0).value="0 0 "+i*a+" "+s*l,r.attribute("preserveAspectRatio",!0).value="none"}1!=t.opts.ignoreClear&&e.clearRect(0,0,i,s),r.render(e),o&&(o=!1,"function"==typeof t.opts.renderCallback&&t.opts.renderCallback(n))},a=!0;t.ImagesLoaded()&&(a=!1,s()),t.intervalID=setInterval(function(){var e=!1;if(a&&t.ImagesLoaded()&&(a=!1,e=!0),1!=t.opts.ignoreMouse&&(e|=t.Mouse.hasEvents()),1!=t.opts.ignoreAnimation)for(var n=0;n<t.Animations.length;n++)e|=t.Animations[n].update(1e3/t.FRAMERATE);"function"==typeof t.opts.forceRedraw&&1==t.opts.forceRedraw()&&(e=!0),e&&(s(),t.Mouse.runEvents())},1e3/t.FRAMERATE)},t.stop=function(){t.intervalID&&clearInterval(t.intervalID)},t.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var n=0;n<this.events.length;n++){var i=this.events[n];e.isPointInPath&&e.isPointInPath(i.x,i.y)&&(this.eventElements[n]=t)}},this.checkBoundingBox=function(t,e){for(var n=0;n<this.events.length;n++){var i=this.events[n];e.isPointInBox(i.x,i.y)&&(this.eventElements[n]=t)}},this.runEvents=function(){t.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var n=this.events[e],i=this.eventElements[e];i;)n.run(i),i=i.parent;this.events=[],this.eventElements=[]}},t}this.canvg=function(e,n,i){if(null!=e||null!=n||null!=i){i=i||{},"string"==typeof e&&(e=document.getElementById(e)),
null!=e.svg&&e.svg.stop();var r=t();1==e.childNodes.length&&"OBJECT"==e.childNodes[0].nodeName||(e.svg=r),r.opts=i;var o=e.getContext("2d");"undefined"!=typeof n.documentElement?r.loadXmlDoc(o,n):"<"==n.substr(0,1)?r.loadXml(o,n):r.load(o,n)}else for(var s=document.getElementsByTagName("svg"),a=0;a<s.length;a++){var l=s[a],u=document.createElement("canvas");u.width=l.clientWidth,u.height=l.clientHeight,l.parentNode.insertBefore(u,l),l.parentNode.removeChild(l);var h=document.createElement("div");h.appendChild(l),canvg(u,h.innerHTML)}}}(),"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,n,i,r){canvg(this.canvas,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:n,scaleWidth:i,scaleHeight:r})});